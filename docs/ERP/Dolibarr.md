# 谁使用Dolibarr

Dolibarr是为寻找一个软件来管理他们公司或机构的用户专门设计的，简单方便。

模块化的Dolibarr完全可以适应您的需求，无论什么样的活动。

因此，它被以下类型的用户使用：

- **中小企业**
- **机构**
- **自由职业者**

无法确切地知道世界上有多少用户在使用Dolibarr，因为Dolibarr是由许多我们无法控制的非官方渠道部署的。

我们只能说，我们每周发现3000个新的安装，这仅是从官方网站发现的。而大多数部署是由其它渠道完成的。

估计在世界各地拥有超过100万的用户。

在Dolibarr合作伙伴和供应商的维基页面列表上，列明可以提供分销且支持Dolibarr的申报公司名单。[List_of_Dolibarr_partners_and_providers](https://wiki.dolibarr.org/index.php?title=List_of_Dolibarr_partners_and_providers&action=edit&redlink=1)





# 用户手册

本页是与用户手册相关的文档的主要索引。有关开发者的文档，请参阅 [开发文档](https://wiki.dolibarr.org/index.php?title=开发文档)。

## 目录



- [1功能的快速概述](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.8A.9F.E8.83.BD.E7.9A.84.E5.BF.AB.E9.80.9F.E6.A6.82.E8.BF.B0)
- [2安装|升级|设置](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.AE.89.E8.A3.85.7C.E5.8D.87.E7.BA.A7.7C.E8.AE.BE.E7.BD.AE)
- [3管理](https://wiki.dolibarr.org/index.php?title=用户手册#.E7.AE.A1.E7.90.86)
- [4仪表板](https://wiki.dolibarr.org/index.php?title=用户手册#.E4.BB.AA.E8.A1.A8.E6.9D.BF)
- 5用法（按模块/应用程序）
  - [5.1人力资源管理 (HR)](https://wiki.dolibarr.org/index.php?title=用户手册#.E4.BA.BA.E5.8A.9B.E8.B5.84.E6.BA.90.E7.AE.A1.E7.90.86_.28HR.29)
  - [5.2客户关系管理 (CRM)](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.AE.A2.E6.88.B7.E5.85.B3.E7.B3.BB.E7.AE.A1.E7.90.86_.28CRM.29)
  - [5.3供应商关系管理 (VRM)](https://wiki.dolibarr.org/index.php?title=用户手册#.E4.BE.9B.E5.BA.94.E5.95.86.E5.85.B3.E7.B3.BB.E7.AE.A1.E7.90.86_.28VRM.29)
  - [5.4财务模块 (会计/金库)](https://wiki.dolibarr.org/index.php?title=用户手册#.E8.B4.A2.E5.8A.A1.E6.A8.A1.E5.9D.97_.28.E4.BC.9A.E8.AE.A1.2F.E9.87.91.E5.BA.93.29)
  - [5.5产品管理 (PM)](https://wiki.dolibarr.org/index.php?title=用户手册#.E4.BA.A7.E5.93.81.E7.AE.A1.E7.90.86_.28PM.29)
  - [5.6项目/协同工作](https://wiki.dolibarr.org/index.php?title=用户手册#.E9.A1.B9.E7.9B.AE.2F.E5.8D.8F.E5.90.8C.E5.B7.A5.E4.BD.9C)
  - [5.7电子文档管理 (ECM)](https://wiki.dolibarr.org/index.php?title=用户手册#.E7.94.B5.E5.AD.90.E6.96.87.E6.A1.A3.E7.AE.A1.E7.90.86_.28ECM.29)
  - [5.8多模块工具](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.A4.9A.E6.A8.A1.E5.9D.97.E5.B7.A5.E5.85.B7)
  - [5.9网站和其它前台应用](https://wiki.dolibarr.org/index.php?title=用户手册#.E7.BD.91.E7.AB.99.E5.92.8C.E5.85.B6.E5.AE.83.E5.89.8D.E5.8F.B0.E5.BA.94.E7.94.A8)
  - [5.10与外部系统的接口](https://wiki.dolibarr.org/index.php?title=用户手册#.E4.B8.8E.E5.A4.96.E9.83.A8.E7.B3.BB.E7.BB.9F.E7.9A.84.E6.8E.A5.E5.8F.A3)
  - [5.11系统](https://wiki.dolibarr.org/index.php?title=用户手册#.E7.B3.BB.E7.BB.9F)
  - [5.12外部模块](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.A4.96.E9.83.A8.E6.A8.A1.E5.9D.97)
- [6常见问题（FAQ）](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.B8.B8.E8.A7.81.E9.97.AE.E9.A2.98.EF.BC.88FAQ.EF.BC.89)
- 7视频教程
  - [7.1傻瓜使用手册](https://wiki.dolibarr.org/index.php?title=用户手册#.E5.82.BB.E7.93.9C.E4.BD.BF.E7.94.A8.E6.89.8B.E5.86.8C)

## 功能的快速概述

- [Dolibarr是什么，Dolibarr能做什么](https://wiki.dolibarr.org/index.php?title=Dolibarr是什么？)
- [Dolibarr不是什么，Dolibarr不能做什么？](https://wiki.dolibarr.org/index.php?title=Dolibarr不能做什么？)

## 安装|升级|设置

- [前提/先决条件](https://wiki.dolibarr.org/index.php?title=前提)
- [安装 - 升级](https://wiki.dolibarr.org/index.php?title=安装_-_升级)
- [设置](https://wiki.dolibarr.org/index.php?title=设置)

关于如何使用Dolibarr的文档将在下一章中提供

## 管理

- 迁移：[批量导入](https://wiki.dolibarr.org/index.php?title=批量导入) / [导出](https://wiki.dolibarr.org/index.php?title=导出模块)
- [备份](https://wiki.dolibarr.org/index.php?title=Backups) / [恢复](https://wiki.dolibarr.org/index.php?title=Restores)
- [About 页面](https://wiki.dolibarr.org/index.php?title=About_pages&action=edit&redlink=1)
- [升级](https://wiki.dolibarr.org/index.php?title=Upgrade&action=edit&redlink=1)
- [清除](https://wiki.dolibarr.org/index.php?title=Purge&action=edit&redlink=1)
- [审计](https://wiki.dolibarr.org/index.php?title=Audit&action=edit&redlink=1)
- [用户会话](https://wiki.dolibarr.org/index.php?title=Users_Sessions&action=edit&redlink=1)
- [全球增值税(VAT)更新](https://wiki.dolibarr.org/index.php?title=Global_VAT_Update&action=edit&redlink=1)
- [计划任务](https://wiki.dolibarr.org/index.php?title=计划任务模块)
- [直接打印任务](https://wiki.dolibarr.org/index.php?title=Direct_Printing_jobs&action=edit&redlink=1)
- [批量条形码初始化](https://wiki.dolibarr.org/index.php?title=Mass_barcode_init&action=edit&redlink=1)



## 用法（按模块/应用程序）

学习如何使用Dolibarr就是学习如何使用它的**模块、菜单和功能**。

一旦安装步骤完成（参见前面的章节），首先让我们看看有关使用的常规方法：

- [常规用法](https://wiki.dolibarr.org/index.php?title=用法总说明) (第一步).

了解了常规用法之后，您就可以查看有关所有标准业务模块的文档。选择您感兴趣的模块以查看其文档。标准模块是所有常见安装中默认可用的模块。这是主要模块的列表（也可在[模块列表](https://wiki.dolibarr.org/index.php?title=Category:List_of_Modules)页面上找到） ：

### 人力资源管理 (HR)

|      | **[用户 & 组](https://wiki.dolibarr.org/index.php?title=用户模块)** : 用户/员工和组管理 |
| ---- | ------------------------------------------------------------ |
|      | **[会员](https://wiki.dolibarr.org/index.php?title=会员资格管理模块)** : 基金会会员管理 |
|      | **[休假申请管理](https://wiki.dolibarr.org/index.php?title=休假模块)** : 定义和跟踪员工休假申请 |
|      | **[费用报销](https://wiki.dolibarr.org/index.php?title=费用报销模块)** : 管理费用（交通、餐饮等）报销 |
|      | **招聘** : 管理和跟踪新职位的招聘活动                        |
|      | **[人事管理](https://wiki.dolibarr.org/index.php?title=人力资源管理模块)** : 管理部门，员工合同和员工关怀 |

### 客户关系管理 (CRM)

|      | **[合作方](https://wiki.dolibarr.org/index.php?title=合作方模块)** : 公司和联系人管理（客户、潜在客户、供应商等） |
| ---- | ------------------------------------------------------------ |
|      | **[报价单](https://wiki.dolibarr.org/index.php?title=报价单模块)** : 商业提案/报价单管理 |
|      | **[销售订单](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders)** : 销售订单管理 |
|      | **[发货](https://wiki.dolibarr.org/index.php?title=Module_Shipments)** : 发货和交货单管理 |
|      | **[合同/订阅](https://wiki.dolibarr.org/index.php?title=Module_Contracts)** : 管理合同（服务或定期订阅） |
|      | **[现场服务](https://wiki.dolibarr.org/index.php?title=Module_Interventions_En)** : 管理上门服务（去客户现场为客户服务） |
|      | **[服务工单](https://wiki.dolibarr.org/index.php?title=Module_Ticket)** : 用于线上报告系统错误或新需求的服务工单系统 |
|      | **[知识库管理系统](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management)** : 管理知识库 (KM) 或 服务台基础 |
|      | **伙伴关系管理** : 伙伴关系管理模块                          |

### 供应商关系管理 (VRM)

|      | **[供应商](https://wiki.dolibarr.org/index.php?title=Module_Suppliers_Orders)** : 供应商和采购管理 (采购订单和供应商发票开票) |
| ---- | ------------------------------------------------------------ |
|      | **供应商商业提案** : 请求供应商商业提案和价格                |
|      | **收货** : 供应商收货管理 (创建接收文档)                     |
|      | 国际贸易术语解释通则 : 添加功能来管理**国际贸易术语解释通则** |

### 财务模块 (会计/金库)

|      | **[发票](https://wiki.dolibarr.org/index.php?title=客户发票模块)** : 管理客户的发票和贷项凭单/贷记单/信用证/信用票据。管理供应商的发票和贷项凭单/贷记单/信用证/信用票据 |
| ---- | ------------------------------------------------------------ |
|      | **[税收 & 特别费用](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions)** : 管理其他费用（销售税、社会或财政税、股息等） |
|      | **工资** ：记录和跟踪员工工资支付情况                        |
|      | **贷款** ：贷款管理                                          |
|      | **[捐赠](https://wiki.dolibarr.org/index.php?title=Module_Donations)** : 捐赠管理 |
|      | **[银行 & 现金](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash)** : 管理银行或现金账户 |
|      | **通过贷记转账付款** ：通过信用转账订单管理供应商的付款。它包括为欧洲国家生成SEPA文件。 |
|      | **[直接借记付款](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders)** : 直接借记订单的管理。它包括为欧洲国家生成SEPA文件。 |
|      | **[利润空间](https://wiki.dolibarr.org/index.php?title=Module_Margins)** : 用于跟踪利润空间的模块 |
|      | **[会计 (单式记账法)](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified)** : 基于数据库内容的简单会计报告（日记帐、营业额）。不使用任何分类帐表。 |
|      | **[会计 (复式记账法)](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting)** : 会计管理（复式，支持总账和明细账）。以其他几种会计软件格式导出分类帐 |
|      | **内部报表** ：内部报表管理（支持法语DEB/DES格式) (实验)     |
|      | **资产** ：资产模块 (**开发中)**                             |

### 产品管理 (PM)

|      | **[产品](https://wiki.dolibarr.org/index.php?title=产品模块)** : 产品管理 |
| ---- | ------------------------------------------------------------ |
|      | **[服务](https://wiki.dolibarr.org/index.php?title=服务模块)** : 服务管理 |
|      | **[库存](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En)** : 库存管理 |
|      | **[产品批号](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial)** : 管理产品的批号、序列号、食用保质期/销售保质期 |
|      | **产品变体** : 创建产品变体 (颜色、尺寸等等)                 |
|      | **[物料清单](https://wiki.dolibarr.org/index.php?title=Module_BOM)** : 用于定义物料清单（BOM）的模块。可用于制造订单(MO)模块的制造资源规划(MRP) |
|      | **[制造订单](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders)** : 管理制造订单 (MO) 的模块 |
|      | **[动态定价](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices)** : 使用数学表达式自动生成价格 (实验) |
|      | **[操作工位](https://wiki.dolibarr.org/index.php?title=Module_Workstation)** : 操作工位管理 (**开发中)** |
|      | **高级库存转移** ：库存转移的高级管理，可生成转移单 (开发中) |

### 项目/协同工作

|      | **[项目或销售线索](https://wiki.dolibarr.org/index.php?title=项目模块)** : 管理项目、销售线索/机会和/或任务。您还可以将任何元素（发票、订单、建议/提案、干预等）分配给项目，并从项目视图中获取横向视图。 |
| ---- | ------------------------------------------------------------ |
|      | **[活动/日程](https://wiki.dolibarr.org/index.php?title=日程模块)** : 跟踪活动。出于跟踪目的记录自动事件或记录手动事件或会议。这是优秀的客户或供应商关系管理的主要模块。 |
|      | **[资源](https://wiki.dolibarr.org/index.php?title=Module_Resources)** : 管理用于分配给活动的资源 (打印机、汽车、会议室等) |
|      | **[活动组织](https://wiki.dolibarr.org/index.php?title=活动组织模块)** : 活动的组织通过项目模块进行操作 |

### 电子文档管理 (ECM)

|      | **DMS / ECM** : 文档管理系统 / 电子内容管理。自动组织您生成的或存储的文档。在您需要时共享它们。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

### 多模块工具

|      | **[标签 / 分类](https://wiki.dolibarr.org/index.php?title=Module_Categories)** : 创建标签/分类（产品、客户、供应商、联系人或会员） |
| ---- | ------------------------------------------------------------ |
|      | **所见即所得编辑器** : 允许使用 CKEditor (html) 编辑/格式化文本字段 |
|      | **多币种** ：在价格和单据中使用替代货币                      |
|      | **RSS 源** : 向 Dolibarr 页面添加 RSS feed                   |
|      | **[书签 & 快捷方式](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks)** : 为您经常访问的内部或外部页面创建始终可访问的快捷方式 |
|      | **[条形码](https://wiki.dolibarr.org/index.php?title=Module_Barcode)** : 条形码或二维码管理 |
|      | **[模块间工作流](https://wiki.dolibarr.org/index.php?title=工作流模块)** : 不同模块之间的工作流管理（自动创建对象和/或自动更改状态） |
|      | **[数据导入](https://wiki.dolibarr.org/index.php?title=导入模块)** : 将数据导入 Dolibarr 的工具(在协助下) |
|      | **[数据导出](https://wiki.dolibarr.org/index.php?title=导出模块)** : 导出 Dolibarr 数据的工具 (在协助下) |
|      | **便签** : 便签管理 (**开发中)**                             |
|      | **文档生成**: 生成群发电子邮件文档 (**开发中)**              |
|      | **数据隐私政策** ：管理数据隐私的模块（符合GDPR） (实验)     |
|      | **[模块和应用程序构建器](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder)** : 一种 RAD（快速应用程序开发）工具，可帮助开发人员构建自己的模块。 |

### 网站和其它前台应用

|     | **问卷、调查或投票** : 创建在线问卷，调查或投票 (类似 Doodle、Studs、RDVz 等等)                                                                                                                                               |
| --- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     | **[网站](https://wiki.dolibarr.org/index.php?title=Module_Website)** : 使用所见即所得编辑器创建网站（公共）。这是一个面向网站管理员或开发人员的CMS（最好了解HTML和CSS语言）。只需设置您的Web服务器（Apache，Nginx，...）指向专用的Dolibarr目录，即可使用您自己的域名在 Internet 上线。 |
|     | **协作** ：启用公共协作功能，如共享便笺簿、共享在线工作表等 (开发中)                                                                                                                                                              |
|     | **[POS TakePOS](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS))** : 销售点模块TakePOS（触摸屏POS，适用于商店、酒吧或餐馆）。                                                                     |

### 与外部系统的接口

|                                                                                                                                                                                                          | **社交网络** ：启用第三方伙伴和地址的社交网络字段（skype，twitter，facebook，...）。                                                                                                        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                                                          | **[商业活动通知](https://wiki.dolibarr.org/index.php?title=Module_Notification)** : 发送由商业活动触发的电子邮件通知：按用户（在每个用户上定义的设置）、按第三方联系人（在每个第三方上定义的设置）或通过特定电子邮件发送                |
|                                                                                                                                                                                                          | **[群发电子邮件](https://wiki.dolibarr.org/index.php?title=Module_EMailing)** : 管理群发邮件                                                                                |
|                                                                                                                                                                                                          | **[电子邮件收集器](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector)** : 添加计划作业和设置页面，以定期扫描电子邮箱（使用IMAP协议），并在应用程序的正确位置记录收到的电子邮件和/或自动创建一些记录（如销售线索）。       |
|                                                                                                                                                                                                          | **[API/Web 服务 (REST 服务器)](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer))** : 启用 Dolibarr REST 服务器提供API服务                   |
|                                                                                                                                                                                                          | **[API/Web 服务 (SOAP 服务器)](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP)** : 启用 Dolibarr SOAP 服务器提供API服务                               |
|                                                                                                                                                                                                          | **调用 WebServices (SOAP 客户端)** : 启用 Dolibarr Web 服务客户端（可用于将数据/请求推送到外部服务器。目前仅支持采购订单。) (实验)                                                                        |
| **[![Object zapier.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3f8e9e3e6dea6fcbe0f8a8dd6108ae03.png)](https://wiki.dolibarr.org/index.php?title=File:Object_zapier.png)**                | **[Zapier](https://wiki.dolibarr.org/index.php?title=Module_Zapier)** : 与 Zapier 的接口 (开发中)                                                                      |
|                                                                                                                                                                                                          | **[LDAP](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En)** : LDAP 目录同步                                                                                |
|                                                                                                                                                                                                          | **[OAuth](https://wiki.dolibarr.org/index.php?title=Module_OAuth)** : 启用 OAuth 身份认证                                                                             |
|                                                                                                                                                                                                          | **外部网站** ：添加指向外部网站的链接作为主菜单图标。网站显示在顶部菜单下的框架中。                                                                                                                    |
|                                                                                                                                                                                                          | **[FTP](https://wiki.dolibarr.org/index.php?title=Module_FTP_En)** : FTP 客户端                                                                                    |
| **[![IP address icon.png](https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/IP_address_icon.png/40px-IP_address_icon.png)](https://wiki.dolibarr.org/index.php?title=File:IP_address_icon.png)** | **GeoIPMaxmind** : GeoIP Maxmind 转换功能                                                                                                                           |
| **[![Object paybox.png](https://wiki.dolibarr.org/images/thumb/3/36/Object_paybox.png/32px-Object_paybox.png)](https://wiki.dolibarr.org/index.php?title=File:Object_paybox.png)**                       | **PayBox** : 为客户提供 PayBox 在线支付页面（信用卡/借记卡）。这可用于允许您的客户进行临时付款或与特定Dolibarr对象（发票，订单等）相关的付款。                                                                          |
| **[![Object paypal.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/b77e5ec6e45c74fbbe3e73d787b85137.png)](https://wiki.dolibarr.org/index.php?title=File:Object_paypal.png)**                | **[Paypal](https://wiki.dolibarr.org/index.php?title=Module_PayPal_En)** : 为客户提供 PayPal 在线支付页面（PayPal帐户或信用卡/借记卡）。这可用于允许您的客户进行临时付款或与特定 Dolibarr 对象（发票、订单等）相关的付款。 |
|                                                                                                                                                                                                          | **[Stripe](https://wiki.dolibarr.org/index.php?title=Module_Stripe)** : 为客户提供 Stripe 在线支付页面（信用卡/借记卡）。这可用于允许您的客户进行临时付款或与特定 Dolibarr 对象（发票、订单等）相关的付款。             |
|                                                                                                                                                                                                          | **[ClickToDial](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En)** : 集成 ClickToDial 系统 (Asterisk, ...)                                          |
|                                                                                                                                                                                                          | **一键打印** ：启用一键打印系统                                                                                                                                              |
|                                                                                                                                                                                                          | **发票打印机** ：设置发票打印机                                                                                                                                              |
|                                                                                                                                                                                                          | **Mailman 及 SPIP** : 会员模块的 Mailman 或 SPIP 接口                                                                                                                    |
| **[![Object gravatar.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/f02658e618549922a27b7cf6e5d96c79.png)](https://wiki.dolibarr.org/index.php?title=File:Object_gravatar.png)**            | **Gravatar** : 使用在线Gravatar服务（www.gravatar.com）显示用户/会员的头像（通过他们的电子邮件找到）。需要接入互联网                                                                                  |
|                                                                                                                                                                                                          | **[Dav](https://wiki.dolibarr.org/index.php?title=Module_DAV)** : 设置 WebDAV 服务器                                                                                 |
|                                                                                                                                                                                                          | **[Webhook](https://wiki.dolibarr.org/index.php?title=Module_Webhook)** : 用于捕获 dolibarr 触发器并将其发送到 URL 的接口                                                       |

### 系统

|      | **[计划任务](https://wiki.dolibarr.org/index.php?title=计划任务模块)** : 计划任务的管理器 (别名 cron 或 chrono table) |
| ---- | ------------------------------------------------------------ |
|      | **调试日志** ：日志记录工具（file、syslog等）。此类日志用于技术/调试目的 |
|      | **调试栏** ：为开发者在浏览器中添加调试栏的工具。            |
|      | **[防篡改日志](https://wiki.dolibarr.org/index.php?title=防篡改日志模块)** : 启用防篡改的商务操作日志。操作被实时存档。操作日志是只读的、可导出的链式活动表。对于某些国家/地区，此模块可能是被强制性使用的。 |

### 外部模块

外部模块是可以从官方来源以外的其他来源获得的模块。它们由第三方提供。其中大部分可以在市场 [h](https://www.dolistore.com/)[ttps://www.dolistore.com](https://www.dolistore.com/) 上找到。外部模块列表和其定义在页面 [Complementary modules](https://wiki.dolibarr.org/index.php?title=Category:Complementary_modules) 上。

## 常见问题（FAQ）

所有常见问题都可以通过索引页面 [FAQ EN](https://wiki.dolibarr.org/index.php?title=Category:FAQ_EN) 找到

参见 [术语表](https://wiki.dolibarr.org/index.php?title=术语表)



### 傻瓜使用手册

[傻瓜使用手册](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册)





# Dolibarr是什么？

**Dolibarr ERP & CRM** 是一款开源和免费的，面向 **小微企业，自由职业者**等企业，用于资源规划和客户关系管理的软件套装。

您也可以将 Dolibarr 理解为 ERP 或 CRM (依据您启用的模块而决定是ERP或是CRM)。

它是一款以您激活启用的模块来构造的软件系统 (以您的需求来激活启用相应功能模块)。

Dolibarr软件系统运行于 WAMP, MAMP 或者 LAMP 等服务器 (服务器得安装有Apache＋Mysql＋PHP 或者byiz注：Nginx+Mysql+PHP本人测试也是正常跑Dolibarr的，可用lnmp.org军哥的一键安装包构建服务器环境＋Dolibarr的PHP源文件搭)。 Dolibarr 的愿景很简单仅仅只是想尝试着开发出一款 ERP 和 CRM 合体的系统软件：

- 易于安装
- 易于使用
- 易于开发

请确保 Dolibarr ERP／CRM 软件系统的 **auto-installers 自动一键安装程序** 包含在 **Dolibarr安装套装及其相关服务依赖套装 (如Apache, Mysql, PHP)** 在内。这些类似的套装包大概如以下 :

- [DoliWamp](https://wiki.dolibarr.org/index.php?title=DoliWamp), 专用于Windows 操作系统用户的 auto-exe installer服务器环境一键安装包。
- [DoliMamp](https://wiki.dolibarr.org/index.php?title=DoliMamp), 专用于 Mac OS X 苹果操作系统用户的 auto-exe installer服务器环境一键安装包。
- [DoliDeb](https://wiki.dolibarr.org/index.php?title=Dolibarr_for_Ubuntu_or_Debian), 专用于Linux Debian/Ubuntu 操作系统用户的 auto-exe installer服务器环境一键安装包。
- [DoliRpm](https://wiki.dolibarr.org/index.php?title=Dolibarr_for_Redhat_or_Fedora_(rpm_package)), 专用于 Linux RedHat/Fedora/OpenSuse/Mandriva/Mageia 操作系统用户的 auto-exe installer服务器环境一键安装包。

"通用"的版本还支持所有其他操作系统和大部分的云计算解决方案。


以下为Dolibarr 的主要功能模块的概述...

## [![Art.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bbfabdca9ca9c01c9681ad0474c9ce6d.png)](https://wiki.dolibarr.org/index.php?title=File:Art.png) 主要功能模块

- 客户、 前景或供应商目录功能
- 产品和服务管理功能
- 库存管理功能
- 银行账户管理功能
- 商业操作管理功能
- 订单管理功能
- 商业建议管理功能
- 合同管理功能
- 发票管理功能
- 付款管理功能
- 询单管理功能
- 物流管理功能
- 费用报告管理功能
- 社会和财政税款支付功能
- 日历导出支持 ical、vcal 格式，以便第三方工具集成
- EDM (电子文档管理)功能
- 组织会员管理功能
- 员工请假功能
- 邮件群发功能
- Realize surveys调查问卷功能
- POS功能
- 捐赠管理
- 报表功能
- 生成PDF文档的功能 (发票, 建议, 订单, 等生成PDF文档...)
- 导入导出工具 (CSV 或 Excel)
- 书签管理功能
- LDAP 连接功能
- 更多外部扩展模块请参考 [DoliStore.com](http://www.dolistore.com/) (主题皮肤, 谷歌同步, AWStats, Bittorrent, Gravatar, ...)。

## [![Art.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bbfabdca9ca9c01c9681ad0474c9ce6d.png)](https://wiki.dolibarr.org/index.php?title=File:Art.png) 杂项

- 多用户，为不同功能特征设置多层权限级别。
- 界面简单，容易操作。
- 高度可定制: 按需启用, 填入用户资料, 选择主题皮肤, 若干菜单管理 (既可用于后台用户特定菜单, 又可用于前台用户)。
- 运行环境基于 PHP **7.1.0+**, MySql **5.1+** 或 MariaDB **5.1+** 或 PostgreSQL **9.1.0+**。
- 专用于 Windows、Debian/Ubuntu、Fedora/Redhat/OpenSuse 在线云服务器的一键安装包。也兼容所有满足 PHP、MySQL 或 PostgreSQL 先决条件的云解决方案（例如，在以下云供应商上：[http://saas.dolibarr.org](http://saas.dolibarr.org/)）。
- 易于理解和维护的接口，与您自己的系统信息进行交互（使用 PHP，无重型框架，触发器和钩子架构）。
- 特殊国家的特色支持：
  - 西班牙的 Tax RE 和 IRPF。
  - 法国的 NPR 增值税税率（VAT 称为“Non Perçue Récupérable”用于 DOM-TOM 地区）。
  - 加拿大的 double taxes (federal/province) 和 其他国家所用的 cumulative VAT。
  - 突尼斯 tax stamp。
  - 兼容欧盟指令 (2006/112/CE ... 2010/45/UE) [[1\]](http://europa.eu/legislation_summaries/taxation/l31057_en.htm)
  - ...

下面的页面描述了Dolibarr（还）未提供的功能: [Zh What Dolibarr can't do](https://wiki.dolibarr.org/index.php?title=Zh_What_Dolibarr_can't_do)

## [![Art.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bbfabdca9ca9c01c9681ad0474c9ce6d.png)](https://wiki.dolibarr.org/index.php?title=File:Art.png) Dolibarr 版本

- Dolibarr 版本定义列表参见 [Category:RoadMap](https://wiki.dolibarr.org/index.php?title=Category:RoadMap)





# Dolibarr不能做什么？

即使在最新的Dolibarr版本中，这些功能也不可用:

- Dolibarr不包含工资模块。
- 项目模块上的任务不能相互依赖。
- Dolibarr不包括任何Webmail。
- 两党会计自6.0起可供使用，但报告尚未完成。
- 要管理多个公司或基金会，使用一个安装，您需要在[www.dolistore.com](https://www.dolistore.com/)上添加[购买[模块多公司] ]。请注意，如果不购买这个额外的模块，您仍然可以根据需要制造多个公司的安装，但是您将无法在它们之间共享元素（如客户）。
- Dolibarr 不能做咖啡（还没有）。


如果您正在寻找可用的特性，请参阅页面[Dolibarr是什么？](https://wiki.dolibarr.org/index.php?title=Dolibarr是什么？)。







# 前提



Dolibarr 构建于以下组件：

## 目录



- [1操作系统](https://wiki.dolibarr.org/index.php?title=前提#.E6.93.8D.E4.BD.9C.E7.B3.BB.E7.BB.9F)
- [2数据库](https://wiki.dolibarr.org/index.php?title=前提#.E6.95.B0.E6.8D.AE.E5.BA.93)
- [3PHP](https://wiki.dolibarr.org/index.php?title=前提#PHP)
- [4磁盘空间](https://wiki.dolibarr.org/index.php?title=前提#.E7.A3.81.E7.9B.98.E7.A9.BA.E9.97.B4)
- [5CPU](https://wiki.dolibarr.org/index.php?title=前提#CPU)

## 操作系统

- 每个操作系统都支持.

如：GNU/Linux, BSD, Windows, MacOS, Aix, ...


**提醒 Windows 7 用户:**

```
在使用 Windows 7 时，  Visual C++ Redistributable for Visual Studio 2012 Update 4 必须安装.  
缺失的话，安装过程中会提示错误消息：
 Make sure you choose the 32-bit version (vcredist_x86.exe).
它可以在这里获得：
* https://www.microsoft.com/en-us/download/details.aspx?id=30679
```

## 数据库

- Mysql **5.1+** (any Mysql options/parameters supported). 不要使用 Mysql version 5.5.40 或者 5.5.41, 此版本有致命BUGS会丢失数据。

如果使用 mode=STRICT 选项返回了一些警告或错误，请向我们报告。

- MariaDb **5.1+**
- PostgresSql **9.1.0+**
- MSSql (实验性支持尚未生效)
- 数据库需求量低于 **1Mb per 100** 用户/供应商。

## PHP

- 版本 **7.1.0+**
- 必须启用对用户会话的支持（它是PHP的默认值）
- 会工作不管 magick_quotes 参数的设置
- 会工作不管 register_globals 参数的设置
- 会工作不管 safe_mode 参数的设置

- PHP 配置必须允许使用最多 128Mb 的内存（参数 PHP memory_limit）。

## 磁盘空间

- 程序文件需求至少 **80Mb** 的存储空间.

但是，如果上传连接的文件或存储生成的PDF或ODT文档，则需要更多的磁盘空间。存储将取决于所附文件的数量和大小。

## CPU

任何硬件配置都足以使Dolibarr工作，甚至是一个老式的英特尔/奔腾处理器。 如果您有超过50个用户，建议使用1GHz的CPU或更多。





![](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1867071d98f895f04a47713d99f13b09.png)







# 设置

在Dolibarr安装之后，必须设置Dolibarr参数以满足您的需要。

## 目录



- [1企业/组织](https://wiki.dolibarr.org/index.php?title=设置#.E4.BC.81.E4.B8.9A.2F.E7.BB.84.E7.BB.87)
- [2模块](https://wiki.dolibarr.org/index.php?title=设置#.E6.A8.A1.E5.9D.97)
- [3菜单](https://wiki.dolibarr.org/index.php?title=设置#.E8.8F.9C.E5.8D.95)
- [4显示](https://wiki.dolibarr.org/index.php?title=设置#.E6.98.BE.E7.A4.BA)
- [5其他（框体、警告、安全设置、限制与精度、电子邮件、短信、字典设置...）](https://wiki.dolibarr.org/index.php?title=设置#.E5.85.B6.E4.BB.96_.28Boxes.2C_Alerts.2C_Security.2C_Limits_and_accuracy.2C_Emails.2C_SMS.2C_Dictionary_setup....29)
- [6用户](https://wiki.dolibarr.org/index.php?title=设置#.E7.94.A8.E6.88.B7)

## 企业/组织

第一个强制性步骤是定义你的企业/组织。为此，从主页中选择“主页”->设置>企业/组织*，并编辑您想要管理的企业/组织的信息。*

- **名称:**企业/组织的名称
- **Logo标志:** 在这里加上你公司的标志 (.png, .jpg or .gif). 没有推荐的大小，但推荐格式是PNG没有透明层（Dolibarr使用不支持这种格式的FPDF）.
- **国家** 别忘了定义你的国家，因为其他的选择取决于它。
- **增值税管理:** 也告诉你是否必须管理增值税。

## 模块

激活模块是第二个强制性步骤。你将激活哪些模块取决于你想用Dolibarr做什么。在大多数情况下，您可能希望使用所有模块。你必须逐个激活每个你计划使用的模块。例如，为了管理一个公司，你可以激活模块：第三方，发票和产品，但可能有更多的模块。

若要激活所需的模块，请转到“首页”>设置>模块*，然后单击“状态”列中的“ON/OFF”按钮来启用它。*

标准模块列表定义在页面： [List of Modules](https://wiki.dolibarr.org/index.php?title=Category:List_of_Modules).

如果你不确定模块的含义，你可以一个一个地激活它，看看Dolibarr中出现了什么新的菜单（水平栏，也就是在激活了一个模块之后，检查你自己是否对启用的新特性授予了权限）。您可以在需要时激活或禁用模块。

一旦一个模块被激活，其中的一些模块可能需要一个特定的设置（如果模块需要自己的设置，点击在模块行右边出现的安装图标）。 见 [documentation of module](https://wiki.dolibarr.org/index.php?title=Category:List_of_Modules)。

## 菜单

在这里选择要为内部用户和外部用户使用的菜单管理器。菜单管理器更改左侧菜单和顶部菜单的标签、顺序和组织。 见 [Menus system](https://wiki.dolibarr.org/index.php?title=Menus_system) 。

## 显示

在这个页面上，您可以定义应用程序的强制语言和屏幕的外观和感觉。在第一次使用中，可以用默认值保存所有内容。

*注意:* 在这个屏幕上激活多语言选项，您将能够设置客户的首选语言以用自己的语言打印他们的Invocie/Propal/Order。产品翻译也将是可用的。

## 其他（框体、警告、安全设置、限制与精度、电子邮件、短信、字典设置...）

设置菜单中的其他条目是高级选项，如果你不想使用，可以忽略它们。

- [设置框](https://wiki.dolibarr.org/index.php?title=Setup_Boxes&action=edit&redlink=1)
- [设置告警](https://wiki.dolibarr.org/index.php?title=Setup_Alerts)
- [设置安全](https://wiki.dolibarr.org/index.php?title=Setup_Security)
- [设置限制和精度](https://wiki.dolibarr.org/index.php?title=Setup_Limits_and_accuracy)
- [设置 PDF](https://wiki.dolibarr.org/index.php?title=Setup_PDF)
- [设置 邮件](https://wiki.dolibarr.org/index.php?title=Setup_EMails)
- [设置 短信](https://wiki.dolibarr.org/index.php?title=Setup_SMS)
- [设置词典](https://wiki.dolibarr.org/index.php?title=Setup_Dictionnary)
- [其他设置](https://wiki.dolibarr.org/index.php?title=Setup_Other)

## 用户

最后一步是创建用户并分配权限。几乎所有的模块，即使被激活较早，都是不可访问的，如果你不给许可。要做到这一点，你可以到菜单“主页”>“用户和组”来定义用户和他们的权限。注意，在启用新模块时，应考虑检查和重置用户权限。可用的权限列表取决于激活的模块（见上文）。建议在激活要使用的模块后配置权限。对于某些行为，如果您没有权利采取行动，Dolibarr将不显示您的行动。你可能会错过一些有用的或重要的特征。为了给用户或您自己提供权限，如果您是管理员，请转到“主页”>“用户和组”，选择所需的用户，然后单击其“权限”选项卡。

通过配置菜单上的默认权限，可以通过配置默认权限（每次创建新用户时自动理解的权限）来避免每个新创建的用户的这些配置步骤。 [Setup Security](https://wiki.dolibarr.org/index.php?title=Setup_Security).







# 批量导入

新安装的 Dolibarr ，数据库是空的。导入现有数据（供应商、客户、产品等）而不是手工输入数据是一种常见的要求。

有几种可能的导入数据的方法。在以下章节中提供有关这方面的信息。

有关导出数据的信息在页面 [导出模块](https://wiki.dolibarr.org/index.php?title=导出模块) 中提供。

请注意，如果从另一个Dolibarr数据库导入数据，则不应使用批量导入/导出（专用于与其他系统的导入/导出），而应使用以下程序：[保障措施](https://wiki.dolibarr.org/index.php?title=Sauvegardes)和[恢复](https://wiki.dolibarr.org/index.php?title=Restaurations).。

## 目录



- [1使用 Dolibarr 导入模块](https://wiki.dolibarr.org/index.php?title=批量导入#.E4.BD.BF.E7.94.A8_Dolibarr_.E5.AF.BC.E5.85.A5.E6.A8.A1.E5.9D.97)
- [2使用 OpenOffice](https://wiki.dolibarr.org/index.php?title=批量导入#.E4.BD.BF.E7.94.A8OpenOffice)
- 3开发自己的导入脚本
  - 3.1导入合作方及联系人
    - [3.1.1导入Excel文件（CSV或XLSX）时某些导入字段的特殊说明](https://wiki.dolibarr.org/index.php?title=批量导入#.E5.AF.BC.E5.85.A5Excel.E6.96.87.E4.BB.B6.EF.BC.88CSV.E6.88.96XLSX.EF.BC.89.E6.97.B6.E6.9F.90.E4.BA.9B.E5.AF.BC.E5.85.A5.E5.AD.97.E6.AE.B5.E7.9A.84.E7.89.B9.E6.AE.8A.E8.AF.B4.E6.98.8E)
  - [3.2导入发票](https://wiki.dolibarr.org/index.php?title=批量导入#.E5.AF.BC.E5.85.A5.E5.8F.91.E7.A5.A8)
  - [3.3导入产品或服务](https://wiki.dolibarr.org/index.php?title=批量导入#.E5.AF.BC.E5.85.A5.E4.BA.A7.E5.93.81.E6.88.96.E6.9C.8D.E5.8A.A1)
  - [3.4付诸实施](https://wiki.dolibarr.org/index.php?title=批量导入#.E4.BB.98.E8.AF.B8.E5.AE.9E.E6.96.BD)
  - [3.5社区提交的一些教程/范例](https://wiki.dolibarr.org/index.php?title=批量导入#.E7.A4.BE.E5.8C.BA.E6.8F.90.E4.BA.A4.E7.9A.84.E4.B8.80.E4.BA.9B.E6.95.99.E7.A8.8B.2F.E8.8C.83.E4.BE.8B)
- [4相关视频](https://wiki.dolibarr.org/index.php?title=批量导入#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## [![Art.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bbfabdca9ca9c01c9681ad0474c9ce6d.png)](https://wiki.dolibarr.org/index.php?title=File:Art.png) 使用 Dolibarr 导入模块

导入数据的推荐方法是使用Dolibarr的导入模块。它提供了一个助手，引导您一步一步地导入您的数据。

有关更多信息，请参阅页面 [导入模块](https://wiki.dolibarr.org/index.php?title=导入模块)。

对于内置的导入模块未涵盖的导入场景，也可以使用以下替代方案。

## [![OpenOffice.png](https://wiki.dolibarr.org/images/6/6f/OpenOffice.png)](https://wiki.dolibarr.org/index.php?title=File:OpenOffice.png) 使用OpenOffice 

您可以使用OpenOffice，它能够将表的内容插入到数据库中，如Mysql Dolibarr。 下面是有关此方法的教程：[Import data with OpenOffice](https://wiki.dolibarr.org/index.php?title=Import_data_with_OpenOffice) 。

## [![Outils.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3e9ef4b996b388abc6f00d8a807c7e66.png)](https://wiki.dolibarr.org/index.php?title=File:Outils.png) 开发自己的导入脚本

### 导入合作方及联系人

必须区分合作方和物理联系人（自然人）。合作方包括所有需要结算的实体（公司、协会和个人）。合作方是强制性的。物理联系人是可选的。联系人只是一个与合作方相关的自然人/地址的目录。在合作方是公司的情况下，可能存在多个物理联系人。在合作方是个人的情况下，物理联系人将是唯一的，并且与合作方相同。

合作方的导入将在 [表llx_societe](https://wiki.dolibarr.org/index.php?title=Table_llx_societe) 中插入数据行。要确保以下必填字段包含数据（不为空）。

- Name：必须包含公司名称
- Client：必须包含客户类型，1为客户，2为准客户，3为准客户/客户，0为其他
- Supplier：必须包含供应商标志，1为供应商，0为其他

物理联系人的导入将在 [表llx_socpeople](https://wiki.dolibarr.org/index.php?title=Table_llx_socpeople) 中插入数据行。要确保以下必填字段包含数据（不为空）。

- Name：必须包含此人的姓氏
- Firstname：必须包含此人的名字
- fk_soc： 必须包含合作方的 ID（[表llx_societe](https://wiki.dolibarr.org/index.php?title=Table_llx_societe) 中的）。

#### 导入Excel文件（CSV或XLSX）时某些导入字段的特殊说明

- **日期**类型的字段可以使用Excel中的功能设置默认格式（即2022/01/19或2022-01-19）。您必须在Excel中高亮显示该列，并使用<CRTL><1>进入格式菜单。点击“日期”并选择格式“2022-01-19”。然后单击“自定义”，您将看到格式信息“yyyy-mm-dd，-@”。删除破折号和dd之后的字符。现在，导入所需的所有内容都将显示在Excel列中。
- 对于**国家**（字段**Country**），尽管Dolibarr显示完整拼写的名称，如“United States”，但Dolibarr仅导入两位数的国家代码。世界各国的完整列表可以在这里找到：[**Country Codes**](https://laendercode.net/en/2-letter-list.html)
- 对于**州/省**（字段**State/Province**）类似于国家代码（特别是美国各州），例如显示为“MA - Massachusetts”的，Dolibarr只需要导入两位数的州代码。美国的州代码列表可在这里找到：**[United States](https://www.faa.gov/air_traffic/publications/atpubs/cnt_html/appendix_a.html) 。**加拿大|澳大利亚|巴西|墨西哥和法国是3位的代码： **[Canada](https://www.ncbi.nlm.nih.gov/books/NBK7254/) | [Australia](https://kb.bullseyelocations.com/article/42-australia-state-codes) | [Brazil](https://brazil-help.com/brazilian_states.htm) | [Mexico](https://kb.bullseyelocations.com/article/67-mexico-state-codes)** **|** **[France](https://kb.bullseyelocations.com/article/57-france-state-codes)** 。

### 导入发票

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 正在等待页面完成。完成操作，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)页面是未完成的状态。要完成，请创建一个账户，返回页面并点击“编辑”。 

### 导入产品或服务

产品或服务的导入将在 [表llx_product](https://wiki.dolibarr.org/index.php?title=Table_llx_product) 中插入数据行。要确保以下必填字段包含数据（不为空）：

- Ref：必须包含产品的简短编号
- Label：必须包含产品名称
- Type：必须包含产品类型：0=常规产品，1=服务，9=其他（由外部模块使用）

### 付诸实施

```
页面 脚本开发 介绍了如何创建自己的Dolibarr脚本。
```

### 社区提交的一些教程/范例

Dolibarr的快照分发版提供了一些脚本示例，在目录**/dev/examples**中。

其他示例由贡献者提供：

- [自动导入客户](https://wiki.dolibarr.org/index.php?title=Importing_customers_automatically)
- ...





# 导出模块

- [1简介](https://wiki.dolibarr.org/index.php?title=导出模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=导出模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=导出模块#.E9.85.8D.E7.BD.AE)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=导出模块#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95)
- [5开发自己的导出脚本](https://wiki.dolibarr.org/index.php?title=导出模块#.E5.BC.80.E5.8F.91.E8.87.AA.E5.B7.B1.E7.9A.84.E5.AF.BC.E5.87.BA.E8.84.9A.E6.9C.AC)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=导出模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

本模块用于导出 Dolibarr 数据。从 Dolibarr 导出数据还有其它方法，如下所述。

批量导入请参见页面 [批量导入](https://wiki.dolibarr.org/index.php?title=批量导入) 。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 使用方法

1. 前往菜单 “ 工具 -> 导出助手 -> 新建导出 ”，然后选择一个预定义的数据集。
2. 选择由您预定义的导出配置文件或手动选择要包含在导出文件中的字段。
3. 添加一个您希望放置在这些字段值上的任何过滤值。
4. 更改导出文件中字段/列的位置顺序。您可以将所做的选择保存为导出配置文件/模板以备将来使用。
5. 从下拉列表中选择导出文件的格式。可能的格式有 CSV/TSV（文本文件）或 XLS 2007/95（原生Excel文件）。单击“生成”。

几秒钟后，将显示一个指向该文件的链接以供下载。

## [![Outils.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3e9ef4b996b388abc6f00d8a807c7e66.png)](https://wiki.dolibarr.org/index.php?title=File:Outils.png) 开发自己的导出脚本

如果没有符合您需求的预定义数据集，并且您具有一定的计算机编程知识，您也可以开发自己的脚本。

任何语言都可以使用，只要这种语言能读取数据库即可。

您只需读取要导出的表，并以您喜欢的格式制作导出文件。

因此，唯一的先决条件是知道哪个表包含要导出的数据。

为了帮助您，页面 [Table SQL](https://wiki.dolibarr.org/index.php?title=Category:Table_SQL) 列出了 Dolibarr 使用的所有表。

请注意：2.6以上的版本允许"admin"用户在使用导出模块时查看用于构建导出文件内容的SQL代码。这在生成文件时显示。







# 备份

## 目录



- [1为什么？](https://wiki.dolibarr.org/index.php?title=Backups#Why_.3F)
- 2要保存什么？
  - [2.1A) 数据库](https://wiki.dolibarr.org/index.php?title=Backups#A.29_The_database)
  - [2.2B) 文件](https://wiki.dolibarr.org/index.php?title=Backups#B.29_Documents)
  - [2.3C) 配置文件](https://wiki.dolibarr.org/index.php?title=Backups#C.29_The_configuration_file)
  - [2.4D) 代码更改](https://wiki.dolibarr.org/index.php?title=Backups#D.29_Code_changes)
- [3何时进行？](https://wiki.dolibarr.org/index.php?title=Backups#When_.3F)
- 4如何进行？
  - 4.1A) 数据库
    - [4.1.1使用 Dolibarr 系统备份工具](https://wiki.dolibarr.org/index.php?title=Backups#Using_Dolibarr_system_backup_tool)
    - [4.1.2使用 mysqldump](https://wiki.dolibarr.org/index.php?title=Backups#Using_mysqldump)
    - [4.1.3使用 phpMyAdmin](https://wiki.dolibarr.org/index.php?title=Backups#Using_phpMyAdmin)
    - [4.1.4使用其他第三方工具](https://wiki.dolibarr.org/index.php?title=Backups#Using_another_Third-Party_Tools)
  - [4.2B) 文档](https://wiki.dolibarr.org/index.php?title=Backups#B.29_The_documents)
  - [4.3C) 配置文件](https://wiki.dolibarr.org/index.php?title=Backups#C.29_The_configuration_file_2)
- [5恢复](https://wiki.dolibarr.org/index.php?title=Backups#Restore)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=Backups#Related_videos)

## [![Who.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/313274ccfbc6586080382c481cd00264.png) ](https://wiki.dolibarr.org/index.php?title=File:Who.png)为什么？

进行完整备份 Dolibarr 实例的原因有很多。例如：

- 因为你计划进行升级，并且如果升级失败，希望可以回退到之前的版本。
- 因为你想要将 Dolibarr 从一个服务器迁移到另一个服务器。
- 当然，为了以防万一（如硬盘损坏、黑客攻击导致的数据损坏等），你还需要能够进行恢复。

出于以上所有原因，建议定期为 Dolibarr 使用和保存的所有数据创建新的备份。

## [![Who.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/313274ccfbc6586080382c481cd00264.png) ](https://wiki.dolibarr.org/index.php?title=File:Who.png)需要保存哪些内容？

Dolibarr 将其数据保存在三个不同的空间中。每次版本升级前都必须保存这些数据，以确保在出现问题或想要回退到之前版本时能够恢复数据。你需要保存这三种类型的数据，以确保不会丢失任何内容。

### A) 数据库

数据库包含了你通过 Dolibarr 界面添加的所有数据（除了附带生成的文件，这些文件将在下一章节中介绍）。保存数据库时，应以整体方式保存（所有内容）。建议定期保存数据库。请参阅本文档后文的“如何操作”章节。

### B) 文档

与您的 Dolibarr 实例相关的所有文档都保存在您的配置文件 `dolibarrdir/htdocs/conf/conf.php` 中定义的目录中。如果您在首次安装时选择了默认选项，那么这个目录应该是类似于 `dolibarrdir/documents` 的路径。这个目录必须完全保存。在进行升级时，升级过程不应该改变这个目录，但是这个目录可以随时被 Web 服务器读取和写入，可能会因为错误的操作或 bug 而被修改。为了确保保留所有您的文件并能够在它们意外被删除或修改时恢复它们，只需复制这个目录中的所有内容即可。

注意：复制包含所有文档的整个文件夹可能是一个耗时的过程，因此如果不能定期进行此操作，至少要备份您的数据库（数据库应该小得多，并且仍然能够恢复大部分数据，这些数据可以用来重新生成大部分文档）。

### C) 配置文件

配置文件不应在升级过程中被修改，但在进行升级时保存它更为稳妥。配置文件名为 `conf.php`，位于 `dolibarrdir/htdocs/conf/` 目录下。请将此文件复制到备份专用区域。

注意：此备份是可选的，因为您可以从头开始或使用 Dolibarr 安装向导手动重建此文件（前提是您知道数据库凭证，此文件仅包含连接数据库的参数和 Dolibarr 安装的目录）。在进行恢复时，仍然可以通过从头开始的安装来重建此文件。

### D) 代码更改

最后，任何自定义开发的模块也应该保存，即所有为了满足特定需求而添加或修改的 php 文件（或其他文件）。大多数情况下，到这一步你无需担心。

## [![Who.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/313274ccfbc6586080382c481cd00264.png) ](https://wiki.dolibarr.org/index.php?title=File:Who.png)何时进行？

备份的频率取决于你使用 Dolibarr 的频率以及你愿意在发生问题时失去多少数据。备份频率越高，发生故障时丢失的数据就越少。

此外，您可以选择更频繁地备份一些关键部分（如数据库），而对其他部分（如文档）则备份得不那么频繁，因为它们的备份过程更耗时。

作为一个好的起点，你应该每月甚至每周备份一次数据库，具体频率取决于你的使用情况，而文档则可以每6个月甚至每月备份一次，同样取决于你的使用情况。

此外，conf.php 文件只需要备份一次（因为只有在更改主机时才会改变，而且可以手动进行）。

## [![Who.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/313274ccfbc6586080382c481cd00264.png) ](https://wiki.dolibarr.org/index.php?title=File:Who.png)如何备份？

### A) 数据库

有四种方法可以备份你的数据库：

#### 使用 Dolibarr 系统备份工具

这是最简单的备份方式，而且所有的备份都会存储在服务器上，并会被列出，这样你随时都可以恢复任何版本。

如果你使用的是足够新的 Dolibarr 版本，只需使用管理员账户登录 Dolibarr（只有管理员可以使用系统工具）。

然后前往 **首页 -》 系统工具 -》 备份** 。选择您的备份选项（您可以保留所有默认值）。

替代方案：默认方法 **MySQL 导出（mysqldump）** 需要您在服务器上具有 mysqldump 二进制文件的执行权限。如果您使用的是禁用了 mysqldump 使用的共享主机，可以尝试另一种名为 **MySQL 导出（php）** 的方法。此方法不能保证 100%成功，请先自行尝试通过创建备份并在本地非生产服务器上恢复来检查数据是否正确保存。

#### 使用 mysqldump 进行备份

如果你更喜欢手动模式，你也可以使用为你的数据库设计的备份工具。对于 MySQL，将数据库备份到文件的命令是：

```
mysqldump -u user -pyourpass -l --single-transaction -K --add-drop-table=TRUE --tables -c -e --hex-blob --default-character-set=utf8  --result-file=mysqldump_databasename_version_date.sql databasename
```

在何处：

- "user" 是 Dolibarr 用于连接数据库的 MySQL 用户，
- "yourpass" 是 MySQL 用户账户的密码（注意，p 和 yourpass 之间没有空格），
- "databasename" 是 Dolibarr 数据库的名称。

这些信息（用户名、密码和数据库）可在您的配置文件 `` 中找到。

结果文件（"导出文件"），称为 mysqldump_databasename_version_date.sql，其中

- 是 dolibarr 的版本号（例如：3.7）。
- date 可以替换为日期，推荐的格式为 YYYYMMDD，其中 YYYY 表示年份（例如 2011），MM 表示月份编号（例如 05），DD 表示月份中的日期（例如 18）。

使用该值作为示例，我们将得到一个名为 *mysqldump_databasename_3.7_20110518.sql* 的转储文件。


如果要压缩文件（压缩格式）：

```
mysqldump databasename -h host -u user -pyourpass -l --single-transaction -K --add-drop-table=TRUE --tables -c -e --hex-blob --default-character-set=utf8 | bzip2 > mysqldump_databasename_version_date.bz2
```

生成的备份文件将使用 bzip 压缩格式。

**备份 - Dolibarr ERP CRM 维基**

使用 Linux，要在每天 1:30 进行常规备份并将 mysqldump_databasename_DD.sql.bz2 保存到文件中，可以在 cron 文件中添加以下内容：

```
30 1 * * * mysqldump databasename -h host -u user -pyourpass -l --single-transaction -K --add-drop-table=TRUE --tables -c -e --hex-blob --default-character-set=utf8 | bzip2 > mysqldump_databasename_`date +%d`.sql.bz2
```

#### 使用 phpMyAdmin

首先，避免使用 phpMyAdmin 来保存数据库！phpMyAdmin 会生成一些备份文件，但如果你使用了默认选项，你将无法恢复它。你必须启用一个特定选项，以便以后能够恢复你的备份（如果你忘记启用该选项并且已经有需要恢复的备份，请参阅关于 FOREIGN_KEY_CHECKS 的说明）。

在 phpMyAdmin 中，点击标签页 **导出** ，然后选择你的 Dolibarr 数据库/表（视图模式为多数据库或表视图而定），并启用选项 **禁用外键检查** ，同时确保输出格式为 SQL，然后你可以确认导出。需要注意的是，即使启用此选项，使用 phpMyAdmin 进行备份也绝非万无一失，通常也是无用的。唯一安全的方法是使用 mysqldump（从 Dolibarr 或手动执行。请参阅前两章）。

#### 使用其他第三方工具

你也可以使用第三方数据库备份软件，如可以上传到服务器的 php 脚本（例如 Howard Yeend 的 db2SQL 或 BigDump），或者使用数据库设计/工作台软件，这些软件通常允许远程连接到你的数据库并允许你进行完整备份（同时允许远程管理你的数据库）。



------


在任何情况下， **你的 SQL 备份文件在恢复之前应禁用外键** ，否则由于外键冲突，备份将无法恢复！例如：在文件头部和尾部添加 FOREIGN_KEY_CHECKS：

```
-- SQL Dump
-- Server version: 5.5.8

SET FOREIGN_KEY_CHECKS=0;
SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

CREATE TABLE IF NOT EXISTS `llx_accountingaccount` (

INSERT INTO ...

CREATE TABLE ...

INSERT INTO ...

...

SET FOREIGN_KEY_CHECKS=1;
```


[![Warning.png](https://wiki.dolibarr.org/images/c/cb/Warning.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)Mysqldump（使用命令行工具或使用 Dolibarr 备份工具）是最安全的数据备份方式，因为它与 MySQL 一同开发，因此总是最新的。**PhpMyAdmin** 和其他第三方工具可能会生成正确的 SQL 导出文件，但可能会过时或缺少某些功能（这取决于你选择的选项）。

### B) 文档

只需将 Documents 文件夹（默认为 *dolibarr/documents*）复制到您的本地备份目录。

注意：如果您使用 Dolibarr 的系统工具进行了数据库备份，SQL 备份文件也会保存在 Documents 文件夹中，因此也会被复制。



### C) 配置文件

只需将文件 *conf/conf.php* 复制到一个专门用于备份的目录即可。

## [![Astuces.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/c6cc8988f3af89c4e83100af5bc164af.png) ](https://wiki.dolibarr.org/index.php?title=File:Astuces.png)恢复

此主题在页面 [恢复 ](https://wiki.dolibarr.org/index.php?title=Restores)中有详细说明。







# 恢复

此页面描述了如何恢复 Dolibarr 的备份（例如，在格式化硬盘后）。要了解如何进行完整备份，请参阅页面[备份]。

## 目录



- [1前提条件](https://wiki.dolibarr.org/index.php?title=Restores#Prerequisites)
- [2步骤 1 - 重新安装 Dolibarr 软件](https://wiki.dolibarr.org/index.php?title=Restores#Step_1_-_Reinstall_Dolibarr_software)
- [3步骤 2 - 恢复文档](https://wiki.dolibarr.org/index.php?title=Restores#Step_2_-_Restore_documents)
- 4第3步 - 恢复数据库
  - 4.1MySql
    - [4.1.1故障排除](https://wiki.dolibarr.org/index.php?title=Restores#Troubleshooting)
  - [4.2PostgreSql](https://wiki.dolibarr.org/index.php?title=Restores#PostgreSql)
- [5第 4 步 - 使用恢复的 Dolibarr](https://wiki.dolibarr.org/index.php?title=Restores#Step_4_-_Use_your_restored_Dolibarr)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=Restores#Related_videos)

## 先决条件

为了在干净的环境中进行完整的恢复，我们假设您：

- 已经备份了数据库（例如，导出为一个 dump 文件，如果是使用 MySQL 或 MariaDB 数据库，可以使用 mysqldump 工具）。
- 备份你的文档文件目录。
- 你记得之前在旧的 Dolibarr 备份时使用的一个管理员用户登录名。

## 第 1 步 - 重新安装 Dolibarr 软件

如果你已经卸载了 Dolibarr，或者还没有安装，因为你是新服务器，你需要像要使用一个新的干净数据库一样安装 Dolibarr。

请务必选择与之前相同的数据库类型（Mysql、PostgreSQL 等）。

您可以安装您选择的任何 Dolibarr 发行版（Dolibarr、DoliWamp、DoliMamp、任何其他 Linux 发行版等），但是必须与用于创建备份的版本完全相同（vX.Y）。版本号可能包含在数据库备份文件名中。

## 第2步 - 恢复文档

在您新安装的 Dolibarr 中，以管理员用户身份进入菜单 **首页 / 系统工具 / 恢复** 。

Dolibarr 会显示你需要将文档文件存储的位置。如果该目录不为空（如果不是，请清空该目录），然后你只需将旧文档文件保存目录中的内容复制到该目录中。

## 第 3 步 - 恢复数据库

### MySql

将备份文件复制到与命令 **mysql** 相同的目录中。

如果您的备份文件是压缩文件，在恢复之前可能需要先解压缩文件：例如，名为 mysqldump_dolibarr_2.7.0_200812021800.sql.bz2 的 bzip 压缩备份文件需要解压缩为 mysqldump_dolibarr_2.7.0_200812021800.sql（在 Linux 下可以运行 bunzip myfile.bz2 命令，或者在 Windows 下使用 7zip）。

在您新安装的 Dolibarr 中，以管理员用户身份进入菜单 **首页 / 系统工具 / 恢复** 。

选择导入方法。

Dolibarr 提供了一条命令行来启动数据库恢复。点击“显示完整命令”。例如，您将得到：

```
mysql mydatabase -h localhost -u databaseuser -pdatabasepass < mybackupfile.sql
```

打开命令行窗口（在 Windows 中为 DOS 命令行，在 Linux 中为 Shell 终端）。导航到存储命令`mysql`和备份文件的目录。运行之前提供的命令。


**Alternative**: you can also use *phpMyAdmin* Import tab to restore your backup file (normally you don't have to check any particular option, but your backup file needs to disable foreign_key_checks, see below). Also this method can not be guaranted and may failed in some cases.  



#### 故障排除

[![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)错误 1005 (HY000) 在第 20 行：无法创建表 `dolibarr`.`llx_accounting_account`（错误号：150 "外部键约束格式不正确"）

=> 如果遇到此错误，请务必手动删除 `llx_accounting_account` 和 `llx_accounting_system` 表，然后再尝试重新创建。


[![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)如果在恢复时遇到外部键错误，请检查您的 SQL 备份文件是否在恢复之前禁用了外部键，否则备份将无法恢复，因为外部键冲突！

在页眉和页脚中添加 FOREIGN_KEY_CHECKS：

```
-- SQL Dump
-- Server version: 5.5.8

SET FOREIGN_KEY_CHECKS=0;
SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

CREATE TABLE IF NOT EXISTS `llx_accountingaccount` (

INSERT INTO ...

CREATE TABLE ...

INSERT INTO ...

...

SET FOREIGN_KEY_CHECKS=1;
```

### PostgreSql

一个类似于 MySQL 的过程，但使用的是 *pg_restore*。

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and click on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)页面是未完成的。完成它，请创建一个账户，返回页面并点击“编辑”。 

## 第 4 步 - 使用恢复的 Dolibarr

命令执行完毕后，你可以继续使用 Dolibarr 登录。此时你必须使用在备份时已存在的登录账户。









# 计划任务模块

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E5.AE.89.E8.A3.85)
- 3配置
  - [3.1模块配置](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E6.A8.A1.E5.9D.97.E9.85.8D.E7.BD.AE)
  - 3.2模块的外部激活
    - [3.2.1Unix 环境](https://wiki.dolibarr.org/index.php?title=计划任务模块#Unix_.E7.8E.AF.E5.A2.83)
    - [3.2.2Windows 环境](https://wiki.dolibarr.org/index.php?title=计划任务模块#Windows_.E7.8E.AF.E5.A2.83)
    - [3.2.3Dolibarr 可用的互联网计划任务服务器](https://wiki.dolibarr.org/index.php?title=计划任务模块#Dolibarr_.E5.8F.AF.E7.94.A8.E7.9A.84.E4.BA.92.E8.81.94.E7.BD.91.E8.AE.A1.E5.88.92.E4.BB.BB.E5.8A.A1.E6.9C.8D.E5.8A.A1.E5.99.A8)
- [4管理计划任务](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E7.AE.A1.E7.90.86.E8.AE.A1.E5.88.92.E4.BB.BB.E5.8A.A1)

## 简介

计划任务模块是一个核心的 Dolibarr 模块。它是可选的，是模块列表中的系统组的一部分。

本模块的主要作用是管理按计划执行的作业任务（别名 cron 或 chrono table）。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

[![Scheduled Jobs Module Activation EN.png](https://wiki.dolibarr.org/images/thumb/7/77/Scheduled_Jobs_Module_Activation_EN.png/300px-Scheduled_Jobs_Module_Activation_EN.png)](https://wiki.dolibarr.org/index.php?title=File:Scheduled_Jobs_Module_Activation_EN.png)

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。



### 模块配置

[![Module Scheduled Job setup EN.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/605270a4f72f005cc98c804a2c2fc8b3.png)](https://wiki.dolibarr.org/index.php?title=File:Module_Scheduled_Job_setup_EN.png)

唯一可以更改的参数是 URL 上用于启动 cron 作业的安全密钥。

如下链接到：

- 菜单 **“主页 - 管理工具 - 计划任务”** 用于查看和编辑计划任务。
- 用于检查和启动合格 cron 作业的 URL：

http://mydolibarradress/htdocs/public/cron/cron_run_jobs.php?securitykey=xxxxxxxxxxxxxxxxxxxxxxxx&userlogin=admin

- 通过作业 ID 检查和启动特定作业的 URL：

http://mydolibarradress/htdocs/public/cron/cron_run_jobs.php?securitykey=xxxxxxxxxxxxxxxxxxxxxxxx&userlogin=admin&id=cronjobid

### 模块的外部激活

本模块需要每隔 5 分钟从外部激活一次。

根据 Dolibarr 的运行环境，需要遵循的步骤是不同的。

#### Unix 环境

在 Unix 环境中，您应该使用 crontab 条目每 5 分钟运行一次命令行。

#### Windows 环境

在 Windows 中，您必须在 Windows 的任务计划程序中创建新任务。

- **常规：** 不要忘记选中“以最大权限运行”。
- **触发器：** 根据您的PC使用情况选择。
- **操作：**

选择“启动程序”。

然后输入程序/脚本：C:\wamp64\bin\php7.3.12\php.exe

并添加参数：-f C:\wamp64\wwww\dolibarr\scripts\cron\cron_run_jobs.php xxxxxxxxxxxxxxxx admin

参数中的 ‘xxxxxxxxxxxxxxxx’ 是您在计划任务模块管理设置中配置的参数 - 安全密钥，‘admin’是您的会话名称。

参数中指示的路径可能会因系统安装目录和软件版本的不同而不同。

此 Windows 任务将以执行 windows 命令的方式来执行 php.exe，php 启动 dolibarr 进程中的已计划任务。

#### Dolibarr 可用的互联网计划任务服务器

您还可以使用外部的服务，例如：

- https://webcron.dolizen.fr/
- https://cron-job.org/en/

## 管理计划任务

[![Module Schedule Job List EN.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/0756ee16e71066b8b82fdf18b42b74ee.png)](https://wiki.dolibarr.org/index.php?title=File:Module_Schedule_Job_List_EN.png)

使用菜单 **主页 - 管理工具 - 计划任务** ，您可以查看已激活的任务和其上次执行的时间。

您也可以创建新的计划任务。







# 用法总说明

## 目录



- [1启动应用程序](https://wiki.dolibarr.org/index.php?title=用法总说明#.E5.90.AF.E5.8A.A8.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F)
- [2首页](https://wiki.dolibarr.org/index.php?title=用法总说明#.E9.A6.96.E9.A1.B5)
- [3使用菜单](https://wiki.dolibarr.org/index.php?title=用法总说明#.E4.BD.BF.E7.94.A8.E8.8F.9C.E5.8D.95)
- [4对象](https://wiki.dolibarr.org/index.php?title=用法总说明#.E5.AF.B9.E8.B1.A1)
- [5功能](https://wiki.dolibarr.org/index.php?title=用法总说明#.E5.8A.9F.E8.83.BD)

## 启动应用程序

首先，启动应用程序，通过单击桌面上安装的图标或在Web浏览器中键入适当的URL（URL可能是http://Localhost/Dolibarr/ 本地安装的形式），但在手动安装的情况下可能会有所不同。在这种情况下，它将取决于Web服务器的配置。

启动应用程序后，您应该看到至少有2个字段的登录页面：

- **Login**: 用户名。如果这是第一次使用，则是用户在安装的最后一步（如admin）输入的。
- **Password**: 要连接的用户对应的密码。如果这是第一次使用，则是安装最后一步的密码（如password）。

[![Identification.jpg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/4c7bfc3f31e5671edd91bf89b422c5c3.jpeg)](https://wiki.dolibarr.org/index.php?title=File:Identification.jpg)

## 首页

一旦登录，就可以看到首页。它包含菜单栏（一个水平栏和一个垂直栏）和更多的信息在屏幕中心：

- 一个提醒您的登录帐户和最后访问日期的框。
- 与所有激活模块相关的一个统计数据框。
- 一个显示“任务”表的表（包含要完成的任务的信息和进度落后的任务）。天气把它总结出来了。
- 在下部，可能有其他信息框。列表取决于通过菜单激活的框。 **首页->设置->插件**.

## 使用菜单

单杠中的每个菜单都与一个模块相关。当一个模块被激活时，它的关联菜单出现在水平菜单栏中。模块的菜单项在模块被激活之前不会出现在菜单中。 要激活模块，请参阅页面 [设置](https://wiki.dolibarr.org/index.php?title=设置).

若要使用模块，请单击与模块相关联的菜单，在垂直栏中显示菜单以执行与该模块相关的各种任务。

例如，列出产品的库存（由产品和库存模块提供的功能），点击菜单产品/服务：

[![Liste produits.jpg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/80c32682ffe8cb6bc6cd8fa6c5ce647e.jpeg)](https://wiki.dolibarr.org/index.php?title=File:Liste_produits.jpg)

一旦选择了顶部菜单，左边菜单就会出现与激活模块相关的各种任务。

例如，您可以选择一次菜单中的顶级菜单产品/服务：

[![Menuproduits.jpg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/a1d5fd80065fc2ca29689035154017c2.jpeg)](https://wiki.dolibarr.org/index.php?title=File:Menuproduits.jpg)

请注意，菜单的组织取决于在“首页>设置>菜单”中配置的菜单管理器的选择。

## 对象

对象是用来说明应用程序管理的记录的通用术语。它可以是，例如：客户、供应商、发票、订单、提案、议程事件、用户、……

每个对象由Dolibarr模块管理。根据您启用或不启用的模块，某些对象可能出现或可能不会出现在应用程序中。

Dolibarr策略是为每个被管理的模块或对象使用一种通用的工作方式。

因此，对于每个对象，您将找到一个菜单项来创建（菜单被称为“新建”）和一个菜单条目来列出所有对象（菜单被称为“列表”）。 然后单击列表中找到的对象，可以读取以多个选项卡排列的对象的所有属性。允许用户编辑对象的按钮“修改”是可见的。

例如，这是左侧菜单管理第三方的视图，以及选定第三方的卡（点击放大）：

[![Screenshot thirdparty.png](https://wiki.dolibarr.org/images/thumb/9/90/Screenshot_thirdparty.png/480px-Screenshot_thirdparty.png)](https://wiki.dolibarr.org/index.php?title=File:Screenshot_thirdparty.png)

此外，在列表视图（单击菜单）“垂直菜单中”列表中，状态符号/标牌将出现在对象列表的最后一列中。

符号/标示根据工作流中的对象的状态而变化。

状态的符号/标示取决于对象及其在专用于对象管理的模块设置中定义的选项。

当前状态的定义和符号/标示是（默认主题为“ELDY”）：

- [![Statut0.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/7dd11892a93990f8782527fddd262b6e.png)](https://wiki.dolibarr.org/index.php?title=File:Statut0.png) Draft Status - 对象尚未被验证（白色，对象上不能采取任何操作）
- [![Statut1.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/ce43bb07c4cb302bb4f90134c2a56716.png)](https://wiki.dolibarr.org/index.php?title=File:Statut1.png) Validated Status - 对象被验证，现在对对象（黄色）期望一些动作。
- [![Statut3.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/63e80fdf2c99b0ac974a0fd83b66014f.png)](https://wiki.dolibarr.org/index.php?title=File:Statut3.png) More advanced status than Validated -在对象上已经采取了一些动作，但仍然期望有一些动作（颜色部分为黄色）。
- [![Statut4.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1e4d60d5f3d7c485e5568e52fb430079.png)](https://wiki.dolibarr.org/index.php?title=File:Statut4.png) Processed, Active or Enabled Status - 没有任何特定的行动是预期的对象，尽管一些事件可能仍然发生（绿色，意味着一切都还好）
- [![Statut5.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/2d369396d76b6966b8803f3ef73a0d8a.png)](https://wiki.dolibarr.org/index.php?title=File:Statut5.png) Cancelled Status - 这个对象不能发生特定的动作（白色带十字，白色表示“不能采取任何动作”，而交叉意味着“不再”）。
- [![Statut8.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/c044ccb6c7b49c500a46ca32d77250a6.png)](https://wiki.dolibarr.org/index.php?title=File:Statut8.png) Error Status - 这个的状态意味着有一个关键的问题要解决的对象（红色意味着错误）

请注意，与其他主题，地位的含义将不会有所不同，但颜色代码可能会改变（例如，一个主题可能会决定好的颜色取消符号是橙色的，而不是“白色交叉”。

## 功能

功能由模块提供。

所有模块都记录在模块文档中。有关模块及其文档的完整列表，请参阅以下页面：

- 标准模块的列表定义在页：[Category:List_of_Modules](https://wiki.dolibarr.org/index.php?title=Category:List_of_Modules)
- 外部模块列表（默认没有提供的附加组件）在外部模块页面： [Category:Complementary_modules](https://wiki.dolibarr.org/index.php?title=Category:Complementary_modules)





# 分类：模块列表

此页面是默认包含在 Dolibarr 中的标准模块索引。有关这些模块的开发人员文档列表，请参见页面[List of modules (developer)]。

其他模块的列表定义在页面[Complementary modules]上。DoliStore 网站还提供了一个下载由外部编辑器构建的模块的区域：[DoliStore.com]。

## 分类“List of Modules”中的页面

以下69个页面属于本分类，共69个页面。

### M

- [会计模块简化](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified)
- [日程模块](https://wiki.dolibarr.org/index.php?title=Module_Agenda)
- [人工智能模块 (AI)](https://wiki.dolibarr.org/index.php?title=Module_AI_(Artificial_Intelligence))
- [资产模块](https://wiki.dolibarr.org/index.php?title=Module_Asset)
- [模块 银行和现金](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash)
- [模块 条形码](https://wiki.dolibarr.org/index.php?title=Module_Barcode)
- [模块 物料清单](https://wiki.dolibarr.org/index.php?title=Module_BOM)
- [模块 收藏夹](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks)
- [模块类别](https://wiki.dolibarr.org/index.php?title=Module_Categories)
- [模块拨号 En](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En)
- [商业提案 - 报价模块](https://wiki.dolibarr.org/index.php?title=Module_Commercial_Proposals_-_Quotes)
- [合同模块](https://wiki.dolibarr.org/index.php?title=Module_Contracts)
- [模块 客户发票](https://wiki.dolibarr.org/index.php?title=Module_Customers_Invoices)
- [模块 DAV](https://wiki.dolibarr.org/index.php?title=Module_DAV)
- [模块 捐赠](https://wiki.dolibarr.org/index.php?title=Module_Donations)
- [模块 双重记账](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting)
- [动态价格模块](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices)
- [邮件收集模块](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector)
- [电子邮件模块](https://wiki.dolibarr.org/index.php?title=Module_EMailing)
- [活动组织模块](https://wiki.dolibarr.org/index.php?title=Module_Event_Organization)
- [模块 费用报告](https://wiki.dolibarr.org/index.php?title=Module_Expense_Reports)
- [模块 导出 En](https://wiki.dolibarr.org/index.php?title=Module_Exports_En)
- [模块 FTP En](https://wiki.dolibarr.org/index.php?title=Module_FTP_En)
- [模块 人力资源管理](https://wiki.dolibarr.org/index.php?title=Module_HRM)
- [模块导入](https://wiki.dolibarr.org/index.php?title=Module_Imports)
- [模块干预](https://wiki.dolibarr.org/index.php?title=Module_Interventions)
- [知识管理模块](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management)
- [LDAP 模块](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En)
- [模块 离职](https://wiki.dolibarr.org/index.php?title=Module_Leaves)
- [模块 批次/序列号](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial)
- [模块 生产订单](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders)
- [模块 毛利](https://wiki.dolibarr.org/index.php?title=Module_Margins)
- [模块 会员管理](https://wiki.dolibarr.org/index.php?title=Module_Membership_management)
- [模块 ModuleBuilder](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder)
- [模块 多货币](https://wiki.dolibarr.org/index.php?title=Module_Multi-currency)
- [模块 通知](https://wiki.dolibarr.org/index.php?title=Module_Notification)
- [模块 OAuth](https://wiki.dolibarr.org/index.php?title=Module_OAuth)
- [模块 PayPal](https://wiki.dolibarr.org/index.php?title=Module_PayPal)
- [模块 点售货（SimplePOS）](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(SimplePOS))
- [模块 点售货（TakePOS）](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS))
- [模块 产品](https://wiki.dolibarr.org/index.php?title=Module_Products)
- [模块 项目](https://wiki.dolibarr.org/index.php?title=Module_Projects)
- [模块 采购订单](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders)
- [模块 收货打印机](https://wiki.dolibarr.org/index.php?title=Module_Receipt_Printer)
- [模块 接收](https://wiki.dolibarr.org/index.php?title=Module_Reception)
- [模块 招聘](https://wiki.dolibarr.org/index.php?title=Module_Recruitment)
- [模块 资源](https://wiki.dolibarr.org/index.php?title=Module_Resources)
- [模块 销售订单](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders)
- [模块 定时任务](https://wiki.dolibarr.org/index.php?title=Module_Scheduled_jobs)
- [模块 服务](https://wiki.dolibarr.org/index.php?title=Module_Services_En)
- [模块 发货](https://wiki.dolibarr.org/index.php?title=Module_Shipments)
- [模块 定期订单](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders)
- [库存模块 En](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En)
- [Stripe 模块](https://wiki.dolibarr.org/index.php?title=Module_Stripe)
- [供应商发票模块](https://wiki.dolibarr.org/index.php?title=Module_Suppliers_Invoices)
- [调查模块](https://wiki.dolibarr.org/index.php?title=Module_Survey)
- [模块 税务和社会保险贡献](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions)
- [模块 第三方](https://wiki.dolibarr.org/index.php?title=Module_Third_Parties)
- [模块 票务](https://wiki.dolibarr.org/index.php?title=Module_Ticket)
- [模块 不可更改档案 - 日志](https://wiki.dolibarr.org/index.php?title=Module_Unalterable_Archives_-_Logs)
- [模块 用户](https://wiki.dolibarr.org/index.php?title=Module_Users)
- [模块 Web 服务 API REST（开发者）](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer))
- [模块 Web 服务 API SOAP（开发者）](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP_(developer))
- [模块 Webhook](https://wiki.dolibarr.org/index.php?title=Module_Webhook)
- [模块官网](https://wiki.dolibarr.org/index.php?title=Module_Website)
- [模块工作流](https://wiki.dolibarr.org/index.php?title=Module_Workflow)
- [模块工作站](https://wiki.dolibarr.org/index.php?title=Module_Workstation)
- [模块 Zapier](https://wiki.dolibarr.org/index.php?title=Module_Zapier)

### N

- [模板:NoInstallModuleEn](https://wiki.dolibarr.org/index.php?title=Template:NoInstallModuleEn)





# 用户模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=用户模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=用户模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=用户模块#.E9.85.8D.E7.BD.AE)
- [4定义](https://wiki.dolibarr.org/index.php?title=用户模块#.E5.AE.9A.E4.B9.89)
- 5生命周期 / 业务规则
  - [5.1创建内部用户](https://wiki.dolibarr.org/index.php?title=用户模块#.E5.88.9B.E5.BB.BA.E5.86.85.E9.83.A8.E7.94.A8.E6.88.B7)
  - [5.2创建外部用户](https://wiki.dolibarr.org/index.php?title=用户模块#.E5.88.9B.E5.BB.BA.E5.A4.96.E9.83.A8.E7.94.A8.E6.88.B7)
  - [5.3定义权限](https://wiki.dolibarr.org/index.php?title=用户模块#.E5.AE.9A.E4.B9.89.E6.9D.83.E9.99.90)
  - [5.4标签](https://wiki.dolibarr.org/index.php?title=用户模块#.E6.A0.87.E7.AD.BE)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=用户模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

用户模块是一个必需模块。这是唯一一个你不能禁用的Dolibarr模块。它的作用是管理用户、组及其对 Dolibarr 的权限，因此要管理以下 2 个对象：

- Dolibarr 用户
- Dolibarr 用户组

## 安装

此模块始终处于启用状态，而且是唯一无法禁用的模块，因此无需进行安装。

## 配置

此模块没有特定的配置操作。

## 定义

**内部用户**是您公司/基金会的成员、并且可以使用 Dolibarr 系统的用户（拥有个人的登录名）。

**外部用户**可以是客户、供应商或其他被允许使用 Dolibarr 系统的人。因此，外部用户是一个始终链接到第三方对象（客户或供应商）的用户（拥有个人的登录名）。

在这两种情况下，权限都定义了对数据的访问级别（读取、写入、删除）。

内部用户和外部用户之间的主要区别在于，外部用户只能看到（如果授予了权限）链接到用户的第三方的对象。因此，“Smith and co”公司的外部用户“Mr smith”只能看到为“Smith and co”创建的订单，发票，提案...。

因此，外部用户主要用于向您的客户或供应商授予对ERP的访问权限，因此他们看不到与其他客户或供应商相关的任何内容。 内部用户通常用于向员工授予访问权限。

请注意，外部用户也可以具有与内部用户不同的菜单管理器（请参阅 主页 - 设置 - 菜单），但这并不常用。

## 生命周期 / 业务规则

### 创建内部用户

创建内部用户非常简单： 进入菜单 **主页 -> 用户和组 -> 新建用户。**

[添加用户](https://wiki.dolibarr.org/index.php?title=添加用户)

### 创建外部用户

创建外部用户有点复杂：

要创建外部用户，您必须访问第三方的联系方式/地址。

**第三方->联系方式/地址->列表**，选择联系人，然后单击“创建用户”按钮。

注意：如果联系人/地址不是 Dolibarr 系统的用户，才会出现“创建用户”按钮。另一方面，如果联系人/地址已经是用户并具有Dolibarr登录权限，则“创建用户”按钮将不会出现。

### 定义权限

转到用户页的“权限”选项卡，然后单击 + 或 - 以授予或删除权限。

进入用户页：**主页->用户和组->用户**

请注意，用户拥有自己的权限以及用户所属组的所有权限。



### 标签

您可以定义一些标签。然后，可以将每个用户链接到 0 到 n 个标签。









# 会员资格管理模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E9.85.8D.E7.BD.AE)
- 4用法
  - [4.1创建会员类型](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E5.88.9B.E5.BB.BA.E4.BC.9A.E5.91.98.E7.B1.BB.E5.9E.8B)
  - [4.2创建个性化属性](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E5.88.9B.E5.BB.BA.E4.B8.AA.E6.80.A7.E5.8C.96.E5.B1.9E.E6.80.A7)
  - [4.3创建会员](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E5.88.9B.E5.BB.BA.E4.BC.9A.E5.91.98)
  - [4.4新订阅或续订](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E6.96.B0.E8.AE.A2.E9.98.85.E6.88.96.E7.BB.AD.E8.AE.A2)
  - [4.5分期付款的会员资格](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E5.88.86.E6.9C.9F.E4.BB.98.E6.AC.BE.E7.9A.84.E4.BC.9A.E5.91.98.E8.B5.84.E6.A0.BC)
  - [4.6撤销会员](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E6.92.A4.E9.94.80.E4.BC.9A.E5.91.98)
- [5相关视频](https://wiki.dolibarr.org/index.php?title=会员资格管理模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

基金会模块用于管理基金会的会员：

- 定义多个会员类型
- 在会员的表单视图上 添加/验证/编辑/恢复/删除(属性、照片等 ...)
- 管理是否订阅的请求
- 添加/编辑/删除 订阅
- 使用 [EMailing](https://wiki.dolibarr.org/index.php?title=Module_EMailing) 模块，向会员或选定的会员批量发送电子邮件
- 使用 [LDAP](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En) 模块，将会员与 LDAP 同步
- 使用 [Banks and Cash](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash) 模块，将订阅与基金会的金库连接起来
- 报表
- 使用 [Module Exports](https://wiki.dolibarr.org/index.php?title=Module_Exports_En) 模块导出

管理基金会会员的所有功能都在顶部菜单“会员”中。

Dolibarr可以管理您的银行账户，但不能管理会计。这意味着Dolibarr不适合大型基金会（超过5000名成员）的需求。 也没有工资管理模块。 然而，如果您的基金会每年的预算低于10 000欧元/美元，那么基金会管理模块是一个非常好的选择。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 用法

### 创建会员类型

在开始之前，必须定义会员的配置文件。 为此，请从左菜单“会员类型”下的“*新建*”子菜单创建新的*会员类型*。

### 创建个性化属性

如果您需要在会员的表单视图上添加新属性（如队长年龄、成员规模等），您可以在"会员"模块的设置页面中定义，"自定义属性(会员)"标签页列出的新属性即是你添加的新属性。 创建新属性要为属性选择其显示标签、属性代码（也将用作数据库中的字段名）、属性类型和属性大小。

### 创建会员

会员具有以下生命周期：

[![Diagramme d'états d'un adhérent](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/f7dc1efb5f7387743fc02829d2cd4f44.png)](https://wiki.dolibarr.org/index.php?title=File:Diagramme_etats_adherents.png)

要创建新会员，请进入菜单 **会员 - 新会员**。将显示一个创建表单。 填写所有必填字段，然后单击 **创建会员** 按钮。 再后，您可以通过单击会员表单视图的 **验证** 按钮来验证会员，验证后的会员状态为**已验证**。

如果您希望此会员具有 Dolibarr 访问权限，请从其会员表单视图中单击 **创建用户** 按钮。如果您希望此会员成为第三方，以便向其发送商业建议书、发票等，请从其会员表单视图中单击 **创建第三方** 按钮。

### 新订阅或续订

会员资格可以被视为一种捐献（付款）。但是，我们对某些类型的非缴费会员也使用“会员资格”一词，在这种情况下，费用是免费的。这并不会排除他们作为一个会员的存在(时间是有限制的)，以及那些支付了会员资格费用的人。“会员资格”一词是指自某一日期起，在固定期限内，协会续约的特征，无论续约是否付费。

要进入会员资格，请进入菜单"新会员资格 - 会员资格"，然后输入所需查找的会员。或者，从“新会员资格”的会员资格标签页进入会员资格。

会员资格的历史记录也保留在会员的“会员资格”标签页中。

### 分期付款的会员资格

以分三次支付的会员为例。向您的会员索取三张支票，金额不等于他所欠的会费。然后，对于Dolibarr，原则与上述相同。

单击“新会员资格”后，输入与第一张支票对应的对应部分，并指定有效期（在我们的情况下，这对应于一年的1/3）。然后，在标签字段中，输入例如会员资格2008 1/3。然后单击“添加会员资格”进行验证。通过调整值以覆盖全年，再次重复操作两次。

### 撤销会员

转到其会员表单视图上，然后单击按钮 **撤销。**







# 休假模块

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=休假模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=休假模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=休假模块#.E9.85.8D.E7.BD.AE)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=休假模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F_.2F_.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [5创建休假申请](https://wiki.dolibarr.org/index.php?title=休假模块#.E5.88.9B.E5.BB.BA.E4.BC.91.E5.81.87.E7.94.B3.E8.AF.B7)
- [6确认休假申请](https://wiki.dolibarr.org/index.php?title=休假模块#.E7.A1.AE.E8.AE.A4.E4.BC.91.E5.81.87.E7.94.B3.E8.AF.B7)
- [7修改休假申请](https://wiki.dolibarr.org/index.php?title=休假模块#.E4.BF.AE.E6.94.B9.E4.BC.91.E5.81.87.E7.94.B3.E8.AF.B7)
- [8批准/拒绝休假申请](https://wiki.dolibarr.org/index.php?title=休假模块#.E6.89.B9.E5.87.86.2F.E6.8B.92.E7.BB.9D.E4.BC.91.E5.81.87.E7.94.B3.E8.AF.B7)
- [9删除休假申请](https://wiki.dolibarr.org/index.php?title=休假模块#.E5.88.A0.E9.99.A4.E4.BC.91.E5.81.87.E7.94.B3.E8.AF.B7)
- [10相关视频](https://wiki.dolibarr.org/index.php?title=休假模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

使用休假模块，您可以提交和跟踪休假申请。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 生命周期 / 业务规则

一个休假申请遵循以下生命周期：

```
      <------------------------------------------------------------\
     /                                                             |
    /                       /---------------------->---------> E-Canceled
   /                       /                      
A-Draft --> B-Validated/Waiting approval --> C-Approved
   |             |        \                             \
   <--------------         \                             |
   |                        ---------------> D-Denied <--|
   |                                             /       /
   <--------------------------------------------<-------/ 
```



- A) “草稿”状态意味着休假申请尚不存在。其正式版本尚未完成。

- B) “已确认”状态也意味着处于“待批准”状态。当您确认休假申请时，将向主管发送电子邮件。

- C) 具有“批准休假”权限的主管可以批准休假申请。

- E) 尚未获得批准的休假申请可以被申请者取消。如果想稍后重新提交此休假申请，可以将其设置回"草稿"状态。

## 创建休假申请

## 确认休假申请

要确认休假申请，需要访问其表单视图 ( 可以从菜单 **人事管理 - 休假申请 - 列表** 中找到记录 )。

然后点击“验证”按钮。一封电子邮件将发送给用户的主管（如果休假申请的创建者选择了其他审批人，则发送给其他用户）。

## 修改休假申请

要修改休假申请，需要访问其表单视图（可以从菜单 **人事管理 - 休假申请 - 列表** 中找到记录）。

如果休假申请处于“草稿”状态，则可以对其进行编辑。如果不是，请单击按钮“**退回草稿**”。

## 批准/拒绝休假申请

要批准或拒绝休假申请，需要访问其表单视图（可以从菜单 **人事管理 - 休假申请 - 列表** 中找到记录）。请注意，用户需要具有*批准/拒绝休假申请*的权限才能批准或拒绝休假申请。

## 删除休假申请

要删除休假申请，需要访问其表单视图（可以从菜单 **人事管理 - 休假申请 - 列表** 中找到记录）。为此，您需要具备*删除休假申请*的权限。通常，很少有人拥有此权限，因为与取消/拒绝相比，删除没有用。

然后点击按钮 **删除** 。

警告，被删除的休假申请将被永远删除，无法恢复它。







# 费用报销模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E9.85.8D.E7.BD.AE)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F_.2F_.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [5创建费用报销单](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E5.88.9B.E5.BB.BA.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95)
- [6验证费用报销单](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E9.AA.8C.E8.AF.81.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95)
- [7变更费用报销单](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E5.8F.98.E6.9B.B4.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95)
- [8批准/拒绝费用报销单](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E6.89.B9.E5.87.86.2F.E6.8B.92.E7.BB.9D.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95)
- [9费用报销单的支付](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95.E7.9A.84.E6.94.AF.E4.BB.98)
- [10删除费用报销单](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E5.88.A0.E9.99.A4.E8.B4.B9.E7.94.A8.E6.8A.A5.E9.94.80.E5.8D.95)
- [11相关视频](https://wiki.dolibarr.org/index.php?title=费用报销模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

通过此模块，员工可以管理（创建、编辑、删除）他们的费用报销。

他们的主管可以审批它，簿记员可以将他们设置为已付。

文档（费用报表扫描件）也可以附加到每个需求。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 生命周期 / 业务规则

费用报销单遵循以下生命周期：

```
      <------------------------------------------------------------\
     /                                                             |
    /                       /---------------------->---------> E-Canceled
   /                       /                      /
A-Draft --> B-Validated/Waiting approval --> C-Approved -----> D1-Enter payment ----> D2-Payed
   |             |        \                             \
   <--------------         \                             |
   |                        ---------------> D-Denied <--|
   |                                             /       /
   <--------------------------------------------<-------/ 
```



- A) “草稿”状态表示费用报销单尚不存在。其正式版本尚未完成。

- B) “已验证”状态也意味着“等待批准”。当您确认费用报销单时，将向主管发送电子邮件。

- C) 具有“审核费用报销单”权限的主管可以审核费用报销单。

- D) 具有“设置已付款”权限的用户可以将费用报销单归入 *已支付* 类别。

- E) 如果尚未进入“已支付"状态，费用报销单的作者可以取消它。然后，如果他想稍后重新提交，他可以将其发送回"草稿"状态。

## 创建费用报销单

创建费用报销单使用菜单：**人事管理 - 费用报销 - 新建**。

创建报销单需要选择一个审批人。

## 验证费用报销单

若要验证费用报销单，请访问其表单视图（可以从菜单 **人事管理 - 费用报销 - 列表** 中找到报销单）。

然后单击按钮 *验证并提交以供批准*。一封电子邮件将发送给用户的主管（或其他由费用报销单创建者选择的审批人）。

## 变更费用报销单

若要变更费用报销单，请访问其表单视图（可以从菜单 **人事管理 - 费用报销 - 列表** 中找到报销单）。

如果费用报销单处于草稿状态，则可以对其进行编辑。如果不在草稿状态，请单击按钮 **返回草稿**。

## 批准/拒绝费用报销单

若要批准或拒绝一个费用报销单，请访问其表单视图（可以从菜单 **人事管理 - 费用报销 - 列表** 中找到报销单）。

请注意，用户需要拥有 *批准/拒绝支出报表* 的权限才能批准或拒绝费用报销单。

## 费用报销单的支付

只有拥有 “支付费用报销单” 权限的用户才能在发票上输入付款（仅当启用了 [银行与现金模块](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash) 时才需要），并将费用报销单设置为“已支付”状态。

如果启用了银行模块，要输入付款，请先转到其表单视图上（可以从菜单 **人事管理 - 费用报销 - 列表** 中找到报销单），然后选择 *输入付款* 。如果未启用银行模块，则不要求输入付款。

要将费用报销单设置为“已支付”，请转到其表单视图上（可以从菜单 **人事管理 - 费用报表 - 列表** 中找到报销单），然后单击 *设置为已支付* 。

## 删除费用报销单

要删除一个费用报销单，请先转到其表单视图上（可以从菜单 **人事管理 - 费用报销 - 列表** 中找到报销单）。

为此，您需要拥有 *删除费用报销单* 权限。通常，很少有人拥有此权限，因为与 取消/拒绝 相比，删除不常用。

然后单击 **删除** 按钮。

警告，已删除的费用报销单是被物理删除了，无法还原它。









# 人力资源管理模块



## 简介

该模块提供管理员工合同的功能，并通过技能管理跟踪他们的职业生涯。

请注意，在人力资源管理类别中还有一些功能，由 2 个不同且独立的模块提供，它们是：

- [费用报销模块](https://wiki.dolibarr.org/index.php?title=费用报销)
- [休假模块](https://wiki.dolibarr.org/index.php?title=休假模块)

## 安装

此模块尚不可用（仍在开发中）...

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and clic on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) Page en attente d'être complété. Pour compléter, créez un compte, revenez et cliquez sur "Modifier". ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) Página a completar. Para completarla, cree una cuenta, vuelva a la página y haga clic en "editar" ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) Seite wartet auf Vervollständigung. Um zu helfen, erstelle ein Konto, gehe zurück und klicke auf "Bearbeiten". [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png)](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png) ページは未完成の状态です。完成させるにはアカウントを作成し、ページに戻って“编集”をクリックして下さい。 







# 合作方模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=合作方模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=合作方模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=合作方模块#.E9.85.8D.E7.BD.AE)
- [4新建合作方](https://wiki.dolibarr.org/index.php?title=合作方模块#.E6.96.B0.E5.BB.BA.E5.90.88.E4.BD.9C.E6.96.B9)
- [5修改合作方](https://wiki.dolibarr.org/index.php?title=合作方模块#.E4.BF.AE.E6.94.B9.E5.90.88.E4.BD.9C.E6.96.B9)
- [6删除合作方](https://wiki.dolibarr.org/index.php?title=合作方模块#.E5.88.A0.E9.99.A4.E5.90.88.E4.BD.9C.E6.96.B9)
- [7新建联系人](https://wiki.dolibarr.org/index.php?title=合作方模块#.E6.96.B0.E5.BB.BA.E8.81.94.E7.B3.BB.E4.BA.BA)
- [8编辑联系人](https://wiki.dolibarr.org/index.php?title=合作方模块#.E7.BC.96.E8.BE.91.E8.81.94.E7.B3.BB.E4.BA.BA)
- [9删除联系人](https://wiki.dolibarr.org/index.php?title=合作方模块#.E5.88.A0.E9.99.A4.E8.81.94.E7.B3.BB.E4.BA.BA)
- [10生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=合作方模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F_.2F_.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [11相关视频](https://wiki.dolibarr.org/index.php?title=合作方模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

“合作方”模块允许您管理客户、潜在客户和/或供应商（称为第三方）等实体。该模块是基于发票、订单、合同、提案等概念的许多其他模块的先决条件。

合作方是指任意客户、潜在客户或供应商。可以是公司/商业实体（例如：有限责任公司、贸易协会等）或个人。

联系人是业务实体的代表（例如有限责任公司的首席执行官或任何其他人、贸易客户的销售经理、协会的总裁或财务主管等）或个人。

Dolibarr对合作方和企业以同样的方式运作。此外，对于个人，“联系人”具有与“公司”对象相同的特征/信息。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://wiki.dolibarr.org/images/e/ed/Cog.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。 有关合作方模块设置的说明，请参阅[合作方模块设置](https://wiki.dolibarr.org/index.php?title=Module_Third_Parties_setup)页面。

## 新建合作方

点击顶部菜单“合作方”，然后在左侧菜单“合作方”下选择“新建合作方”或“新建潜在客户”或“新建客户”或“新建供应商”（**示例：合作方->合作方->新建供应商**）。

输入信息，并非所有字段都是必填字段。

创建合作方后，您可以使用相应的标签卡添加备注和添加链接文件。

## 修改合作方

进入合作方菜单，点击合作方的名称进行修改。

单击按钮“变更”（右下角）。然后输入所有更改。

点击“保存”按钮。

## 删除合作方

进入合作方标签页，然后单击“删除”按钮。 如果合作方具有链接的对象（发票、合同、订单等），则无法将其删除。

## 新建联系人

有多种方法可以创建联系人/地址

- 进入菜单“第三方 - 联系人/地址 - 新建联系人/地址”。输入信息（您不必填写所有字段）。这将创建一个无法链接到合作方的联系人。

- 基于合作方创建，先进入客户或供应商标签页，然后单击“创建联系人”。输入需要的信息（您不必填写所有字段）。这将创建一个链接到合作方的联系人。

## 编辑联系人

进入菜单“合作方 - 联系人/地址 - 列表”，单击要编辑的联系人，然后选择标签页或个人信息。

单击“变更”（右下角）。

输入更改。

点击“保存”。

## 删除联系人

打开联系人标签页，然后单击“删除”按钮。

## 生命周期 / 业务规则

合作方有两种状态: 打开 或者 禁用 。已删除的合作方不会改变其状态，但会彻底不显示它。

您可以为合作方创建一个或多个实际联系人或地址（这些联系人将被用于发送[商业提案](https://wiki.dolibarr.org/index.php?title=Module_Commercial_Proposals)、[客户订单](https://wiki.dolibarr.org/index.php?title=Module_Customers_Orders)、[客户发票](https://wiki.dolibarr.org/index.php?title=Module_Customers_Invoices)等的电子邮件...）。







# 报价单模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=报价单模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=报价单模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=报价单模块#.E9.85.8D.E7.BD.AE)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=报价单模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F_.2F_.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [5创建报价单](https://wiki.dolibarr.org/index.php?title=报价单模块#.E5.88.9B.E5.BB.BA.E6.8A.A5.E4.BB.B7.E5.8D.95)
- [6关闭报价单()osal（拒绝或签署并计费）](https://wiki.dolibarr.org/index.php?title=报价单模块#.E5.85.B3.E9.97.AD.E6.8A.A5.E4.BB.B7.E5.8D.95.28.29osal_.28Refused_or_Signed_then_Billed.29)
- [7文档模板](https://wiki.dolibarr.org/index.php?title=报价单模块#.E6.96.87.E6.A1.A3.E6.A8.A1.E6.9D.BF)
- [8相关视频](https://wiki.dolibarr.org/index.php?title=报价单模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

报价单或商业建议书是您向客户提供的建议文档，使客户了解您提供的服务或产品的价格。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 生命周期 / 业务规则

报价单刚创建时，处于草稿状态。

确认后，处于已验证状态。 最后，您可以关闭处于"已签署"（客户已接受报价）或"已拒绝"状态的报价单。

之后，您可以手动或自动将报价单转换为发票或订单。

## 创建报价单

报价单的创建是在合作方表单页。该合作方必须是"客户"或"准客户"。 此外，还必须激活报价单模块。

要创建建议书，请打开相关合作方表单页的"客户"或"准客户"标签页。 单击"添加报价单"按钮。

然后按照提示创建报价单草稿，并在准备就绪时进行验证。

## 关闭报价单()osal（拒绝或签署并计费）

当报价单被设置为"已拒绝"时，报价单将被关闭。

如果客户同意报价后将报价单设置为"已签署"，则准客户将自动转变为客户（如果他们还不是客户）。

接下来，您需要决定何时关闭报价单（在创建订单或验证发票时）。

如果您正确配置了 [工作流模块](https://wiki.dolibarr.org/index.php?title=Module_Workflow) ，可以自动创建订单"草稿"，还可以在创建订单之后或发票验证通过时自动关闭报价单。

## 文档模板

Dolibarr可以处理多个报价单模板，这些模板必须在模块的配置部分被激活。如果您了解PHP语言，还可以创建自己的模板。报价单模板位于目录：/includes/modules/propale/ 中。







# 销售订单模块

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Configuration)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Life_cycle_.2F_Business_rules)
- [5创建订单](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Create_an_order)
- [6修改订单](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Modify_an_order)
- [7处理订单（发货和开票）](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Process_an_order_.28Deliver_and_Bill.29)
- [8删除订单](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Delete_an_order)
- [9相关视频](https://wiki.dolibarr.org/index.php?title=Module_Sales_Orders#Related_videos)

## 简介

通过此模块，您可以管理（创建、编辑、删除）客户的订单。您还可以将订单转换为发票（如果使用了模块）。

它还提供了生成订单相关文档的功能，格式如 PDF。

供应商的订单则由模块管理。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

请注意，激活此模块将自动激活 [客户供应商模块 ](https://wiki.dolibarr.org/index.php?title=Module_Third_Parties)。

## 生命周期 / 业务规则

客户订单遵循以下生命周期（括号中的值是状态代码）：

如果启用了发货模块：

```
Draft (0) --> Validated (1) --> Shipment in process (2) --> Delivered (3) -------> Processed (=Delivered + Billed)
                           \                             \                      /
                            \---------------> Invoice created -----------------/
```

如果未启用发货模块：

```
Draft (0) --> Validated (1) ---> Delivered (3) --------> Processed (=Delivered + Billed)
                            \                         /  
                             \-> Invoice created ----/
```

注意：隐藏选项 WORKFLOW_BILL_ON_SHIPMENT 可能会改变标签，但这是一个非官方选项，始终默认关闭。

- “订单待开票”状态并不是一个特定的状态。对于一些用户来说，它与“已确认”状态相同，而对于其他用户来说，则与“已交付”状态相同。这取决于您是选择在交付前还是交付后生成发票（两种方式都是可行的）。

- “发货中”状态仅在使用了<宗 id=0>发货模块时可见。

一旦订单被其创建者确认，如果启用了发货模块，您可以在订单被取消或以“处理中”状态关闭之前，生成一个或多个发货收据来发送产品。

您也可以在需要时将订单定义为“已交付”（更改状态为“已交付”）。

您可以从客户订单的状态为“已确认”或“已发货”时生成一份或多份发票。请注意，默认情况下，从订单生成的发票内容和金额相同，但生成发票后，您可以编辑发票以更改这些内容。

如果您点击“分类已计费”和“分类已发货”，这将把状态更改为“已处理”，订单将从“已发货订单”菜单中消失，而应显示在“已处理订单”中。

## 创建订单

创建发票需要在第三方的卡片上进行，并在“客户”标签页下操作（前提是您的第三方具有客户性质）。

如果启用了[工作流模块](https://wiki.dolibarr.org/index.php?title=Module_Workflow_En)和[销售报价模块 ](https://wiki.dolibarr.org/index.php?title=Module_Commercial_Proposals)，在报价关闭后，还可以自动创建一份草稿客户订单（您必须在[工作流模块](https://wiki.dolibarr.org/index.php?title=Module_Workflow_En)的设置中进行此设置）。

## 修改订单

要修改订单，请进入其卡片（您可以通过菜单**销售 - 客户订单 - 列表**或**第三方卡片 - 客户标签**找到订单）。

如果订单处于草稿状态，您可以编辑它。如果不是，请点击操作按钮**修改** 。

## 处理订单（发货和开票）

要处理订单，您必须同时发货和开票。因此，一旦订单完全发货，您就可以在卡片上将其关闭。

注意：如果启用了“工作流模块”和“发票模块”，当关联的发票被验证或支付时，您也可以自动将订单标记为已开票。

## 删除订单

要删除一个订单，请在其卡片上操作（您可以通过菜单“销售 - 客户订单 - 列表”或“第三方卡片 - 客户标签”找到订单）。

然后点击动作按钮 **删除订单** 。

注意，删除的订单将被永久删除，无法恢复。





# 发货模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Shipments#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Shipments#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Shipments#Configuration)
- 4使用方法
  - [4.1在标准配置下](https://wiki.dolibarr.org/index.php?title=Module_Shipments#In_standard_configuration)
  - [4.2使用隐藏选项 WORKFLOW_BILL_ON_SHIPMENT（不支持，不稳定）](https://wiki.dolibarr.org/index.php?title=Module_Shipments#Using_the_hidden_option_WORKFLOW_BILL_ON_SHIPMENT_.28not_supported.2C_unstable.29)
  - [4.3注](https://wiki.dolibarr.org/index.php?title=Module_Shipments#Note)

## 简介

发货模块允许您从销售订单管理产品发货。可以跟踪已发货的数量和待发货的数量，生成装箱单，并查看分发证明。

注意：对于收货，请参见 。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用方法

### 在标准配置下

激活该模块后，可以从销售订单创建发货单。发货流程如下：

```
Draft (0) ---X---> Validated = Prepared / To ship or Shipped (1) ---X---> Processed (Closed / Shipped) '' (2)
                                                 \                                  /
                                                  <---------------------------------
```

注意：

- 对于除“草稿”状态以外的其他状态，数量将无法再进行修改。
- 括号中的数字：数据库中状态的数值
- X 表示在此步骤中可以自动减少库存（具体取决于 [库存模块 ](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En)的库存减少配置）。


TODO 进展计划：

- 在草稿模式下可以编辑发货单。将创建模式中使用的表单移至草稿编辑页面，并添加一个按钮以切换（单个仓库/所有仓库）。
- 当启用了“批次”模块时，在发货/关闭之前必须能够输入批次并更改数量。
- 在“已验证”状态时，允许修改发货数量。这样就可以创建无订单的合格发货，作为无订单的准备订单吗？

### 使用隐藏选项 WORKFLOW_BILL_ON_SHIPMENT（不支持，不稳定）

从 v18-开始：如果设置了隐藏选项 WORKFLOW_BILL_ON_SHIPMENT，关闭步骤将被替换为已开票。

```
Draft (0) --X--> Validated (1) ---> Invoiced (2)
```

从 v19+开始：流程保持不变，当值设置为 0 或未定义（默认值）时，状态标签没有变化。如果设置为 1，则不能再从订单中创建发票（只能从发货中创建）。

### 注

根据库存模块的配置，库存可以减少：

- 发货的确认。
- 关闭发货单。

对于管理发货的公司而言，关闭步骤可以意味着承运人负责的提货，而验证步骤则是内部处理订单（打包、签发提单）







# 合同模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Contracts#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Contracts#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Contracts#Configuration)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_Contracts#Life_cycle_.2F_Business_rules)
- [5相关视频](https://wiki.dolibarr.org/index.php?title=Module_Contracts#Related_videos)

## 简介

管理您的服务合同和订阅。

合同的目标是跟踪服务是否处于活动状态或已过期，并在需要时续订服务。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 生命周期 / 业务规则

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成，请创建一个账户，返回并点击“修改”。 









# 模块干预



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Interventions#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Interventions#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Interventions#Configuration)
- 4使用/生命周期
  - [4.1默认设置](https://wiki.dolibarr.org/index.php?title=Module_Interventions#Default_setup)
  - [4.2启用选项 FICHINTER_CLASSIFY_BILLED](https://wiki.dolibarr.org/index.php?title=Module_Interventions#With_option_FICHINTER_CLASSIFY_BILLED)
  - [4.3签名状态（Dolibarr v21 alpha）](https://wiki.dolibarr.org/index.php?title=Module_Interventions#Signature_status_.28Dolibarr_v21_alpha.29)

## 简介

干预是服务/维护订单的一种形式

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/0aa48ff7438e19816bed83014486f773.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用 / 生命周期

### 默认设置

启用模块后，可以创建干预文件。

当干预被验证或关闭时，可以为其添加签名。

*干预的工作流如下（括号中的数字是状态的技术代码）：*

```
Draft (0) -------->  Validated (1) ------> Closed - Done (3)
    \                     /  \                    /
     \----------<--------/    \----------<-------/
      \
       \------> Convert into a recurring intervention
```

### 启用选项 FICHINTER_CLASSIFY_BILLED 后

如果定义了隐藏选项 FICHINTER_CLASSIFY_BILLED，则会引入一个“计费”步骤。

```
Draft (0) ----->  Validated (1) ----> Billed (2) ----> Closed - Done (3)
   \                   /  
    \----------<------/
```

注意，此状态/选项将被移除。应使用一个名为“billed”的属性来替代，该属性可以在“已验证”或“完成”状态中定义。

### 签名状态（Dolibarr v21 alpha）

Dolibarr v21（当前处于 alpha 测试阶段）提供了原生签名状态功能：

|   Status label    | Status code |
| :---------------: | :---------: |
|    Not signed     |      0      |
| Signed internally |      1      |
|    第三方签署     |      2      |
|  在线第三方签署   |      3      |
|    所有方签署     |      9      |

签署状态在干预项验证后可以设置。它们与生命周期状态无关。默认签署状态为“未签署”。

第三方用户（公众用户）的在线签名将自动将签署状态设置为“第三方签署”。

签署状态将使用 `FICHINTER_MODIFY` 动作触发器，并附加上下文信息，以实现自动事件和邮件通知。





# 模块票务



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Installation)
- 3配置
  - [3.1公共接口](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Public_interface)
- [4工作流](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Workflow)
- [5从后台创建票据](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Create_a_ticket_from_the_backoffice)
- [6从公共界面创建票据](https://wiki.dolibarr.org/index.php?title=Module_Ticket#Create_a_ticket_from_the_public_interface)

## 简介

此模块允许您管理帮助台服务。您可以在后端创建和跟踪工单，也可以从一个轻量级的公共门户中创建和查看工单。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 公共界面

提供了一个公共界面来创建和查看工单：<your dolibarr URL>/public/ticket/

您可以使用验证码保护公共页面。这可以在主页 -> 设置 -> 安全性 中启用，您可以在那里设置关于公共页面上使用验证码的开关。

## 工作流

票务的默认工作流是（括号中的数字是状态编号）：

```
                                             --> on Hold (7) --->
                                              \                /
Not read (0) ---> Read (1) --> Assigned (2) --> In progress (3) ------------>  Closed/Solved (8)
 |                                             /               \                              
 |                                     Waiting feedback requester (5)
  \                                                    /
   \--------------------------------------------------/
                          |
                      Canceled (9)
```

## 从后台创建一个票务

1. 点击“票务”以激活票务模块
2. 点击左侧列的“新建工单”
3. 填写字段信息
4. 点击“创建票证”
5. 完成

## 从公共界面创建工单







# 知识管理模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management#Configuration)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Knowledge_Management#Usage)

## 简介

也称为 KM（知识管理）或 KMS（知识管理系统），此模块允许您管理知识库。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用方法

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成它，请创建一个账户，然后返回页面并点击“编辑”。 









# 采购订单模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Configuration)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Life_cycle_.2F_Business_rules)
- [5创建供应商订单](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Create_a_supplier_order)
- [6关闭供应商订单](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Close_a_supplier_order)
- [7删除供应商订单](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Delete_a_supplier_order)
- [8修改供应商订单](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Modify_a_supplier_order)
- [9相关视频](https://wiki.dolibarr.org/index.php?title=Module_Purchase_Orders#Related_videos)

## 简介

模块 **采购订单**（也称为 **供应商订单**）目前由 **供应商** 模块托管。您可以在其中输入对客户的订单，并添加详细信息行，然后将其发送给客户。如果您使用 **库存模块**，还可以接收库存中的产品。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。


**3步审批选项：**

默认情况下，采购订单需要由一个用户（具有创建权限）创建，并由另一个用户（具有审批权限）审批。因此，这需要两步：一步/一个用户创建/验证，一步/一个用户审批。需要注意的是，如果一个用户同时具有这两种权限，这两项操作将同时进行。"3步审批"选项在订单金额超过某个定义值时，需要第三步/一个用户的审批，因此总共需要3步：

- 1=创建/验证，
- 2=第一次审批，
- 3=如果金额需要，进行第二次审批。如果仅需一次审批（2步），则留空此字段；如果仍需第二次审批（3步），则填写一个非常低的值（0.1）。

## 生命周期 / 业务规则

供应商订单的生命周期如下：

```
Draft (0) --> Validated (1) --> Approved (2) --> Ordered to vendor (3) ---------------------------------/---> Received completely (5)
                            \                 \                         \--> Received partially (4) ---/          \  
                             \                 \                         \--> Canceled (7)                         \
                              \                 \                         \                                         \
                               \                 \-------------------------\-----------------------------------------\----> Creation of invoice or Classify "Billed"
                                \                 \
                                 \                 \--> Canceled (6)
                                  \
                                   \--> Refused (9)
```

## 创建供应商订单

从应用程序的第三方或供应商部分、供应商标签下的供应商文件创建供应商订单。允许此操作的按钮位于供应商文件的动作栏中。

订单随后处于草稿状态。

然后，您必须从给定列表中选择供应商销售的产品。如果您想添加新产品，需要通过产品/服务界面创建产品，然后使用产品的供应商标签页，输入此供应商的最低价格和数量。产品随后将出现在该供应商的产品列表中，并可以添加到订单行中。

## 关闭供应商订单

一旦订单中的产品或服务收到，您必须返回订单表单输入收货信息。订单的状态将根据输入的信息变为部分收到或完全收到。

## 删除供应商订单

要删除一个订单，您需要打开其文件。只有草稿状态的订单才能被删除。一旦订单被验证，只能取消订单。删除订单会删除所有与该订单相关的数据。

**删除的订单无法恢复。**

## 修改供应商订单

要修改一个订单，您必须打开其文件。只有草稿状态的订单才能被修改。







# 客户发票模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E9.85.8D.E7.BD.AE)
- [4创建发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.88.9B.E5.BB.BA.E5.8F.91.E7.A5.A8)
- 5减少总金额和/或应付余额
  - [5.1减价](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.87.8F.E4.BB.B7)
  - 5.2折扣
    - [5.2.1与超额收款相关的折扣](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E4.B8.8E.E8.B6.85.E9.A2.9D.E6.94.B6.E6.AC.BE.E7.9B.B8.E5.85.B3.E7.9A.84.E6.8A.98.E6.89.A3)
    - [5.2.2与已收款无关的折扣](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E4.B8.8E.E5.B7.B2.E6.94.B6.E6.AC.BE.E6.97.A0.E5.85.B3.E7.9A.84.E6.8A.98.E6.89.A3)
  - [5.3总结](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E6.80.BB.E7.BB.93)
- 6PDF的生成、打印、发送
  - [6.1批量打印](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E6.89.B9.E9.87.8F.E6.89.93.E5.8D.B0)
- [7输入付款](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E8.BE.93.E5.85.A5.E4.BB.98.E6.AC.BE)
- [8关闭发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.85.B3.E9.97.AD.E5.8F.91.E7.A5.A8)
- [9导出发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.AF.BC.E5.87.BA.E5.8F.91.E7.A5.A8)
- [10预定义的发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E9.A2.84.E5.AE.9A.E4.B9.89.E7.9A.84.E5.8F.91.E7.A5.A8)
- 11相关视频
  - [11.1客户发票的结算和收款视频](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.AE.A2.E6.88.B7.E5.8F.91.E7.A5.A8.E7.9A.84.E7.BB.93.E7.AE.97.E5.92.8C.E6.94.B6.E6.AC.BE.E8.A7.86.E9.A2.91)
  - [11.2定期发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.AE.9A.E6.9C.9F.E5.8F.91.E7.A5.A8)
- 12用例示例
  - [12.1分期付款](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.88.86.E6.9C.9F.E4.BB.98.E6.AC.BE)
  - [12.2发票及其付款](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E5.8F.91.E7.A5.A8.E5.8F.8A.E5.85.B6.E4.BB.98.E6.AC.BE)
  - [12.3更正发票错误](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E6.9B.B4.E6.AD.A3.E5.8F.91.E7.A5.A8.E9.94.99.E8.AF.AF)
  - [12.4预定义发票](https://wiki.dolibarr.org/index.php?title=客户发票模块#.E9.A2.84.E5.AE.9A.E4.B9.89.E5.8F.91.E7.A5.A8)

## 简介

客户发票模块可用于管理客户发票（创建、更新、删除、展示）。每张发票包含多个发票行。

该模块还用于创建发票的收款，并具有以PDF等格式为每张发票生成文档的功能。

供应商发票由 [供应商发票模块](https://wiki.dolibarr.org/index.php?title=供应商发票模块) 管理。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。



页面 [发票配置](https://wiki.dolibarr.org/index.php?title=Invoice_Configuration) 介绍了如何设置发票模块，并提供了发票模板的一些示例。

## 创建发票

目前，Dolibarr没有完整的会计流程管理。因此，您仍然必须使用您选择的第三方会计软件包或使用会计师提供的服务。

但是，Dolibarr可以为您之前创建的所有客户创建客户发票（请参阅 [合作方模块](https://wiki.dolibarr.org/index.php?title=合作方模块)）。

您可以直接从客户记录、“已接受”状态的报价单、已关闭的订单（状态为“已接受”）或服务合同创建发票。

**票据种类**

如果您从客户记录中创建发票，则可以选择 4 种类型的发票：

- 标准发票

这是一张标准发票。没有先决条件。

- 替换发票

替换发票可以重新开具存在错误、且未执行任何操作（未输入收款）的发票。

每张发票只能创建一个替换发票。创建替换发票 R 时，必须选择要替换的发票 F。一旦创建了 R，即使 F 的发票状态未更改，也无法再对 F 执行操作。

如果替换发票 R 被删除，则发票 F 将恢复其原始状态并继续其生命周期。

如果替换发票 R 已验证，则 F 的发票状态将自动变为“已放弃”。生命周期在发票 R 上继续。

- 贷项凭单发票

您可以为发票创建多个贷项凭单发票。贷项凭单发票是用于更正（减少）标准发票的发票。可以返还贷项凭单发票的金额，也可以将其转换为折扣，用以减少客户支付任何其它发票的待付款。

- 预付款发票

您可以根据需要创建任意数量的预付款发票。然后，预付款发票将转换为与预付款相关的另一张发票（最终发票）的折扣（已支付）。

**步骤**

创建发票后（属草稿模式），您必须为发票选择已在 Dolibarr 中定义的产品或服务，或者直接输入其名称、增值税率、单价。对于发票内的每一行，您还可以定义数量和可能的相对折扣（百分比）。

发票准备好之后，您需要确认发票。请注意，此操作是不可逆的。

确认发票时，系统将根据您在发票模块配置中选择的编号方案分配一个发票编号。

如果在确认发票后检测到错误，您可以通过单击发票页底部的**变更**按钮修改发票（如果发票尚未达到已收款状态），或者使用发票页底部的**重新打开**按钮重新打开并修改发票（如果发票已经达到已收款状态）。也可以为它制作替换发票或制作贷项凭单。

**增值税计算规则**

- 增值税计算规则的解释位于页面 [增值税计算和四舍五入规则](https://wiki.dolibarr.org/index.php?title=VAT_calculation_and_rounding_rules) 中。

**印花税票**

- 某些国家（如突尼斯）需要缴纳印花税（基于每张发票的固定税款）。在字典表 [Table_llx_c_revenuestamp](https://wiki.dolibarr.org/index.php?title=Table_llx_c_revenuestamp) 中定义了相关国家和税款金额的清单。如果贵公司所在的国家/地区被包含在此清单中，则发票的屏幕显示和文档上会出现“印花税票”字段。

## 减少总金额和/或应付余额

可以减少发票的总金额和/或应付余额，但应该区分是折扣还是减价，尽管这两个术语在某些地方被混为一谈。

### 减价

“减价”是指发票上详细列出的一种或多种产品或服务的销售价格的相对降低（百分比）。此扣减必须在发票编辑过程中逐行定义，并且其值必须介于 0% 和 100% 之间（注意：在100%折扣的情况下，折扣百分比被提供的 *声明* 取代）。

### 折扣

“折扣”是指发票总价的降低。它可以通过两种方式定义，具体取决于它是否与另一张发票相关联，即是否与已收到的付款相关联。

#### 与超额收款相关的折扣

贷项凭单发票和预付款发票，用于跟踪收到的付款（贷项凭单发票对应收款或预付款），可转换为未来的折扣。转换为折扣后，它们将显示在合作方的固定折扣部分。然后可以将其分配给另一张发票以减少发票金额。

与发票收款超过发票金额相关联的超额收款也会显示在折扣中。

当折扣金额大于要支付的发票金额时，从折扣列表中，我们将折扣分为两部分（行右侧的按钮），第一个金额对应于发票金额，第二个是折扣余额。然后，将该折扣的一部分用于发票的收款，并归类为“已支付”。

如果在新发票中使用折扣，将以减少应付余额或发票明细行的形式使用折扣。默认情况下，是添加到发票的明细行，从而减少新发票的总金额。

注意：隐藏选项 FACTURE_DEPOSITS_ARE_JUST_PAYMENTS 允许您将此扣除额显示为已支付的金额，而不是最终发票总金额的减少额。在这种情况下，分期付款发票不被包括在营业额的计算中（因为它被包含在最终发票的总金额中）。如何正确设置此选项取决于您所在国家的会计准则，但这两种规则通常都被接受。

#### 与已收款无关的折扣

也可以设置与已收到的付款无关的折扣。在这种情况下，您必须转到客户页面的“客户”选项卡，并定义分配给该客户的固定折扣（金额）或相对折扣（百分比），以及原因（商业姿态、延迟交货后的补偿等）。一旦这些折扣分配给客户，在编辑该客户的任何发票时，将在页面顶部的 **折扣** 部分提供这些折扣。与已收到付款后的折扣不同，这些折扣将在发票明细表中显示为负行，因此将在扣除已收到的任何付款之前减少发票总金额。但这些折扣与贷项凭单或预付款无关。

### 总结

因此，降低发票金额的途径有三种：

- 为发票明细中的某些产品/服务指定一个 **减价** 百分比，这将导致**总金额**低于正常预期总金额*。*
- 为客户指定一个与贷项凭单发票和预付款发票无关的 **全局折扣**，然后将其添加为发票的负金额行，以减少发票的**总金额**。
- 通过把“**贷项凭单或发票保证金**”转换为未来的减扣金额，作为已收到的预付款，这将减少**应付余额**，但不会减少发票的总金额；

## PDF的生成、打印、发送

生成文档时，将根据从“主页 - 设置 - 模块/应用 - 发票”页面中模板清单中选择的模板生成文档。

如果您希望 PDF 文件中包含贵公司的银行帐号或付款支票寄送地址（或两者兼而有之），请执行以下操作：

1. 激活 银行|现金 模块。
2. 创建您的公司账户。
3. 进入菜单“主页-设置-模块/应用-发票”，然后单击配置图标（齿轮），在“付款方式”部分选择在步骤2中创建的公司帐户，或选择用于寄送付款支票的地址，然后单击该部分中的“变更”按钮验证更改。

您现在可以重新生成发票，您将在付款条件下看到贵公司银行帐号或付款支票寄送地址。

如果您已启用电子邮件发送，则有一个特定的“通过电子邮件发送”按钮可用。它在窗口底部显示一个发送表单，并附上发票。您还可以为未付款发票设置提醒模板。

对于来自已注册产品或服务的行，默认情况下会显示编号、名称和描述。如果要隐藏编号或描述，可以通过“**主页 - 设置 - PDF**”进行配置。

您可以更改两个选项：

- 在生成的PDF中隐藏产品描述
- 在生成的PDF中隐藏产品编号

此设置也适用于报价单和订单。

#### 批量打印

如果要一次打印多张发票，可以生成一个PDF文档来收集要打印的文档，然后打开并打印该文档。

为此，进入菜单“结算|付款 - 客户发票 - 列表”：

- 应用适合您的过滤器以显示所有要一起打印的发票
- 全部勾选（右栏顶部的复选框）或单独勾选所需的文档
- 在从至少一个复选框的复选标记中显示的下拉列表中 **-- 选择操作-- - 合并 PDF**，然后
- 点击 **确认** 按钮

指向 PDF 文档的链接将添加到表格下方的列表中（如有必要，请点击**查看批量生成的文件列表**）。

## 输入付款

只能对已验证的发票进行付款。

如果有贷项凭单可用，则可在发票上创建总金额低于贷项凭单发票金额的已收款。

输入付款后，可以重新生成发票的PDF文档，以显示已付款和待支付余额。

## 关闭发票

已验证的发票可最终归类为：

- 已收款（如果收款金额大于等于应收金额）。
- 部分收款（如果收款金额大于0但是小于应收金额）。
- 已放弃（如果未付款）。

## 导出发票

Dolibarr提供了一个通用工具来导出您的发票数据。为此，您必须使用“**工具 - 导出助手 - 新建导出**”菜单（如果已经启用 [导出模块](https://wiki.dolibarr.org/index.php?title=Module_Exports_En) ）。

更多详细信息，请参阅 [导出模块](https://wiki.dolibarr.org/index.php?title=Module_Exports_En) 页面。

## 预定义的发票

在Dolibarr中，指定为预定义的发票只是一张发票，其中的大部分数据将被重复使用，以便根据该信息开具其他发票，从而节省了大量的输入时间。

在执行合同的情况下，发票可以预先定义，其与合同的重复要素相对应。这很有用。唯一的缺点是，为生成的发票的每个要素指定的期限涵盖了整个合同期限。它应该只与结算月份有关。







# 税款和社会贡献模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions#Configuration)
- [4生命周期 / 管理规则](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions#Cycle_de_vie_.2F_R.C3.A8gles_de_gestion)
- [5使用案例示例](https://wiki.dolibarr.org/index.php?title=Module_Taxes_and_social_contributions#Examples_of_use_cases)

## 简介

该模块用于管理增值税或社会贡献的支付。

## 安装

此模块包含在 Dolibarr 分发中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 设置 - 模块** " 启用它。

选择列出该模块的标签页，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上或模块行末出现一个齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，点击它以访问特定于该模块的设置页面。

## 生命周期 / 管理规则

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and click on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面处于未完成状态。请创建一个账户，返回页面并点击“编辑”以完成它。 

## 使用案例示例

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and click on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面处于未完成状态。请创建一个账户，返回页面并点击“编辑”以完成它。









# 捐赠模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Donations#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Donations#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Donations#Configuration)
- [4捐赠用例示例](https://wiki.dolibarr.org/index.php?title=Module_Donations#Examples_of_use_cases)

## 简介

该模块用于管理捐赠。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用案例示例

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面处于未完成状态。请创建一个账户，返回页面后点击“编辑”以完成它。 







# 银行和现金模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Configuration)
- [4定义](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Definitions)
- [5生命周期 / 管理规则](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Lifecycle_.2F_Management_Rules)
- [6创建新账户 / 现金](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Create_a_new_account_.2F_cash)
- 7删除 / 禁用账户
  - [7.1禁用账户](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#To_disable_an_account)
  - [7.2删除账户](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#To_delete_an_account)
- [8使用案例示例](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Example_of_use_case)
- [9相关视频](https://wiki.dolibarr.org/index.php?title=Module_Banks_and_Cash#Related_video)

## 简介

此模块用于管理银行账户或现金账户。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 定义

- **一个银行账户**是指银行账户（通常这个账户可以写支票或刷卡支付）。
- **现金账户**是指存放现金、钱包或商家收银台的现金账户。

当我们收到支票/汇票付款时，它必然会被存入银行账户，但当我们收到现金时，可以选择存放在钱包、收银机（现金账户）中，或者暂时存放起来待以后存入银行。Dolibarr 可以创建所需的任意数量的银行账户或信用社账户。为了管理现金流量，至少需要一个账户（通常是银行账户，除非管理的交易不接受支票/汇票或信用卡，所有交易都是现金交易，采购和销售都是如此），但这不是强制性的。如果不需要通过 Dolibarr 管理现金，可以禁用“银行/基金”模块。

## 生命周期 / 管理规则

![En verysmall.png](https://wiki.dolibarr.org/images/a/a8/En_verysmall.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://wiki.dolibarr.org/images/c/c4/Fr_verysmall.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://wiki.dolibarr.org/images/6/66/Es_verysmall.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成，请创建一个账户，然后返回页面点击“编辑”。 

## 创建新账户 / 现金

1.1 / 点击菜单中的银行/现金。

1.2 / 在左侧列中点击“新建财务账户”。

1.3 / 指定账户标签并填写所需详细信息，然后点击“创建账户”。

2.1 / 在左侧列的“银行账户”标题下，点击您刚刚指定的账户标签。

2.2 / 对于“账户类型”为“活期或信用卡账户”或“储蓄账户”的情况，选择“银行账户号码”标签，然后点击右下角的“编辑”以填写详细信息等。

2.3 / 现在您可以在“发票和信用”模块中选择账户进行转账 [以管理员身份登录，配置 / 模块 / 财务模块（会计/现金）]

## 删除/禁用账户

### 禁用账户

要禁用一个金融账户，请进入“银行/现金”菜单。在左侧菜单中选择要删除的银行账户，账户卡片将显示出来。点击“修改”，将状态改为“关闭”。需要时可以重新启用该账户。

### 删除账户

请注意，删除账户将移除该账户及其所有已匹配的记录。通常情况下，您可能更愿意仅禁用银行账户（参见上一段）。要删除一个财务账户，请进入“银行/现金”菜单。在左侧菜单中选择要删除的银行账户，账户卡片将显示出来。点击“删除”并确认。

## 使用示例

![En verysmall.png](https://wiki.dolibarr.org/images/a/a8/En_verysmall.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://wiki.dolibarr.org/images/c/c4/Fr_verysmall.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://wiki.dolibarr.org/images/6/66/Es_verysmall.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成，请创建一个账户，返回页面并点击“编辑”。







# 模块常规订单

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders#Configuration)
- [4使用案例示例](https://wiki.dolibarr.org/index.php?title=Module_Standing_Orders#Examples_of_use_cases)

## 简介

此模块用于管理自动 Standing Orders。

从屏幕中，您可以在等待支付的发票上创建一些自动 Standing Orders 请求。然后从屏幕或命令行中，请求 Dolibarr 自动插入付款并构建一个用于提款的 txt 文件。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用案例示例

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面并点击“编辑”以完成它。







# 模块利润





## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Margins#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Margins#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Margins#Configuration)
- [4管理采购价格/成本](https://wiki.dolibarr.org/index.php?title=Module_Margins#Managing_purchase_prices.2Fcosts)
- [5管理销售人员](https://wiki.dolibarr.org/index.php?title=Module_Margins#Manage_your_sales_people)
- [6录入文档](https://wiki.dolibarr.org/index.php?title=Module_Margins#Entering_a_document)
- [7折扣情况](https://wiki.dolibarr.org/index.php?title=Module_Margins#Case_of_discounts)
- [8通用汇总](https://wiki.dolibarr.org/index.php?title=Module_Margins#General_summaries)

## 简介

此模块自 Dolibarr 3.3.0 版本起包含在内

利润模块允许您计算并显示销售中的利润。汇总表提供了每个文档（商业提案、订单、合同、发票）以及总体、按用户、按产品和按客户视角的利润视图。

毛利可以默认根据最佳采购价格或加权平均价格（AWP）来计算，尽管也可以随时自由输入采购价格。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您首先需要激活它。为此，在使用管理员账户登录后，前往“首页 - 配置 - 模块”页面。

选择模块出现的标签页，然后点击“激活”。

模块随后将被激活。

定义模块的全局运行参数：

选择管理的毛利率或净利率类型

显示毛利率或品牌率

如果未在行中输入采购价格，模块的行为：

在“ON”状态下，该行以零毛利计入（采购价格被强制等于销售价格）

在“OFF”状态下，该行以销售价格对应的毛利计入（采购价格被强制为 0）。

选择一种管理整体折扣的方法：在总价上、在产品上还是在服务上

（可选）定义一种联系人类型，用于将文档的毛利分配给除销售代表外的其他用户。可以使用 Dolibarr 预设的联系人类型，或者为此目的创建一种新的联系人类型（在“配置” -> “字典” -> “联系人类型”中）。

## 管理采购价格/成本

在产品和服务单据中输入供应商的采购价格——您可以输入多个。这些价格将在输入销售提案、客户订单和客户发票的行中作为采购价格的选择（下拉列表）中提出——它们还允许您创建供应商订单。在产品和服务的供应商档案中，有一个额外的字段称为“费用”，允许您向供应商采购价格中添加自己的费用。总成本将是您的产品或服务的成本价格。如果在设置中选择计算净毛利，那么以下所有毛利计算都将基于这个成本价格，而不是仅基于供应商价格。如果您因为购买了一定数量的产品（例如，100把椅子）而获得了特定的折扣率，也可以输入相应的“批量”费用。这些费用将分配到此订购批次中的每一项作为单位成本进行考虑。

## 管理您的销售人员

为了按销售人员跟踪毛利，你需要为不同的销售人员创建相应的用户账户。这些账户必须是公司内部账户，而不是外部账户。然后，在客户信息标签页的“文件”选项卡中，你需要选择一个销售人员与该客户关联。从那时起，无论哪个用户创建发票，毛利都将记录到该销售人员名下，除非在发票上另行定义不同类型的联系人和用户（具体情况具体处理）。

**注意** : Dolibarr 允许为第三方分配多个销售代表。然而，Margins 模块不处理这种情况，您的利润率将会乘以所指示的销售代表数量。

因此，您必须为每个第三方（主要销售人员）分配**仅一个销售人员** ，然后通过每个相关文档的“联系人/地址”标签页管理不同销售人员的情况，选择相关的用户以及您在模块配置中定义的联系类型。

## 录入文档

在报价/订单/发票行项中，选择或输入产品的购买价格或服务价格，以便将该行项纳入利润率计算。

选择采购价格：

- 如果输入一条“自由”行，您需要填写销售价格和采购价格（或根据您的整体计算选择的成本价格）。
- 如果从产品/服务库中选择产品或服务，您可以选择文件中指示的供应商价格，或者输入一条自由采购价格。

提示：如果未输入采购价格，该行在计算毛利时的包含与否将取决于您在模块配置中定义的参数。

屏幕上每个文档的界面中都包含一个表格，总结当前文档的毛利情况，其中包括产品毛利行、服务毛利行以及文档总毛利行。

## 折扣情况

在计算毛利时，会考虑单行上的折扣。全局折扣将根据模块设置进行考虑。

## 通用汇总

通过在会计/现金管理中点击毛利菜单，可以访问销售人员、客户或产品/服务的总体汇总。

汇总表中的毛利会在已验证的发票中予以考虑。

对于此屏幕的每个选项卡，您可以显示汇总表或按产品、客户或销售人员显示详细信息。您还可以为已验证的发票选择日期范围。









# 简化会计模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Installation)
- [3设置](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Setup)
- [4使用](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Use)
- [5生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Life_cycle_.2F_Business_rules)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=Module_Accounting_Simplified#Related_videos)

## 简介

此模块允许您获取简化的会计报表。如果您需要进行复式记账或编辑账簿，请使用[复式记账模块 ](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting)。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用

此模块包含一个账簿，允许您手动添加交易。然而，大多数交易不建议使用此方法。

标准销售和采购日记账中的交易可以很容易地在分配了有效账户之后提交到账簿中。

该模块还包含一份资产负债表，以便您查看公司的总收入和总支出。

## 生命周期 / 业务规则

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成它，请创建一个账户，然后返回页面并点击“编辑”。 







# 复式记账模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Installation)
- 3设置
  - 3.1通用
    - [3.1.1调整全局选项](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Adjust_global_options)
    - [3.1.2调整绑定选项](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Adjust_binding_options)
    - [3.1.3启用会计编号功能](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Activate_the_accounting_lettering_function)
  - [3.2默认会计科目](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Default_accounts)
  - [3.3日记账](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Journals)
  - [3.4增值税会计科目](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#VAT_accounts)
  - [3.5税项账户](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Tax_accounts)
  - [3.6导出选项](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_options)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Life_cycle_.2F_Business_rules)
- 5导出
  - [5.1标准导出（TSV）](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Standard_.28TSV.29)
  - [5.2导出 Cador](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Cador)
  - [5.3导出 Cegid](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Cegid)
  - [5.4导出 Sage Coala](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Sage_Coala)
  - [5.5导出 Sage Bob 50](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Sage_Bob_50)
  - [5.6导出 Ciel 会计格式 txt](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Ciel_compta_format_txt)
  - [5.7导出 EBP](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_EBP)
  - [5.8导出 Cogilog](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_Cogilog)
  - [5.9导出 FEC](https://wiki.dolibarr.org/index.php?title=Module_Double_Entry_Accounting#Export_FEC)

## 简介

会计高级模块提供了复式记账功能。如果你不需要复式记账，或者不需要编辑总账，可以使用<宗账简记模块>代替。

其功能包括：

- 复式记账支持
- 交易在日记账中的分组
- 支持导出（支持许多常见的软件格式，同时也支持 CSV 和 FEC 格式）

Dolibarr 提供了多个国家的现成会计科目表：

- 非洲（贝宁、布基纳法索、喀麦隆、中非共和国、科摩罗、刚果（布拉柴维尔）、刚果（金）、赤道几内亚、加纳、摩洛哥、尼日尔、塞内加尔、突尼斯）
- 欧洲（比利时、丹麦、卢森堡、法国、德国、英国、荷兰、罗马尼亚、瑞士、西班牙、瑞典）
- 南美洲（智利）
- 以及更多...（查看完整列表 [see full list](https://github.com/Dolibarr/dolibarr/blob/develop/htdocs/install/mysql/data/llx_accounting_abc.sql)）

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 通用

此模块的通用配置页面允许您：

#### 调整全局选项

[![Global options.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3ac5d1d0171afdcfcde874abaa177154.png)](https://wiki.dolibarr.org/index.php?title=File:Global_options.png)

#### 调整绑定选项

[![Binding options.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/b571d826b6741735f17f659c21e37a08.png)](https://wiki.dolibarr.org/index.php?title=File:Binding_options.png)

#### 启用会计编号功能

记账允许您关联同一账户下的条目。在 Dolibarr 中，记账仅可用于客户或供应商账户。

对于内部称为 v2 的记账功能，目前仅适用于明细账账户。计划进行一次改进（记账 v3），以涵盖您定义的总账账户的记账。

记账 v2 功能需要将 Dolibarr 版本更新到 17.0.3 才能启用记账功能：

[![img](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/2372320ccfb4371d14ba8f7583b163fb.png)](https://wiki.dolibarr.org/index.php?title=File:Lettering_activation.png)



### 默认账户

设置完会计科目后，您需要告诉 Dolibarr 使用这些科目。

注意：确保您的顶级前三项会计科目与底部的会计科目不同，否则所有报表将会混杂或错误。

[![Accountancy-defaultaccounts.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/2280f9e1a94d01b772faa77b4bc38e23.png)](https://wiki.dolibarr.org/index.php?title=File:Accountancy-defaultaccounts.png)

### 日记账

设置自定义日记账。这里有一个示例，包括一个专门用于 Upwork“银行”账户的日记账、税费以及权益增减。

[![Accountancy-journals.png](https://wiki.dolibarr.org/images/thumb/b/bb/Accountancy-journals.png/800px-Accountancy-journals.png)](https://wiki.dolibarr.org/index.php?title=File:Accountancy-journals.png)

### 增值税账户

为您的国家设置适用的增值税税率和账户。

[![Vat-accounts.png](https://wiki.dolibarr.org/images/thumb/9/9d/Vat-accounts.png/800px-Vat-accounts.png)](https://wiki.dolibarr.org/index.php?title=File:Vat-accounts.png)

### 税项账户

设置用于支付税项的账户。

[![Tax-accounts.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/ffd32bc112f9fc72c8781dd647afb678.png)](https://wiki.dolibarr.org/index.php?title=File:Tax-accounts.png)

### 导出选项

如有需要，请进行更改。

[![Accountancy-export.png](https://wiki.dolibarr.org/images/thumb/4/4c/Accountancy-export.png/800px-Accountancy-export.png)](https://wiki.dolibarr.org/index.php?title=File:Accountancy-export.png)

## 生命周期 / 业务规则

会计模块的使用分为几个步骤：


以下操作通常只需执行一次，或者每年执行一次...

- 第一步：从“财务-会计-设置-会计科目模型”菜单创建会计科目模型
- 步骤 2: 从“财务-会计-设置-会计科目表”菜单创建或检查会计科目表的内容

下一步应该完成，以便在将来为您节省时间，当您进行日记账（在日记账和总账中记录）时，系统会自动建议正确的默认会计科目。

- 步骤 3: 检查杂项交易行与会计科目的默认绑定是否已完成。如有缺失的绑定，请予以补充。您可以使用“财务-会计-设置-默认科目”菜单项来完成此操作。
- 步骤 4: 检查增值税率与会计科目的绑定是否已完成。如有缺失的绑定，请予以补充。您可以在“财务-会计-设置-增值税科目”页面上设置用于每个增值税的会计科目。
- STEP 5: 检查特殊费用（杂项税）与会计科目的绑定是否完成。如有缺失，进行补充。您可以通过财务-会计-设置-税项账户菜单项进行设置。
- STEP 6: 检查费用报告类型与会计科目的绑定是否完成。如有缺失，进行补充。您可以在财务-会计-设置-费用报告账户页面设置每种增值税的会计科目。
- STEP 7: 检查贷款支付与会计科目的绑定是否完成。如有缺失，进行补充。您可以通过财务-特殊费用-贷款或财务-会计-设置-默认账户菜单项进行设置。
- STEP 8: 检查银行账户与会计科目的绑定是否完成。如有缺失，进行补充。您可以通过每个财务账户的卡片进行设置。可以从首页-银行/现金页面开始。
- 第9步：检查产品/服务与会计科目的绑定是否完成。如有缺失的绑定，请补充完整。您可以使用“财务-会计-设置-产品科目”菜单项来完成此操作。


对于非常大的公司，以下操作通常每月、每周或每天执行……

- 步骤 1：检查现有客户发票行与会计科目的绑定是否已完成，以便应用程序能够在一键操作中将交易记入总账。完成缺失的绑定。为此，您可以使用“财务-会计-客户发票绑定”菜单项。
- 步骤 2：检查现有供应商发票行与会计科目的绑定是否已完成，以便应用程序可以在一次点击中将交易记入总账。完成缺失的绑定。为此，您可以使用“财务-会计-供应商发票绑定”菜单项。
- 步骤 3：检查费用报告类型与会计科目的绑定是否已完成。完成缺失的绑定。您可以在“财务-会计-费用报告绑定”页面为每种增值税设置会计科目。
- 步骤 4：将交易写入总账。为此，进入每个日记账，并点击“记入总账中的交易”按钮。
- 步骤 5：添加或编辑现有交易并生成报告和导出。

## 导出

这些是可用的导出格式示例。导出可以从总账进行：

### 标准导出（TSV）

```
2012016	gérance janvier 2016 (SI1601-0668)	40100000	FGEFFROY	0	1000	ACH
2012016	gérance janvier 2016 (SI1601-0668)	64400000	1000	0	ACH
```

### Cador 导出

查看标准导出

### 导出 Cegid

```
2012016	ACH	40100000	FGEFFROY	C	1000	GEFFROY OLIVIER - gérance janvier 2016 - Tiers	gérance janvier 2016 (SI1601-0668)
2012016	ACH	64400000	D	1000	GEFFROY OLIVIER - gérance janvier 2016 - Gerance	gérance janvier 2016 (SI1601-0668)
```

### 导出 Sage Coala

```
02/01/2016	ACH	40100000	1	gérance janvier 2016 (SI1601-0668)	0	1000	E	FGEFFROY
02/01/2016	ACH	64400000	1	gérance janvier 2016 (SI1601-0668)	1000	0	E	
```

### 导出 Sage Bob 50

```
1	02/01/2016	F	FGEFFROY	0	1000	GEFFROY OLIVIER - gérance janvie...
1	02/01/2016	G	64400000	1000	0	GEFFROY OLIVIER - gérance janvie...
```

### 导出 Ciel 会计格式 txt

```
1    ACH06022017020120161           FGEFFROY   gérance janvier 2016 (SI1         1000C                  GEFFROY OLIVIER - gérance janvier O2003
2    ACH06022017020120161           64400000   gérance janvier 2016 (SI1         1000D                  GEFFROY OLIVIER - gérance janvier O2003
```

== 导出 Quadratus 格式的 txt 文件 == (File:KB0014530 - ASCII 输入文件.pdf
)



```
MFGEFFROYAC00006022017 gérance janvier 2016C+000000001000        000000     1                        1       EURACH   gérance janvier 2016 (SI1601-0661                                                                                  
M64400000AC00006022017 gérance janvier 2016D+000000001000        000000     1                        1       EURACH   gérance janvier 2016 (SI1601-0661
```

### 导出 EBP

```
10803	2012016	ACH	40100000	40	GEFFROY OLIVIER - gérance janvier 2016 -	1	1000	C	2012016	EUR
10804	2012016	ACH	64400000	64	GEFFROY OLIVIER - gérance janvier 2016 -	1	1000	D	2012016	EUR
```

### 导出 Cogilog

```
ACH	2012016	1	40100000	GEFFROY OLIVIER - gérance janvier 2016 - Tiers	2012016	1000	gérance janvier 2016 (SI1601-0668)	GEFFROY OLIVIER - gérance janvier 2016 - Tiers
ACH	2012016	1	64400000	GEFFROY OLIVIER - gérance janvier 2016 - Gerance	2012016	1000	gérance janvier 2016 (SI1601-0668)	GEFFROY OLIVIER - gérance janvier 2016 - Gerance
```

### 导出 FEC

FEC 意指 **会计记账文件** （根据法国法律），是一种以 *.txt 为扩展名的 TSV 文件。

```
JournalCode	JournalLib	EcritureNum	EcritureDate	CompteNum	CompteLib	CompAuxNum	CompAuxLib	PieceRef	PieceDate	 EcritureLib	Debit	Credit	EcritureLet	DateLet	ValidDate	Montantdevise	Idevise
V1	Journal des ventes	134	20191022	411	Clients et Comptes rattachés	411FINCORP	Fincorp	FC1808-0007	20180821	Fincorp - FC1808-0007 - Compte auxiliaire	10248	0					
V1	Journal des ventes	134	20191022	7061	Prestations de services 20%			FC1808-0007	20180821	Fincorp - FC1808-0007 - Prestations de services 20%	0	8540					
V1	Journal des ventes	134	20191022	44571	Prestations de services 20%			FC1808-0007	20180821	Fincorp - FC1808-0007 - TVA 20 %	0	1708					
AC	Journal des achats	135	20191022	401	Fournisseurs et Comptes rattachés	401DIVERS	Divers	HA1808-002	20180802	Divers - FF1808021 - Compte auxiliaire	0	32.9					
AC	Journal des achats	135	20191022	625128	Frais de repas 5.5%			HA1808-002	20180802	Divers - FF1808021 - Frais de repas 5.5%	26.92	0					
AC	Journal des achats	135	20191022	625127	Frais de repas 20%			HA1808-002	20180802	Divers - FF1808021 - Frais de repas 20%	3.75	0					
```

解释 FEC 格式的文章：





# 产品模块

[跳到导航](https://wiki.dolibarr.org/index.php?title=产品模块#mw-head)[跳到搜索](https://wiki.dolibarr.org/index.php?title=产品模块#searchInput)

[返回
用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)
[![File Doc user.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1867071d98f895f04a47713d99f13b09.png)](https://wiki.dolibarr.org/index.php?title=用户手册)

[返回
首页](https://wiki.dolibarr.org/index.php?title=Chinese)
[![File Doc dev.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/2d4e8a1a06092303b3e56afc756c135e.png)](https://wiki.dolibarr.org/index.php?title=Chinese)

| **产品模块** |                                                              |
| ------------ | ------------------------------------------------------------ |
| 模块ID       | 50                                                           |
| 用户手册     | 本页                                                         |
| 开发文档     | [产品模块（开发者）](https://wiki.dolibarr.org/index.php?title=Module_Products_(developer)) |

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=产品模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=产品模块#.E5.AE.89.E8.A3.85)
- 3配置
  - [3.1参数](https://wiki.dolibarr.org/index.php?title=产品模块#.E5.8F.82.E6.95.B0)
  - 3.2自定义属性
    - [3.2.1计算字段](https://wiki.dolibarr.org/index.php?title=产品模块#.E8.AE.A1.E7.AE.97.E5.AD.97.E6.AE.B5)
- 4定义
  - [4.1产品](https://wiki.dolibarr.org/index.php?title=产品模块#.E4.BA.A7.E5.93.81)
  - [4.2产品套件(Kits)（也称为产品包或虚拟产品）](https://wiki.dolibarr.org/index.php?title=产品模块#.E4.BA.A7.E5.93.81.E5.A5.97.E4.BB.B6.28Kits.29.EF.BC.88.E4.B9.9F.E7.A7.B0.E4.B8.BA.E4.BA.A7.E5.93.81.E5.8C.85.E6.88.96.E8.99.9A.E6.8B.9F.E4.BA.A7.E5.93.81.EF.BC.89)
  - [4.3销售价格管理规则](https://wiki.dolibarr.org/index.php?title=产品模块#.E9.94.80.E5.94.AE.E4.BB.B7.E6.A0.BC.E7.AE.A1.E7.90.86.E8.A7.84.E5.88.99)
  - [4.4按客户细分（segment）的价格](https://wiki.dolibarr.org/index.php?title=产品模块#.E6.8C.89.E5.AE.A2.E6.88.B7.E7.BB.86.E5.88.86.EF.BC.88segment.EF.BC.89.E7.9A.84.E4.BB.B7.E6.A0.BC)
  - [4.5类别（类别）](https://wiki.dolibarr.org/index.php?title=产品模块#.E7.B1.BB.E5.88.AB.EF.BC.88Categories.EF.BC.89)
  - [4.6图片（Image）](https://wiki.dolibarr.org/index.php?title=产品模块#.E5.9B.BE.E7.89.87.EF.BC.88Image.EF.BC.89)
  - [4.7变体（Variants）](https://wiki.dolibarr.org/index.php?title=产品模块#.E5.8F.98.E4.BD.93.EF.BC.88Variants.EF.BC.89)
- [5生命周期/业务规则](https://wiki.dolibarr.org/index.php?title=产品模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F.2F.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=产品模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

本模块管理产品。

相关参考：管理服务的 [服务模块](https://wiki.dolibarr.org/index.php?title=服务模块) 、管理仓库和库存的 [Module Stocks](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En) 。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

### 参数

[![产品模块参数设置.png](https://wiki.dolibarr.org/images/thumb/6/6f/产品模块参数设置.png/800px-产品模块参数设置.png)](https://wiki.dolibarr.org/index.php?title=File:产品模块参数设置.png) [![产品模块参数设置2.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/309ea95d3bcce36eba0b674b738f9d80.png)](https://wiki.dolibarr.org/index.php?title=File:产品模块参数设置2.png)

产品模块参数设置见上图。

- 编号的生成与检查；包含两个互斥的选项 Elephant（大象） 和 Leopard（豹）。

Elephant根据事先定义的格式掩码，返回一个可定制编号。

Leopard允许自定义编号。

鼠标放在图中的小问号位置，显示掩码的帮助信息。

- 生成产品文档的文档模板

该部分确定产品资料生成文档的模板。相关修改，见[开发文档#模板](https://wiki.dolibarr.org/index.php?title=开发文档#.E6.A8.A1.E6.9D.BF)

### 自定义属性

#### 计算字段

可输入公式，公式输入对象的其他属性 or 任何 PHP 代码来得到动态值。

你可以使用任何PHP兼容的公式，包括“？”条件运算符, 和以下全局对象：

**$db, $conf, $langs, $mysoc, $user, $object**

注意: 可能只有对象的部分属性是可用的。如果你需要一个未加载的属性，可以在公式中查询你自己的对象，如下例所示：

使用计算字段意味着，你不能在界面输入值，也意味着，如要存在语法错误，将得不到返回。

公式实例:

```
$object->id < 10 ? round($object->id / 2, 2) : ($object->id + 2 * $user->id) * (int) substr($mysoc->zip, 1, 2)
```

加载对象实例：

```
(($reloadedobj = new Societe($db)) && ($reloadedobj->fetch($obj->id ? $obj->id : ($obj->rowid ? $obj->rowid : $object->id)) > 0)) ? $reloadedobj->array_options['options_extrafieldkey'] * $reloadedobj->capital / 5 : '-1'
```

其他实例，强制加载对象及其父对象的公式：

```
(($reloadedobj = new Task($db)) && ($reloadedobj->fetch($object->id) > 0) && ($secondloadedobj = new Project($db)) && ($secondloadedobj->fetch($reloadedobj->fk_project) > 0)) ? $secondloadedobj->ref : 'Parent project not found'
```

## 定义

#### 产品

“产品”是你销售给顾客的货物，或者是你从供应商处采购的货物，是实体对象，相对应的虚拟对象是 [服务](https://wiki.dolibarr.org/index.php?title=ServicesEn).

产品遵循以下规则:

- 产品可以储存在仓库中（只有产品可以出现在 [库存](https://wiki.dolibarr.org/index.php?title=Module_StockEn) 模块中，服务是不可以出现在库存模块中的).
- 产品可以交付（只有产品可以出现在 [发货](https://wiki.dolibarr.org/index.php?title=Module_Shipment) 模块中， 服务是不可以出现在发货模块中的。 服务可以实现但不能发货).
- 产品是一种材料货物。它的价值往往随着时间的推移而下降（已拆封产品的价值低于未拆封产品的价值）。

有些字段专用于产品，而不适用于服务，例如：

- 重量
- 尺寸
- 自定义代码 = 商品代码 = 许可证代码 = HTS = HS代码（6个以上字符的代码，用于定义产品的国际海关类别）

#### 产品套件(Kits)（也称为产品包或虚拟产品）

产品或服务可注册为包含其他（单一）产品的套件（“父”）产品。此功能可从 *产品* 或 *服务* 模块的设置页面激活。它允许在订单、发票和库存中将产品的“包”或“套件”作为一个批次进行处理，而不是单独处理每个产品。

套件产品符合以下规则：

- 当在文档（报价单、发票、订单）中添加产品时，仅显示虚拟产品（父产品）的行。
- 当获取/交付父产品时，其中每个单独组件（子产品）的库存都会增加/减少。例如，如果您已设置在供应商订单验证时增加库存，则在包含虚拟产品的供应商订单验证通过时，将会增加该产品的库存以及组成该产品的所有子产品的库存。
- 虚拟产品本身可以由包含真实产品的其他虚拟产品组成。

如何创建产品套件：

- 首先创建一个“父”产品。然后，必须为其分配组件产品。
- 在产品页面中，单击旧版本的“套件”或“虚拟产品”标签页。
- 在页面底部的搜索栏“按关键字筛选”中，输入要分配的子产品的名称。当产品出现时，勾选并选择数量，然后单击“添加/更改”。

注意:

这是一种不同于“制造/生产”模块中“容器”产品的功能，“容器”产品使用其子组件的现有库存来生产出另一种产品，然后将其作为库存保存。

事实上，在“套件产品或服务”功能中，虚拟产品的子组件只会在虚拟产品交付时减少相应的库存。在此之前，这些子产品仍处于完全可支配状态，并可能作为单独的独立产品集成到其他销售流程中。

同样，制造模块的行为有所不同：从它注册“容器产品”的那一刻起，它就立即声称其子产品不能用于任何其他用途。因此，无论容器产品是否离开商店，他们的库存都会立即减少，因为考虑到子组件不能再作为库存中的单个产品而返回库存。



#### 销售价格管理规则

在Dolibarr中有四种销售价格管理方法：

. 每个产品只有一个唯一价格

. 按客户细分市场并享有不同的价格（见下一章）

. 每个客户享有不同的价格

. 按交易数量不同享有不同的价格（实验性的）

您必须在“产品”模块的设置中选择一种并且只能选择一种销售价格管理方法。



#### 按客户细分（segment）的价格

Dolibarr可以接受根据客户细分市场定义多个价格。默认有5个客户细分市场（即不同客户组成的5个组），但您也可以对此进行编辑。每个客户可以且只能与1个细分市场关联，因此将为其分配为该细分市场定义的价格（如果尚未定义客户所属的细分市场，则默认属于细分市场1）。

从v12开始，REST API支持获取（但不支持设置）产品的多个价格（按客户细分市场的价格）。

产品价格和客户细分市场只能从后台设置。

#### 类别（类别）

产品可以被添加到一个或多个类别中。

要使用API设置产品的类别，必须使用 APIs /categories/...

#### 图片（Image）

一个产品可以有一个或多个图像。可以从产品的“链接文件”标签页中手动设置。

要使用APIs获取或设置产品的图像，必须使用 API /documents（参数“ModulePart”=“Product”或“Service”）。



#### 变体（Variants）

产品可以有多种变体，例如尺寸或颜色。

从V12开始，REST API支持获取、设置和删除产品的变体。



## 生命周期/业务规则

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and click on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面后点击“编辑”以完成它。







# 服务模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=服务模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=服务模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=服务模块#.E9.85.8D.E7.BD.AE)
- 4定义
  - [4.1虚拟服务](https://wiki.dolibarr.org/index.php?title=服务模块#.E8.99.9A.E6.8B.9F.E6.9C.8D.E5.8A.A1)
- [5生命周期/业务规则](https://wiki.dolibarr.org/index.php?title=服务模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F.2F.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=服务模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

本模块用于管理服务。若要管理产品请参阅 [产品模块](https://wiki.dolibarr.org/index.php?title=产品模块) 。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 定义

产品和服务经常被混淆。然而，它们遵循不同的规则。 服务是一种非物质商品，它可以被出售、购买或提供，但是不能被存储在仓库中。服务是被准时提供的或是在一个持续时间内提供的。

识别服务的特征：

- 可以是一次性、准时的（将硬件安装到客户家中），也可以是有期限的（如产品保修）。
- 服务不能被存储在仓库中。
- 因此，服务不受库存的限制，也无法计算库存的服务有多少。

### 虚拟服务

虚拟产品或服务是由其他产品/服务组成的父产品。此功能从产品或服务模块的配置页面激活。其目的是定义服务的“包”或“批次”，允许使用单个元素而不是构成批次的N个服务对订单、发票进行操作。

虚拟服务满足以下规则：

- 将服务添加到文档（报价单、发票、订单）时，仅显示父虚拟服务的行。
- 虚拟服务本身可以由包含真实服务的其他虚拟服务组成。

## 生命周期/业务规则

![En verysmall.png](https://wiki.dolibarr.org/images/a/a8/En_verysmall.png) Page waiting to complete. To complete, create an account, go back and clic on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) Page en attente d'être complété. Pour compléter, créez un compte, revenez et cliquez sur "Modifier". ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) Página a completar. Para completarla, cree una cuenta, vuelva a la página y haga clic en "editar" ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) Seite wartet auf Vervollständigung. Um zu helfen, erstelle ein Konto, gehe zurück und klicke auf "Bearbeiten". [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png)](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png) ページは未完成の状态です。完成させるにはアカウントを作成し、ページに戻って“编集”をクリックして下さい。





# 库存模块 En



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Configuration)
- [4定义](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Definition)
- [5创建仓库](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Create_a_warehouse)
- [6分配产品库存](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Allocate_product_stocks)
- [7自动更新库存](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Automatic_stock_updates)
- [8手动库存更新](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Manual_stock_updates)
- [9补货](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Replenishment)
- [10库存](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Inventories)
- 11仓库策略和估值
  - [11.1移除策略](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Removal_strategy)
  - [11.2库存估值](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Stock_valuation)
- [12相关视频](https://wiki.dolibarr.org/index.php?title=Module_Stocks_En#Related_videos)

## 简介

库存管理模块可以保存产品在仓库中的库存状态，并编辑或修正产品数量。

它还提供了补货和盘点等功能。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

设置页面允许您在库存自动增加或减少时选择四种选项（具体取决于订单或发票业务流程中的事件）。

## 定义

- **物理库存**是指仓库中的产品数量。
- **虚拟库存**是指在完成所有待处理的销售、采购和生产订单后我们将会有的库存数量（即当前实际库存减去客户已下单的产品数量（订单状态为“已确认”）加上从供应商处下单的产品数量（订单状态为“已发送给供应商”）减去生产订单中需要消耗的产品数量加上生产订单中需要生产的产品数量（如果使用这些功能）。）

## 创建仓库

创建仓库是库存管理的强制性第一步。您可以在“产品/服务”标签页上创建仓库，点击左侧菜单中的“库存”，然后点击“新建仓库库存”。唯一必需的信息是参考代码和仓库名称，其他字段均为可选。然后您需要设置仓库是否处于启用状态（开启/关闭）。关闭的仓库将无法被其他 Dolibarr 功能使用。这是一种在激活仓库之前准备库存的好方法，或者在盘点期间临时冻结库存移动。

## 分配产品库存

- 这需要在产品页面的“库存”标签页中完成，可以在左侧菜单的“产品”部分找到该页面。
- 你也可以在仓库页面的“库存”标签页中完成此操作。

对于批量更新库存，应使用导入过程。

## 自动更新库存

根据模块的配置，库存会在订单处理时、发货时、开票时等某个时间点更新。然后会根据所选的增加/减少库存选项记录库存变动。

## 手动库存更新

如果您希望调整现有的库存数量（由于内部生产、盗窃、损耗、老化等原因），可以直接通过：

- 产品的“库存”标签页
- 仓库的“库存变动”标签页。

如果要手动将某些产品从一个仓库转移到另一个仓库，请使用“调整库存”或“转移库存”按钮。输入当前的代码和标签（例如，设置变更原因）。



## 补货

补货功能可以生成向供应商订购的订单，以便将库存恢复到期望的水平。

## 库存

从库存 - 库存菜单中，您可以找到进行库存盘点的功能。有关如何进行库存盘点的文档，请参阅页面 [库存 ](https://wiki.dolibarr.org/index.php?title=Inventories)。

## 仓库策略和估值

可以通过点击仓库列表中的名称来获取特定仓库中产品和移动的详细列表。

### 移除策略

在发货时使用库存减少时，移除策略是一种决定在发货时从哪个批次/批号/序列号或哪个仓库中取出产品的移除规则。

- 先进先出：First in, first out
- LIFO: 后进先出
- FEFO: 先到期先出

目前，Dolibarr 在发货时不会优先建议任何产品批次或仓库。您可以在界面上手动选择将要移动的产品/批次数量以及从哪个仓库进行移动。因此，移除策略是由用户手动选择的。您可以根据先进先出（FIFO）、后进先出（LIFO）或先到期先出（FEFO）的原则，在每次发货时进行选择。

将来可能会实现一种移除策略，使得应用程序会根据默认规则建议相应的批次/序列号/仓库/数量。

### 库存估值

使用 Dolibarr，您可以采用两种方式获取库存估值：

- 标准估值：产品当前价格 * 库存数量
- 加权平均价格（AWP）：产品 AWP * 库存数量





# 批次/序列号模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial#Configuration)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Lot_/_Serial#Usage)

## 简介

批号模块允许用户管理以下字段：

- 序列号
- 卖货日期 = 保质期截止日期 = 最佳食用日期（在此日期后，食品应从商店中移除）
- 食用截止日期 = 最佳食用日期 = 最佳使用日期 = 最佳前（食用截止日期通常晚于卖货日期）

此模块扩展了模块。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

此模块无需单独设置，但您至少需要在库存模块中配置增减选项以确保正常运行。

- 库存减少：在发货确认时
- 库存增加：在手动发货时

## 使用方法

在产品上，你可以决定该产品是否需要批次号或唯一的序列号。如果设置产品需要这样的编号（无论是批次号还是序列号），如果没有同时输入这个编号/序列号，则不允许进行库存变动。

当 Dolibarr 第一次知道某个批次号/序列号时，该批次号/序列号会被记录到 `llx_product_lot` 表中，并记录创建日期。该记录将永久保存在该表中。如果你还输入了保质期或食用期，这些日期也会被记录到该表中。这些日期是特定于某个批次的。因此，在未来进行库存变动时，你不需要重新输入这些日期，只需输入批次号/序列号即可。如果你尝试使用已存在的批次号进行库存变动，并试图强制输入不同的保质期或食用期，库存变动将被拒绝。这些日期仅在首次出现新批次时需要输入，之后必须与首次定义的日期相同，或者不需要提供







# 模块物料清单



## 简介

通过此模块，您可以管理产品的物料清单。此模块对于[生产订单模块是必需的。](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders)

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。









# 制造订单模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders#Configuration)
- [4关联视频](https://wiki.dolibarr.org/index.php?title=Module_Manufacturing_Orders#Linked_Video)

## 简介

该模块带来了物料需求计划（MRP）功能，如制造订单管理。它需要使用 [物料清单模块 ](https://wiki.dolibarr.org/index.php?title=Module_BOM)。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。





# 动态价格模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices#Installation)
- [3设置](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices#Setup)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Dynamic_Prices#Usage)

## 简介

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用方法

![En verysmall.png](https://wiki.dolibarr.org/images/a/a8/En_verysmall.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://wiki.dolibarr.org/images/c/c4/Fr_verysmall.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://wiki.dolibarr.org/images/6/66/Es_verysmall.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://wiki.dolibarr.org/images/1/13/De_verysmall.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://wiki.dolibarr.org/images/d/d3/Cn_verysmall.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://wiki.dolibarr.org/images/2/28/Jp_verysmall.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。要完成该页面，请创建一个账户，然后返回页面并点击“编辑”。







# 模块工作站





## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Workstation#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Workstation#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Workstation#Configuration)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Workstation#Usage)

## 简介

模块工作站是与 Dolibarr 18 稳定版本一起发布的。

通过此模块，您可以管理您的工作站。

此模块需要与生产订单模块配合使用。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项 " **首页 - 系统设置 - 模块** " 启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用方法

对于类型为“服务”的产品（参见《服务模块》），您可以设置用于执行制造流程的工作站。







# 项目模块



## 目录



- 1简介
  - [1.1关于定义的重要提醒](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.85.B3.E4.BA.8E.E5.AE.9A.E4.B9.89.E7.9A.84.E9.87.8D.E8.A6.81.E6.8F.90.E9.86.92)
  - [1.2本模块能做什么](https://wiki.dolibarr.org/index.php?title=项目模块#.E6.9C.AC.E6.A8.A1.E5.9D.97.E8.83.BD.E5.81.9A.E4.BB.80.E4.B9.88)
  - [1.3本模块不能做什么](https://wiki.dolibarr.org/index.php?title=项目模块#.E6.9C.AC.E6.A8.A1.E5.9D.97.E4.B8.8D.E8.83.BD.E5.81.9A.E4.BB.80.E4.B9.88)
- [2安装](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.AE.89.E8.A3.85)
- 3配置
  - 3.1配置选项
    - [3.1.1项目 > 参数](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E5.8F.82.E6.95.B0)
    - [3.1.2项目 > 项目编号模式](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E9.A1.B9.E7.9B.AE.E7.BC.96.E5.8F.B7.E6.A8.A1.E5.BC.8F)
    - [3.1.3项目 > 任务编号模式](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E4.BB.BB.E5.8A.A1.E7.BC.96.E5.8F.B7.E6.A8.A1.E5.BC.8F)
    - [3.1.4项目 > 项目报表文档模板](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E9.A1.B9.E7.9B.AE.E6.8A.A5.E8.A1.A8.E6.96.87.E6.A1.A3.E6.A8.A1.E6.9D.BF)
    - [3.1.5项目 > 任务报表文档模板](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E4.BB.BB.E5.8A.A1.E6.8A.A5.E8.A1.A8.E6.96.87.E6.A1.A3.E6.A8.A1.E6.9D.BF)
    - [3.1.6项目 > 其他参数](https://wiki.dolibarr.org/index.php?title=项目模块#.E9.A1.B9.E7.9B.AE_.3E_.E5.85.B6.E4.BB.96.E5.8F.82.E6.95.B0)
    - [3.1.7自定义属性（项目）](https://wiki.dolibarr.org/index.php?title=项目模块#.E8.87.AA.E5.AE.9A.E4.B9.89.E5.B1.9E.E6.80.A7.EF.BC.88.E9.A1.B9.E7.9B.AE.EF.BC.89)
    - [3.1.8自定义属性（任务）](https://wiki.dolibarr.org/index.php?title=项目模块#.E8.87.AA.E5.AE.9A.E4.B9.89.E5.B1.9E.E6.80.A7.EF.BC.88.E4.BB.BB.E5.8A.A1.EF.BC.89)
  - [3.2字典](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.AD.97.E5.85.B8)
  - [3.3权限](https://wiki.dolibarr.org/index.php?title=项目模块#.E6.9D.83.E9.99.90)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=项目模块#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95)
- 5实体和业务规则
  - 5.1项目实体
    - [5.1.1属性](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.B1.9E.E6.80.A7)
    - [5.1.2链接](https://wiki.dolibarr.org/index.php?title=项目模块#Links)
  - 5.2任务实体
    - [5.2.1属性](https://wiki.dolibarr.org/index.php?title=项目模块#Properties)
    - [5.2.2链接](https://wiki.dolibarr.org/index.php?title=项目模块#Links_2)
  - 5.3时间记录
    - [5.3.1属性](https://wiki.dolibarr.org/index.php?title=项目模块#Properties_2)
    - [5.3.2链接](https://wiki.dolibarr.org/index.php?title=项目模块#Links_3)
  - [5.4项目可见性和用户操作](https://wiki.dolibarr.org/index.php?title=项目模块#Project_visibility_and_user_actions)
  - 5.5项目的工作流
    - [5.5.1创建项目](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.88.9B.E5.BB.BA.E9.A1.B9.E7.9B.AE)
    - [5.5.2创建任务](https://wiki.dolibarr.org/index.php?title=项目模块#.E5.88.9B.E5.BB.BA.E4.BB.BB.E5.8A.A1)

## 简介

项目模块是一个Dolibarr核心模块。它是可选的，可以从模块设置页面激活。

该模块有几个用途：

- 跟踪销售线索和机会
- 和|或 管理定义为层次结构任务的项目
- 和|或 跟踪用户在这些任务上投入的时间。

可用于内部项目，为您的组织或项目链接不同Dolibarr对象（如 [报价单](https://wiki.dolibarr.org/index.php?title=Module_Commercial_Proposals)、[客户订单](https://wiki.dolibarr.org/index.php?title=Module_Customers_Orders)、[客户发票](https://wiki.dolibarr.org/index.php?title=Module_Customers_Invoices) ...）。

### 关于定义的重要提醒

术语“**任务**”经常与“事件”、“操作”、“日记”等术语混淆。

在阅读本文档之前，了解由规范 RFC2445 定义和规范化的每个术语的含义非常重要。

如果您不熟悉这些，请阅读此摘要页面：[事件-待办事项-日志](https://wiki.dolibarr.org/index.php?title=事件-待办事项-日志)。

### 本模块能做什么

- 允许定义商机状态和项目是否为商务线索的概率。
- 将项目作为层次结构的任务进行管理
- 允许定义内部项目（为您的组织而做）或外部项目（由您的组织为客户而做）
- 允许在任务上分配内部或外部用户
- 允许在用户之间共享项目，为每个分配的用户提供任务和项目的正确视图
- 允许跟踪每个工位和用户在任务上花费的时间。
- 可以根据花费的时间生成发票。
- 允许将任何对象（发票，订单，报价单，干预，制造订单...）、文档、URL分配给项目和任务。
- 提供项目的完整视图，包括计划时间和实际工时，甘特视图和所有文档
- 支持项目和任务的自定义字段
- 为项目和任务报表提供文档模型

### 本模块不能做什么

- 不支持基于用户空闲时间的自动规划。
- 不计算任何关键路径。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

以下是可用于配置此模块的选项

### 配置选项

#### 项目 > 参数

- 用项目跟进线索/商机

  如果选中，您可以将项目关联到合作方并跟踪报价单的状态。这是管理外部项目所必需的。

- 用项目跟进任务和/或报告时间成本（工时表）

  如果选中，您可以输入项目的详细任务并最终跟踪付出的工时（即使选择了该选项，也不是强制性的）。:如果未选，则仅允许跟踪商机（即销售项目状态）。

#### 项目 > 项目编号模式

项目默认使用Simple模式进行自动编号。您也可以使用Universal引擎定义您自己的编号方式。

#### 项目 > 任务编号模式

任务默认使用Simple模式进行自动编号。您也可以使用Universal引擎定义您自己的编号方式。任务编号模式独立于项目编号模式。

#### 项目 > 项目报表文档模板

可以启用timespent模板：项目的工时报表文档模板；

可以启用beluga模板：项目的链接对象概述报表文档模板；

可以启用baleine模板：项目的任务报表文档模板；

可以启用ODT templates模板：从OpenDocuments模板生成文档。

#### 项目 > 任务报表文档模板

可以启用ODT templates模板：从OpenDocuments模板生成文档。

#### 项目 > 其他参数

- 使用自动完成字段选择项目（而不是使用列表框）

  如果您将大量商机作为项目进行跟踪，这将非常有用。

- 在合作方的文档上，可以选择与另一个合作方关联的项目

  默认情况下，只有附加到项目的合作方的文档才能链接到项目，但是您可能有一个分包商将提供与项目相关的文档。在这种情况下，您需要激活该选项。

#### 自定义属性（项目）

使用此标签页可以为项目表单定义额外字段。

#### 自定义属性（任务）

使用此标签页可以为任务表单定义额外字段。

### 字典

该模块附带字典“项目/销售线索的商机状态”。

当模块用于跟踪销售线索/商机时，将使用此字典。它包含商机签单的概率。

前往“**设置**”菜单，然后选择**“字典库**”，可以自定义字典值来限定商机的状态。

该模块还使用“联系人/地址类型”字典，并默认填充它用以关联分配给项目或任务的联系人或用户。

### 权限

1. 查看项目和任务（共享项目和我联系的项目）。还可以输入已分配任务所消耗的时间（工时）
2. 创建/修改项目（共享项目和我联系的项目）
3. 删除项目（共享项目和我联系的项目）
4. 导出项目
5. 查看所有项目和任务（包括非我联系的私人项目）
6. 创建/修改所有项目和任务（包括非我联系的私人项目）
7. 删除所有项目和任务（包括非我联系的私人项目）

## 使用方法

该模块可通过 Dolibarr 顶部菜单中的**项目**图标进行访问。

请注意，左侧菜单显示两组选项：

1. 访问您自己的项目和任务。这些是分配给您的项目和任务。
2. 访问共享项目和任务。这些是您可以读取的项目和任务（即使您未被分配到）。根据您拥有的权限，对此视图的访问可能会受到限制。

## 实体和业务规则

### 项目实体

这是通过模块添加的根对象。

#### 属性

|   属性   |                       描述                       |                          注释 / 值                           |
| :------: | :----------------------------------------------: | :----------------------------------------------------------: |
|   参考   |         由模板自动生成。它是独一无二的。         | 参见[ Set-up Options](https://wiki.dolibarr.org/index.php?title=Module_Projects#Set-up_options) 以自定义模板。 |
|   标签   |                   项目的全名。                   |                                                              |
|  可见性  |               此属性定义用户权限。               | *Project Contacts*，该项目仅对关联的用户可用。*Everybody，每个人，项目是共享的（公共的）。* |
|   状态   |         项目当前状态，由项目工作流更新。         |                         草稿开放关闭                         |
| 开始日期 |                   项目开始日期                   | 可以是过去或未来的任何有效日期。请注意，开始日期和结束日期之间不会进行校验。 |
| 结束日期 |                   项目结束日期                   | 可以是过去或未来的任何有效日期。请注意，不会对开始日期和结束日期之间进行校验。 |
| 机会状态 |   从“项目/潜在客户的机会状态”字典中选择的值。    |       仅在启用“使用项目跟踪潜在客户/机会”选项时显示。        |
| 机会概率 |        机会状态关联的百分比可以手动更新。        |       仅在启用“使用项目跟进潜在客户/机会”选项时显示。        |
| 机会金额 |              默认货币中的机会金额。              |       仅在启用“使用项目跟踪潜在客户/机会”选项时显示。        |
|   预算   |  项目所需的预算金额（如有）在默认货币中的金额。  |                                                              |
|   描述   |                  描述您的项目。                  |                                                              |
| 公开备注 |  用于存储项目公开备注的文本区域（支持 HTML）。   |                                                              |
| 私人笔记 | 一个文本区域（html），用于存储项目中的私人笔记。 |                                                              |

#### 链接

|   关联实体   |                             描述                             |                             备注                             |
| :----------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|     用户     | 您可以为一个项目分配多个用户，并指定其角色。默认定义了两种角色，但如果需要，您可以扩展它。 | 没有对关联用户的数量进行限制，即使这些用户具有相同的角色也是如此。 |
|    联系人    | 您可以为一个项目分配多个联系人（来自不同的第三方），并指定其角色。默认定义了两种角色，但如果需要，您可以扩展它。 | 没有联系人数量的限制，即使角色相同也是如此。联系人和用户角色可以根据需要不同。 |
|     文档     |      您可以上传多个文档文件，并将它们链接到一个项目中。      | 文档也可以使用模板生成，请参阅[设置选项](https://wiki.dolibarr.org/index.php?title=Module_Projects#Set-up_options)以激活模板。 |
|     URL      |             您可以为一个项目附加多个 URL 链接。              |                                                              |
|   商业报价   |                您可以为一个项目附加多个报价。                |               您可以从项目概览标签页创建报价。               |
|   客户订单   |             您可以将多个客户订单关联到一个项目。             |              您可以在项目概览标签页中创建订单。              |
|   客户发票   |            您可以将多个客户发票附件添加到项目中。            |              您可以在项目概览标签页中创建发票。              |
| 客户模板发票 |          您可以将多个客户模板发票附件添加到项目中。          |              您可以在项目概览标签页中创建发票。              |
|  供应商订单  |           您可以将多个供应商订单关联到一个项目中。           |              您可以在项目概览标签页中创建订单。              |
|  供应商发票  |             您可以为一个项目附加多个供应商发票。             |              您可以在项目概览标签页中创建发票。              |
|     合同     |                您可以为一个项目附加多个合同。                |              您可以在项目概览标签页中创建合同。              |
|   费用报告   |              您可以为一个项目附加多个费用报告。              |              您可以在项目概览标签页中创建发票。              |
|     事件     |              您可以将多个事件附加到一个项目中。              |     您可以在项目概览标签页中创建事件。需要激活日程模块。     |
|     任务     |    您可以将多个任务关联到一个项目中。请参阅以下任务属性。    | 应在“设置选项”中正确激活管理项目中的任务选项，详见 [设置选项](https://wiki.dolibarr.org/index.php?title=Module_Projects#Set-up_options) |

### 任务实体

这是项目实体的子实体。可以创建任务层次结构，项目是树状结构的根节点。

#### 属性

|      属性       |                            描述                            |                           备注/值                            |
| :-------------: | :--------------------------------------------------------: | :----------------------------------------------------------: |
|      参考       |                由模板自动生成。它是唯一的。                | 请参阅 [设置选项](https://wiki.dolibarr.org/index.php?title=Module_Projects#Set-up_options)来自定义模板。 |
|      标签       |                         任务的全名                         |                                                              |
| 隶属于项目/任务 | 默认为当前项目，但可以更改为其他项目任务以创建任务层次结构 |                                                              |
|     指派给      |                     负责该任务的用户。                     |                      默认为任务创建者。                      |
|    开始日期     |                       任务的开始日期                       | 可以是过去或未来的任何有效日期。请注意，在开始日期和结束日期之间以及与项目日期之间不会进行任何控制。 |
|    结束日期     |                       任务的结束日期                       | 可以是过去或未来的任何有效日期。请注意，在开始日期和结束日期之间以及与项目日期之间不会进行任何控制。 |
|    计划工时     |            按小时和分钟计算的任务完成计划工时。            |                                                              |
|   已申报进度    |                     手动更新的百分比。                     |              也可以在记录任务所花费时间时更新。              |
|      描述       |                        任务描述文本                        |                                                              |
|    公开备注     |       一个文本区域（HTML），用于存储任务的公共备注。       |                                                              |
|    私人备注     |       一个文本区域（HTML），用于存储任务的私人备注。       |                                                              |

#### 链接

| 实体链接 |                             描述                             |                             备注                             |
| :------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|   用户   | 您可以将多个用户分配给一个任务，并指定其角色。默认定义了两种角色，但如果需要，您可以扩展它。 | 没有对关联用户的数量进行限制，即使这些用户具有相同的角色也是如此。 |
|  联系人  | 您可以为一个任务分配多个联系人——来自不同的第三方，并指定一个角色。默认定义了两个角色，但如果需要，您可以扩展它。 | 没有联系人数量的限制，即使角色相同也是如此。联系人和用户角色可以根据需要不同。 |
|   文档   |      您可以上传多个文档文件，并将它们链接到一个项目中。      | 文档也可以使用 ODT 模板生成，详见[设置选项](https://wiki.dolibarr.org/index.php?title=Module_Projects#Set-up_options)以激活模板。 |
|   URL    |             您可以为一个项目附加多个 URL 链接。              |                                                              |
| 时间花费 |             您可以为一个任务附加多个时间花费槽。             |           请参见下方的实体属性以获取更多详细信息。           |
|   任务   |         您可以将多个任务作为父任务附加到一个任务上。         |                                                              |

### 时间记录

这些记录允许捕获用户在特定时间花费在任务上的时间。

花费的时间可以从不同的点输入：

- 使用任务表单中的专用标签页
- 使用模块左侧菜单中的“新增花费时间”选项。

在两种情况下，都可以按天记录花费的时间，但菜单选项还允许按周记录花费的时间。在这种情况下，你只能每天记录一个时间区间。

#### 属性

|      属性      |                      描述                       |              备注/值               |
| :------------: | :---------------------------------------------: | :--------------------------------: |
| 开始日期和时间 |           定义花费时间的具体时间点。            |    时间在按周输入数据时不可用。    |
|    持续时间    |            任务所花费的小时和分钟。%            |        这是创建记录的必填项        |
|      备注      | 简短的文字来备注做了什么或时间是如何被花费的。% |    按周输入数据时，备注不可用。    |
|    已完成由    |           完成任务所花费时间的用户。            | 用户应被指派给任务以记录花费的时间 |

#### 链接

| 关联实体 |             描述             |               备注               |
| :------: | :--------------------------: | :------------------------------: |
|   用户   | 一个工时记录只能关联一个用户 | 用户应与任务关联，以创建该记录。 |
|   任务   | 一个工时记录只能关联一个任务 |                                  |

### 项目可见性和用户操作

此模块允许用户之间共享项目和任务。每个用户可以根据以下内容进行交互：

- 允许的权限
- 项目可见性
- 项目分配

以下表格总结了基于这些因素可用的操作。

|                    用户                     |                    项目                    |                          |                                        |                    |                                    |
| :-----------------------------------------: | :----------------------------------------: | ------------------------ | -------------------------------------- | ------------------ | ---------------------------------- |
|            仅在项目联系人处可见             |                 所有人可见                 |                          |                                        |                    |                                    |
|                    状态                     |            用户不是项目的联系人            | 用户是项目的联系人       | 用户不是项目的联系人                   | 用户是项目的联系人 |                                    |
|                    权限                     |                    读取                    | 项目已隐藏               | 查看项目及任务记录已管理任务的花费时间 | 项目已隐藏         | 查看项目及任务记录任务所花费的时间 |
|                  创建/修改                  |          修改关闭项目创建修改任务          | 修改关闭项目创建修改任务 |                                        |                    |                                    |
|                    删除                     |               删除项目及任务               | 删除项目及任务           |                                        |                    |                                    |
|   读取所有项目（即使不是联系人或公开的）    | 读取项目和任务记录所有已分配任务的花费时间 |                          |                                        |                    |                                    |
| 创建/修改所有项目（即使不是联系人或公开的） |          修改关闭项目创建修改任务          |                          |                                        |                    |                                    |
|   删除所有项目（即使没有联系人或公开的）    |               删除项目和任务               |                          |                                        |                    |                                    |

### 项目的工作流

项目状态遵循以下工作流顺序：**草稿**、**打开**、**已关闭。**

#### 创建项目

创建新项目是通过主菜单“项目”上的“新建销售线索或项目”菜单完成的。

公共项目（和所有任务）可以由具有读取项目权限的任何人读取/编辑。

私人项目（和所有任务）只能由定义为项目的联系人、参与者、项目创建者的用户读取/编辑（如果删除所有联系人，我们必须至少要保留一个用户在该项目上的授权。就是创建者）。

#### 创建任务

任务的创建是通过项目的“任务”标签页上的“创建任务”按钮，或菜单“项目->新建任务”完成的。

- 如果您具有创建/编辑项目的权限，并且您是项目的联系人（或者项目是公共项目），则可以创建一个任务。
- 一个任务位于项目的根目录下或项目的另一个任务下。

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and click on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面后点击“编辑”以完成它。







# 日程模块



## 目录



- 1简介
  - [1.1关于定义的重要提醒](https://wiki.dolibarr.org/index.php?title=日程模块#.E5.85.B3.E4.BA.8E.E5.AE.9A.E4.B9.89.E7.9A.84.E9.87.8D.E8.A6.81.E6.8F.90.E9.86.92)
  - [1.2本模块能做什么](https://wiki.dolibarr.org/index.php?title=日程模块#.E6.9C.AC.E6.A8.A1.E5.9D.97.E8.83.BD.E5.81.9A.E4.BB.80.E4.B9.88)
  - [1.3本模块不能做什么](https://wiki.dolibarr.org/index.php?title=日程模块#.E6.9C.AC.E6.A8.A1.E5.9D.97.E4.B8.8D.E8.83.BD.E5.81.9A.E4.BB.80.E4.B9.88)
- [2安装](https://wiki.dolibarr.org/index.php?title=日程模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=日程模块#.E9.85.8D.E7.BD.AE)
- 4事件（events）
  - [4.1自动事件](https://wiki.dolibarr.org/index.php?title=日程模块#.E8.87.AA.E5.8A.A8.E4.BA.8B.E4.BB.B6)
  - [4.2手动事件和约会](https://wiki.dolibarr.org/index.php?title=日程模块#.E6.89.8B.E5.8A.A8.E4.BA.8B.E4.BB.B6.E5.92.8C.E7.BA.A6.E4.BC.9A)
- [5相关视频](https://wiki.dolibarr.org/index.php?title=日程模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

日程模块是Dolibarr的核心模块。它是可选的，并且是模块列表中的项目/协同工作模块组的一部分。

该模块的主要用途是在Dolibarr中添加日历并管理事件。

```
当前文档适用于 Dolibarr 4.0.2 版本。
```

### 关于定义的重要提醒

术语“**事件**”经常与“任务”、“操作”、“任务列表”、“日记”等术语混淆。

在阅读本文档之前，了解由规范 RFC2445 定义和规范化的每个术语的含义非常重要。

如果您不熟悉这些，请阅读此摘要页面：[事件-待办事项-日志](https://wiki.dolibarr.org/index.php?title=事件-待办事项-日志)。

### 本模块能做什么

- 管理事件日历（也称为日程）。
- 支持日历的日、周、月视图。
- 支持使用ical URL显示日程中的其他外部日历。
- 支持事件的用户和列表视图。
- 允许定义和使用事件分类的类型。
- 允许将项目，合作方和联系人链接到事件。
- 允许将文档 和/或 URL 链接到事件。
- 如果激活了[资源模块](https://wiki.dolibarr.org/index.php?title=Module_Resources)，则可以将资源链接到事件。
- 支持为事件添加字段。
- 支持通过 Dolibarr 工作流事件自动填写日程。
- 支持使用 vcal、ical 或 rss 导出日历事件

### 本模块不能做什么

- 不支持更新外部日历。（请参阅商业模块）。
- 不支持循环事件。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

要了解如何设置模块用以导出 Dolibarr 日程事件到 Google 日程中，请参阅 [FAQ Agenda EN](https://wiki.dolibarr.org/index.php?title=FAQ_Agenda_EN)。



## 事件（events）

在Dolibarr中，事件也称为*操作（actions）*。有自动操作（由 Dolibarr 自动创建）和手动操作（由用户显式创建）。 这是日程模块管理此类事件的作用。

### 自动事件

我们可以在日程模块中设置，需要自动创建到日历中的事件。

然后，所选事件（如：发票创建、订单验证等）将自动创建到日历中。

因此，此类事件是刚刚完成的业务操作。它们是在已实现状态（完成百分比 = 100%）下创建的。

此类事件的持续时间通常为 0 秒（结束日期 = 开始日期）

### 手动事件和约会

您还可以从“日程”菜单创建自己的事件。

可以创建、修改、删除一个事件（在Dolibarr中也称为*操作*(*action*)）。

此类事件将具有由用户选择的开始日期、结束日期、完成百分比。以后也可以修改这些属性特征。







# 模块资源



## 目录



- 1简介
  - [1.1该模块的功能](https://wiki.dolibarr.org/index.php?title=Module_Resources#What_this_module_does)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Resources#Installation)
- 3配置
  - [3.1设置选项](https://wiki.dolibarr.org/index.php?title=Module_Resources#Set-up_options)
  - [3.2字典](https://wiki.dolibarr.org/index.php?title=Module_Resources#Dictionaries)
  - [3.3权限](https://wiki.dolibarr.org/index.php?title=Module_Resources#Permissions)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Resources#Usage)
- 5实体和业务规则
  - 5.1资源
    - [5.1.1资源属性](https://wiki.dolibarr.org/index.php?title=Module_Resources#Resource_properties)
    - [5.1.2资源链接](https://wiki.dolibarr.org/index.php?title=Module_Resources#Resource_links)
- [6使用案例示例](https://wiki.dolibarr.org/index.php?title=Module_Resources#Examples_of_use_cases)

## 简介

资源模块是 Dolibarr 的核心模块之一。它是可选模块，并且是模块列表中项目/协作工作组的一部分。

该模块的主要目的是记录组织的资源，如房间、材料、钥匙等。



### 该模块的功能

- 管理资源列表。
- 支持资源类型。
- 支持为资源添加备注（公开/私密）
- 支持资源与联系人/用户之间的链接
- 支持资源与文档和/或 URL 的链接。
- 如果启用了事件模块，您可以将资源与事件关联。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

以下是配置此模块的选项。

### 设置选项

当前模块尚无配置选项。

### 字典

该模块包含“资源类型”字典。

默认情况下，该字典为空。

请前往 **设置** 菜单，选择 **字典** ，以输入一个资源分类值列表。

该模块还会使用“联系人/地址类型”字典，并默认填充该字典，以便关联资源的联系人或负责人。

### 权限

1. 阅读资源
2. 创建/修改资源
3. 删除资源
4. 将资源链接到日程事件

默认情况下没有默认权限。

前往 **设置** 菜单并选择 **安全** 来定义一些权限（1 和 4 是一个不错的选择）。

## 使用方法

模块可以通过 Dolibarr 主菜单中的**日程**图标获取。

## 实体和业务规则

### 资源

这是此模块添加的主要且唯一的对象。

#### 资源属性

- 名称

  资源的名称。必填。无需唯一。

- 类型

  从“资源类型”字典中获取值。用于对资源进行分类，可以用来排序资源列表。

- 描述

  对您的资源进行描述的文字。

- 公开备注

  一个文本区域（html），用于存储资源的公共注记。

- 私人备注

  用于存储资源的私人备注的文本区域（html）。

#### 资源链接

- 用户

  您可以将多个用户分配给一个资源，并指定其角色。实际上，默认仅定义了一个角色“负责该资源”，但如果您需要，可以扩展它。请注意，即使角色相同，也没有限制可以关联的用户数量。

- 联系人

  您可以将多个联系人（来自不同的第三方）分配给一个资源，并指定其角色。实际上，默认仅定义了一个角色“负责该资源”，但如果您需要，可以扩展它。请注意，即使角色相同，也没有限制可以关联的联系人数量。联系人和用户的角色可以不同。

- 文档

  您可以上传多个文档文件，并将它们链接到资源。

- URL

  您可以将多个 URL 链接附加到资源。

- 事件

  当活动模块被激活时，可以在任何事件中选择所需的资源。你可以定义该资源是否是事件的必需项以及是否可以免费使用。这意味着系统不会检查你所需的资源是否可用，你需要手动检查。

## 使用案例示例

| **列出资源：** |                                                              |
| -------------- | ------------------------------------------------------------ |
| **情况**       | 你想获取资源的完整列表                                       |
| **操作**       | 转到工具 -> 资源。资源列表将打开。你可以按参考号或类型对列表进行排序。 |

 

| **创建资源：** |                                                              |
| -------------- | ------------------------------------------------------------ |
| **情况**       | 您将获得一个新的资源                                         |
| **操作**       | 请转到工具 -> 新建资源。资源卡片将打开。填写并保存。现在它应该出现在列表中。 |

 

| **修改资源：** |                                                              |
| -------------- | ------------------------------------------------------------ |
| **情况**       | 您需要更新一个资源属性                                       |
| **操作**       | 转到工具 -> 列出资源。资源列表显示。选择资源。资源卡片打开。点击修改。你可以修改属性。保存。卡片会反映这些更改。 |

 

| **删除资源：** |                                                              |
| -------------- | ------------------------------------------------------------ |
| **情况**       | 你需要移除一个资源                                           |
| **操作**       | 转到工具 -> 列出资源。资源列表将显示。选择该资源。资源卡片将打开。点击删除。资源将被删除，并显示确认消息。`If you delete a resource allocated to an event, you will end up with a blank resource for this event. Delete is not checking if the resource is used or not. ` |

 

| **停用资源：** |                                                              |
| -------------- | ------------------------------------------------------------ |
| **情况**       | 你需要移除一个已无法使用的资源，但要保留其历史记录。         |
| **操作**       | 无`Not available yet will require an active or inactive status ` |

 

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面后点击“编辑”以完成它







# 动组织模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=活动组织模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=活动组织模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=活动组织模块#.E9.85.8D.E7.BD.AE)
- 4使用方法
  - [4.1用户权限](https://wiki.dolibarr.org/index.php?title=活动组织模块#.E7.94.A8.E6.88.B7.E6.9D.83.E9.99.90)
  - 4.2活动组织的工作流
    - [4.2.1将会议或展位清单导出到 ICS 文件中](https://wiki.dolibarr.org/index.php?title=活动组织模块#.E5.B0.86.E4.BC.9A.E8.AE.AE.E6.88.96.E5.B1.95.E4.BD.8D.E6.B8.85.E5.8D.95.E5.AF.BC.E5.87.BA.E5.88.B0_ICS_.E6.96.87.E4.BB.B6.E4.B8.AD)

## 简介

本模块用于组织活动：

一个活动可以是大会、峰会、开发营、论坛、培训活动、虚拟大会......

一个活动是一个项目，具有特殊角色，因此它添加了更多功能：

一个活动是通过定义和跟进一些任务来组织的（但这是可选的）。

您可以将许多现有元素组合到一个活动中（报价单、发票、库存调拨等）。

您可以收集会议或展位的意见，表决和申请。

您还可以为活动收取注册费和付款。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。


参数列表：

**在项目通过验证时自动创建的任务标签** - ：您可以定义一个“标准”任务清单（仅输入标签清单），它们将在验证新活动时被自动创建。

**在有人推荐会议时为合作方自动创建的类别**：当公共表单提交后、会议被添加到活动（处于草稿状态）时，TAG会自动添加到合作方。

**在合作方推荐展位时为合作方自动创建的类别**：当公共表单提交后、展位被添加到活动（处于草稿状态）时，TAG会自动添加到合作方。

**在用于创建/添加与会者的表单中，限定合作方的类别：**出现在合作方列表中的合作方TAG

**在用于创建/添加与会者的表单中，限定合作方的性质：**与会者被限制为：准客户、客户、都是或者都不是

**收到会议推荐后发送的电子邮件的模板**

**收到展位推荐后发送的电子邮件的模板**

**支付展位注册费后发送的电子邮件的模板**

**支付活动注册费后发送的电子邮件的模板**

**用于有关展位位置的发票行的服务**

**用于有关与会者订阅活动的发票行的服务**

**确保推荐会议的公共注册页面的密钥安全的种子：**用于注册的公共页面的安全密钥（单击刷新图标生成）

进入主页 - 设置- 模块后，可以在“**项目/协同工作→活动组织”**下查看此模块。

## 使用方法

#### 用户权限

首先将相关权限分配给相关用户：

- 读取（读取会议、展位或与会者）
- 创建/变更（创建/变更会议、展位或与会者）
- 删除（删除会议、展位或移除与会者）

#### 活动组织的工作流

一个**有组织的活动**构成一个**活动项目**，其包含一个或多个**任务**（如果已创建）、或一个或多个**会议或展位**。创建一个新活动项目的方式：

1. “**项目**→**组织活动**”的左边栏创建一个新活动，并在此项目的表单中填写描述、日期和特征或你的活动。
2. 在“任务”标签页中，您可以找到或添加一些要执行和跟进的任务（某些任务可能是按照模块设置中定义的清单自动创建的）。
3. 在“组织活动”标签页中，在“活动项目的会议或展位列表”中添加至少一个条目。例如，这些是作为不同活动向与会者建议的不同时间段。选择每个会议或展位的状态 ：
   - 草稿，如果尚未准备好发布
   - 推荐，如果未经访客投票确认
   - 已确认，如果已确认并且可以预定
   - 不合格，如果票数不足以使其合格
   - 完成，如果它结束了
   - 已取消
4. 如果您的会议或展位旨在由访客提议并手动验证（例如，应用征集建议书），请选中该框
5. 验证活动项目草稿以使其可用

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) Page waiting to complete. To complete, create an account, go back and clic on "Modify". ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) Page en attente d'être complété. Pour compléter, créez un compte, revenez et cliquez sur "Modifier". ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) Página a completar. Para completarla, cree una cuenta, vuelva a la página y haga clic en "editar" ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) Seite wartet auf Vervollständigung. Um zu helfen, erstelle ein Konto, gehe zurück und klicke auf "Bearbeiten". [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png)](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png) ページは未完成の状態です。完成させるにはアカウントを作成し、ページに戻って「編集」をクリックして下さい。 

##### 将会议或展位清单导出到 ICS 文件中

要获取活动的所有会议清单，您可以将它们导出到 ICS 文件中，以便将其包含在任何日历中。

TODO.... 格式化此技术规范以帮助文档

------

用于创建和投票的公共页面（列表）

如果在项目上选中了角色“组织活动”（复选框“项目上的活动”），请在项目（在会议标签页上）页面上显示指向公共的“会议或展位页面”的链接（/public/project/index.php. 参见例子 /public/payment/newpayment.php）。此页面显示名称或项目、项目的公共注释，并有一个按钮“推荐新会议”（如果字段推荐会议已打开），“查看推荐活动并投票（仅显示已确认的会议或展位）”（投票将由调查模块中的cookies控制）、“推荐展位”（如果字段推荐展位已打开）。与公共支付页面的架构相同。

从公共页面推荐“新会议”活动，可能会添加合作方 + 联系人记录（“供应商”通过电邮地址和设置中定义的类别进行识别）：如果有合作方记录但是没有联系人记录则仅创建联系人；如果联系人已存在，则不执行任何操作；如果两者都没有则创建两者。它还将添加一条“会议展位”记录。所有提交的活动都将在第二页“查看推荐活动并为其投票”中显示状态。

从公共页面推荐“新展位”活动，可能会添加合作方 + 联系人记录（“供应商”通过电邮地址和设置中定义的类别进行识别）：如果有合作方记录但是没有联系人记录则仅创建联系人；如果联系人已存在，则不执行任何操作；如果两者都没有则创建两者。它还将添加一条“会议展位”记录。如果定义了展位价格，请创建发票并重定向到公共支付页面。

从电子邮件模板发送电子邮件。

------

- 如果选中了“组织活动”角色，请添加一个指向公共页面“与会者订阅页面”的新链接，其中包含用于订阅活动的表单。当有人注册时，我们将添加合作方记录“准客户”，并将合作方和项目之间的链接添加到对象“ConferenceOrBoothAttendee”中。如果在项目/活动上设置了“注册价格”，请创建发票并重定向到公共支付页面。

修改公共支付页面，以便在支付链接到 ConferenceOrBoothAttendee 的发票时，确认订阅。

从电子邮件模板发送电子邮件。

------

- 如果选中复选框“组织活动”：将在项目表单上添加一个名为“组织活动”的标签页。在此标签页中，显示会议或展位的清单，并显示按钮 + 用以添加新的会议或展位。

- 可以单击会议编号以打开会议记录（会议或展位表单必须显示在活动/项目表单下方（如同在项目和任务标签页中））。

- 添加按钮“发送电子邮件以联系ConferenceOrBooth”=>批量操作

- 添加按钮“向与会者发送电子邮件”=> 批量操作

------

该模块必须添加一个替换变量，该变量将是公共链接，以下载活动的 ICS 文件。

------

添加公共 URL 以便能够下载活动的 ICS 文件。（灵感来自 public/agenda/agendaexport.php）









# 模块类别



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Categories#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Categories#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Categories#Configuration)
- [4相关视频](https://wiki.dolibarr.org/index.php?title=Module_Categories#Related_videos)
- [5使用方法](https://wiki.dolibarr.org/index.php?title=Module_Categories#Usage)

## 简介

模块分类允许您管理分类项

\- 第三方（客户或供应商）

\- 联系人

\- 成员

\- 用户

\- 产品/服务（相同列表）

\- 库存



## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

进入“首页 - 系统设置 - 模块”后，此模块可以在“ **多模块工具** - **标签/分类** ”中查看。









# 模块书签



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks#Configuration)
- [4使用示例](https://wiki.dolibarr.org/index.php?title=Module_Bookmarks#Example_of_use_case)

## 简介

模块书签允许您管理书签并在左侧菜单中添加它们。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用示例

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面后点击“编辑”以完成它









# 条码模块



## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Installation)
- 3配置
  - [3.1条形码编码类型](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Barcode_encoding_type)
  - [3.2其他选项](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Other_options)
  - [3.3自动定义条形码编号（产品）的管理](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Manager_to_auto_define_barcode_numbers_.28Product.29)
- 4使用方法
  - [4.1使用键盘](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Using_keyboard)
  - [4.2使用条形码扫描器](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Using_barcode_scanner)
  - [4.3使用智能手机作为条形码读取器](https://wiki.dolibarr.org/index.php?title=Module_Barcode#Use_a_smartphone_as_a_barcode_reader)

## 简介

条形码模块允许你在需要的地方添加条形码（例如在产品卡片或第三方信息中）。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 条形码编码类型

在设置页面上，你可以为每个需要支持的条形码格式选择生成条形码图形输出（图像）的引擎。

默认情况下，Dolibarr 开发者支持的引擎包括基于 **php-barcode** 的 Dolibarr 内部引擎和 TCPDF-barcode 引擎，后者利用了 TCPDF 库中的条形码生成器。

最终，你可以安装程序 genbarcode（[https://www.ashberg.de/php-barcode/download/#genbarcode](https://www.ashberg.de/php-barcode/download/#genbarcode)），以让此引擎支持更多格式。命令行程序 genbarcode 的源代码也在此处提供：[File:Genbarcode-0.4.tar.gz](File:Genbarcode-0.4.tar.gz)

你还可以安装新的条形码生成引擎（参见 [https://www.dolibarr.org](https://www.dolibarr.org) 下载区域），以支持更多格式。

### 其他选项

然后，在模块设置页面上，选择你想要通过条形码增强的功能：

- 产品管理
- 第三方管理

### 管理员自动生成条形码编号（产品）

启用您想要使用的编号模块，以便为产品建议和验证条形码编号。还需要定义掩码以使自动编号生成生效。

例如，如果你在之前的设置中选择使用 EAN 格式（https://en.wikipedia.org/wiki/International_Article_Number_(EAN)）来输入产品条码，你可以输入的值为：

```
300999{000000}
```

- 300 是国家代码（详见 ）
- 999 是公司编号（根据国家不同，可能有更多位数）。要为您的公司获取一个编号，您必须联系您所在国家的 GS1：[https://www.gs1.org/contact]
- {000000} 是产品编号。您自行决定这个编号。它最多有6位数字（根据国家不同，可能有更少的位数）。长度为8减去公司编号的位数。
- EAN13 不需要校验位（它会自动添加）

注意：EAN13 条形码通常用于识别产品（如模板），就像产品参考号（也称为 **部件编号** ）一样。批号或批次的识别可以通过 **序列号** （也称为 **SSN**、**S/N** 或 **SN**）或 **产品编号** 来完成。序列号和产品编号有时是独立的条形码编号，有时包含在 EAN128 代码中：[https://www.barcodeisland.com/uccean128.phtml]。序列号可以是批次或产品的唯一实例（即批次为 1）。 %%

注意：SKU 是一个通用术语，表示：“用于管理库存的足够准确的标识符”。因此，SKU 依赖于你是否使用批次号。它可以是“部件编号”或“序列号”。最好避免使用这个术语以避免混淆。

## 使用方法

完成设置步骤后，您将在某些屏幕上看到一个新的“条形码”字段，这取决于您选择增强的功能（第三方屏幕和/或产品屏幕）。然后，您可以使用键盘或条形码扫描器在这些字段中输入条形码值：

### 使用键盘

只需输入条形码下方打印的数字。这假设数字是在条形码图形下方打印的。如果你使用 Dolibarr 3.6+中的“打印条形码”功能（工具菜单下的“工具”）打印条形码标签，情况就是这样。

### 使用条形码扫描器

如果条形码数字不可见，或者你不想花时间手动输入所有数字，可以使用硬件条形码扫描器。为了与 Dolibarr 兼容，你的条形码扫描器必须支持“键盘仿真”：当你扫描条形码时，它就像从键盘上输入数字一样。要找到支持这种仿真的条形码扫描器，你需要查看条形码的技术规格。扫描器必须提供以下术语：

- “HID”模式（为人机接口设备）

或者

- “键盘楔形”或“楔形”接口


更多关于条码扫描器接口的信息请参见页面：https://www.taltech.com/barcodesoftware/articles/which_barcode_scanner_interface

您可以找到条码阅读器来读取 EAN13（13 位数字）条码，以及其他类型的条码阅读器来读取 Code-39（数字，不限字符数）或 Code-128（字母，不限字符数）条码。大多数条码扫描器可以读取所有格式。

- EAN13 用于定义产品。
- code-39 用于库存跟踪（仅包含数字字符的序列号）。
- code-128 用于库存跟踪（包含数字和字母字符的序列号）。

要测试您的扫描仪是否可以读取 code-128，您可以使用此页面（打印出来，大多数扫描仪直接在计算机屏幕上使用时无法工作）： https://www.softmatic.com/faq-2-7.html

示例：

- MOTOROla DS4208
- Datalogic QW2120
- EAN: 6913280798816
- Voyager XP 1472g

这另一个示例在 Linux Ubuntu 上测试成功：

- https://www.amazon.fr/gp/product/B008RG3EG6 - 请将扫描器的 USB 线插入电脑，然后扫描提供的手册上的条形码以设置正确的键盘。完成后，每次扫描都会像使用键盘一样输出结果。

### 使用智能手机作为条形码读取器

对于这种使用，需要有一个专门为 Dolibarr 设计的应用程序。

例如“MobilId”：https://play.google.com/store/apps/details?id=net.zapplica.mobilid

但其他应用程序也可能可用。





# 工作流模块



| **工作流** |                                                              |
| ---------- | ------------------------------------------------------------ |
| 模块ID     | 6000                                                         |
| 用户手册   | 本页                                                         |
| 开发文档   | [工作流模块（开发中）](https://wiki.dolibarr.org/index.php?title=Module_Workflow_(development)&action=edit&redlink=1) |

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=工作流模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=工作流模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=工作流模块#.E9.85.8D.E7.BD.AE)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=工作流模块#.E7.94.9F.E5.91.BD.E5.91.A8.E6.9C.9F_.2F_.E4.B8.9A.E5.8A.A1.E8.A7.84.E5.88.99)
- [5相关视频](https://wiki.dolibarr.org/index.php?title=工作流模块#Related_videos)

## 简介

本模块允许您设置工作流程，用以自动创建对象。 例如，当报价单以已签署状态被关闭时，此模块可以自动创建订单。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 生命周期 / 业务规则

本模块将根据其他已激活的模块显示可用的工作流程。









# 导入模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=导入模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=导入模块#.E5.AE.89.E8.A3.85)
- [3设置](https://wiki.dolibarr.org/index.php?title=导入模块#.E8.AE.BE.E7.BD.AE)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=导入模块#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95)
- [5已知问题](https://wiki.dolibarr.org/index.php?title=导入模块#.E5.B7.B2.E7.9F.A5.E9.97.AE.E9.A2.98)
- [6用例示例](https://wiki.dolibarr.org/index.php?title=导入模块#.E7.94.A8.E4.BE.8B.E7.A4.BA.E4.BE.8B)

## 简介

要将现有/遗留的数据批量导入Dolibarr，有几种可能的方法。本页介绍使用内置的导入模块的首选方法。

其他解决方案在页面 [批量导入](https://wiki.dolibarr.org/index.php?title=批量导入) 中介绍。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 设置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

另请参阅页面 [Setup Other](https://wiki.dolibarr.org/index.php?title=Setup_Other) ，以修改导入/导出CSV文件的分隔符和字符集（charset）。

## 使用方法

导入遗留数据可能需要多次尝试/修改源文件才能成功导入。

建议使用 LibreOffice/OpenOffice 来“构建”单个源电子表格（.ods），并在每次修改/更正后重复地另存为CSV，因为字符集 handling/csv 结构定义在多字节（acccented）文本字符串方面远优于Excel。

虽然大多数字段的内容都是合乎逻辑的，但省份的地址数据（StateID）则不然。此字段不能使用省的名称导入（在不同国家/地区之间可能不是唯一的，例如“Florida”），但必须与表 llx_c_departements 中的整数 rowid 匹配。file字段中的值应以“id:”为前缀，以确保强制导入检查与rowid匹配。要将省份与 rowid 匹配，一种方法是使用SQL编辑器将表导出为CSV，然后将其与电子表格 VLOOKUP 函数一起使用以返回 rowid。这仍然需要手动检查，因为在省份名称重复的情况下，VLOOKUP只会返回第一个匹配项。

您可能会发现，您的遗留数据中有一些国家/地区/省份尚未被添加到Dolibarr中。在导入遗留数据之前，可以使用安装文件中的 myqsl 查询作为示例添加新的地区/省份。

要导入文件，请执行以下操作：

- 前往菜单 “工具 - 导入助手 - 新建导入”
- 步骤 1：选择一个预定义的数据集来匹配您的数据。通过单击该行尾的按钮选择它。
- 步骤 2：通过单击行尾的按钮选择要导入的文件格式 CSV/Excel (.xlsx) 。注意：您可以通过点击“下载示例文件”下载一个空示例文件，其中包含有关允许的字段值的信息/提示。
- 步骤 3：浏览并选择要从您的计算机上传到Dolibarr服务器的文件。文件传输完成后，单击行尾的按钮进入下一步。
- 步骤 4：将文件字段映射到数据集字段。左列中是您上传的文件中找到的字段。右列中是Dolibarr中的可用字段。您可以通过向上或向下拖动箭头来移动左列中的字段，以将输入文件中的每个字段都与对应的Dolibarr字段对齐。如果要 忽略/不 导入源文件中的某个字段，则应将其移动到"不导入的源文件字段"的行下方。

注意：在行尾，将鼠标悬停在问号上，会显示Dolibarr对字段输入所期望的数据格式、约束和可能的值示例。 映射完成后，您可以将映射保存为配置文件以供将来使用。点击"下一步"继续。

- Step 5: 如果文件有列标题，则选中"不导入源文件的第一行"，然后点击"启动导入模拟"。模拟将检查字段中的值并显示错误报告。如果没有错误，可以点击"启动最终导入"来真正插入数据。导入的数据将添加到现有数据中。

- 所有导入到dolibarr中的数据行都会被附件一个 import_key 字段，其值对应本条数据的导入日期。如果在数据导入后发现问题，则可以使用 SQL 查询轻松地找到有问题的导入数据行。

## 已知问题

在 3.1 版本中可能存在以下问题。但它们已在更高的版本中被更正了。

- 导入合作方

使用本模块导入合作方后，系统不显示这部分数据，需要将潜在客户状态（llx_societe.fk_stcomm）从 NULL 更改为“0”（需要有关可能值的详细信息；外键对应于表“llx_c_stcomm”）。

导入后要执行以下 SQL 用以修复此问题：

```
UPDATE `llx_societe` SET `fk_stcomm` = '0' WHERE fk_stcomm IS NULL
```

- 导入产品

使用本模块导入产品后，系统不显示这部分数据，需要将产品类型（llx-product.fk-product-type）从 NULL 更改为“0”（需要有关可能值的详细信息）。

导入后要执行以下 SQL 用以修复此问题：

```
UPDATE `llx_product` SET `fk_product_type` = '0' WHERE fk_product_type IS NULL
```

## 用例示例

| **UCMI01：** |                                                             |
| ------------ | ----------------------------------------------------------- |
| **场景**     | 我有一个包含3000个产品的Excel文件。我想将它们导入Dolibarr。 |
| **操作**     | 前往菜单“工具->导入助手->新建导入”并选择产品和服务          |

 

| **UCMI02：** |                                                              |
| ------------ | ------------------------------------------------------------ |
| **场景**     | 我有一个包含1000个准客户的文本文件。我想将它们导入Dolibarr。 |
| **操作**     | 前往菜单“工具->导入助手->新建导入”并选择合作方               |

 





# 导出模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=导出模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=导出模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=导出模块#.E9.85.8D.E7.BD.AE)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=导出模块#.E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95)
- [5开发自己的导出脚本](https://wiki.dolibarr.org/index.php?title=导出模块#.E5.BC.80.E5.8F.91.E8.87.AA.E5.B7.B1.E7.9A.84.E5.AF.BC.E5.87.BA.E8.84.9A.E6.9C.AC)
- [6相关视频](https://wiki.dolibarr.org/index.php?title=导出模块#.E7.9B.B8.E5.85.B3.E8.A7.86.E9.A2.91)

## 简介

本模块用于导出 Dolibarr 数据。从 Dolibarr 导出数据还有其它方法，如下所述。

批量导入请参见页面 [批量导入](https://wiki.dolibarr.org/index.php?title=批量导入) 。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 使用方法

1. 前往菜单 “ 工具 -> 导出助手 -> 新建导出 ”，然后选择一个预定义的数据集。
2. 选择由您预定义的导出配置文件或手动选择要包含在导出文件中的字段。
3. 添加一个您希望放置在这些字段值上的任何过滤值。
4. 更改导出文件中字段/列的位置顺序。您可以将所做的选择保存为导出配置文件/模板以备将来使用。
5. 从下拉列表中选择导出文件的格式。可能的格式有 CSV/TSV（文本文件）或 XLS 2007/95（原生Excel文件）。单击“生成”。

几秒钟后，将显示一个指向该文件的链接以供下载。

## [![Outils.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3e9ef4b996b388abc6f00d8a807c7e66.png)](https://wiki.dolibarr.org/index.php?title=File:Outils.png) 开发自己的导出脚本

如果没有符合您需求的预定义数据集，并且您具有一定的计算机编程知识，您也可以开发自己的脚本。

任何语言都可以使用，只要这种语言能读取数据库即可。

您只需读取要导出的表，并以您喜欢的格式制作导出文件。

因此，唯一的先决条件是知道哪个表包含要导出的数据。

为了帮助您，页面 [Table SQL](https://wiki.dolibarr.org/index.php?title=Category:Table_SQL) 列出了 Dolibarr 使用的所有表。

请注意：2.6以上的版本允许"admin"用户在使用导出模块时查看用于构建导出文件内容的SQL代码。这在生成文件时显示。







# 模块 ModuleBuilder

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Configuration)
- 4使用方法
  - [4.1创建新模块](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Creating_a_new_module)
  - 4.2开发您的新模块
    - [4.2.1语言支持](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Language_Support)
    - [4.2.2菜单](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Menus)
    - [4.2.3对象](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Object)
    - [4.2.4**属性添加** ：](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Property_Addition:)
    - [4.2.5权限](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Permissions)
    - [4.2.6字典](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Dictionaries)
    - [4.2.7钩子](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Hooks)
    - [4.2.8触发器](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#Triggers)
    - [4.2.9CSS / JS / CLI](https://wiki.dolibarr.org/index.php?title=Module_ModuleBuilder#CSS_.2F_JS_.2F_CLI)

## 简介

ModuleBuilder 是仅供开发人员使用的模块，可帮助您开发模块。它是一种快速应用开发、无代码或低代码工具。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 使用方法

Dolibarr 中的 ModuleBuilder 提供了许多功能，旨在全面管理和开发模块。

### 创建新模块

点击菜单栏右上角的“Bug”图标以访问 ModuleBuilder 工具。

首先，通过点击“新建模块”链接创建一个新的模块。

选择一个名称和一些选项。将会生成一些基本文件，使模块能够正常工作。你已经可以从 Dolibarr 的通用页面启用或禁用该模块。不过，建议在模块未启用的情况下进行其他开发步骤。

### 开发你的新模块

#### 语言支持

- 此功能允许开发者为模块引入额外的语言，从而增强其在不同语言群体中的可访问性和实用性。
- 这涉及到集成新的语言文件或条目，以翻译模块的界面和消息。



[![AddLanguage.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/0b5fb1b7d874ea2b7ceaef7c97fce0e7.png)](https://wiki.dolibarr.org/index.php?title=File:AddLanguage.png)



#### 菜单

允许在模块的用户界面中自定义菜单，使用户能够更高效地导航模块的各项功能。这可能包括添加与特定功能链接的新菜单项或调整模块的导航结构。

- 在系统中创建菜单可以通过两种不同的方法实现：首先，当创建一个对象时，会自动生成并显示三个菜单在左侧边栏。其次，可以通过表头顶部的表单手动添加菜单和子菜单，这需要填写特定字段，如标题、URL 和位置。此外，还可以为每个菜单分配权限，以确保只有具有相应权限的用户才能看到这些菜单。
- 编辑过程与此方法非常相似。
- 对于删除操作，需要点击垃圾桶图标并确认以继续删除操作。



[![Menus.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bd392b28febc7993c3e2fdfd2701a23f.png)](https://wiki.dolibarr.org/index.php?title=File:Menus.png)

#### 对象

- 要添加一个对象，只需输入名称、选择一个图标，并指定一个现有的表名，如果没有指定，则会创建一个新的表。
- 这三个复选框取决于您的偏好：一个用于启用自动编号生成，第二个用于启用 PDF 文档创建，第三个用于为创建的对象生成权限。



[![img](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/d0a51737dd303ebefc325b8729185e8a.png)](https://wiki.dolibarr.org/index.php?title=File:AddObject.png)

**添加对象**


在使用 ModuleBuilder 开发的 Dolibarr 模块中，对象的描述中列出了几个关键组件和功能，包括：

- **PHP DAO CRUD 类** : 这是用于处理对象的创建、读取、更新和删除等数据库操作的核心 PHP 类，确保数据管理的顺畅进行。
- **图标表示** : 用于用户界面中对象的可视化表示的图标，有助于快速识别。
- **模块 API**: 定义模块的应用程序编程接口，使外部可以进行交互和集成（每个创建的对象包含 CRUD 方法）。
- **单元测试** : 一组用于验证对象功能和可靠性的 PHP 单元测试，确保其稳健运行。
- **库文件** : 包括一个通用库文件，用于模块内的通用功能，以及一个对象特定的库文件，其中包含该对象逻辑和操作特有的函数。
- **SQL 脚本** : 包括用于创建对象数据库表的主要 SQL 脚本，以及用于键、索引和额外字段的附加脚本，确保数据库结构和性能优化。
- **用户界面页面** :
  - 用于查看所有对象记录的列表页面，
  - 用于创建、修改和显示单个记录的详细卡片页面，
  - 专门页面用于管理相关联系人、文件、笔记和事件，每个页面在对象上下文中提供专门的功能。

**设置还包含一个按钮，便于根据需要生成、修改或删除这些组件。该系统提供了一个全面的框架，用于扩展和自定义模块中的对象，为开发人员提供了强大的工具集，用于模块的自定义和功能增强。**



[![DolObject.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/4839ebce0345636af2bf3a63a4ecd753.png)](https://wiki.dolibarr.org/index.php?title=File:DolObject.png)



#### **属性添加** ：

此功能允许通过添加新属性来扩展实体或模块，这些属性可用于存储额外信息、自定义行为或与其他模块集成，从而增强模块的灵活性和功能。

- 要向特定对象添加额外属性，只需点击属性列表右侧的“+”按钮，这将显示一个表单，允许您填写标签、类型、代码等字段。
- 要修改属性，只需点击同一行中出现的铅笔图标，这将弹出一个编辑表单。
- 要删除属性，请点击垃圾桶图标，在确认后移除该属性。



[![PropertiesObject.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/4757d453bf93dad922ef4012cb11a879.png)](https://wiki.dolibarr.org/index.php?title=File:PropertiesObject.png)



[![AddProperties.png](https://wiki.dolibarr.org/images/thumb/3/3f/AddProperties.png/1413px-AddProperties.png)](https://wiki.dolibarr.org/index.php?title=File:AddProperties.png)



#### 权限

对于权限设置，有以下两种方式创建：

- 在创建对象时，在表单底部勾选框内打勾，并生成默认的3项权限（创建、编辑、删除）。
- 通过在权限部分手动创建它们，该部分提供了每个对象的权限列表。表格顶部的表单允许您选择对象并选择权限；ID 会自动分配，标签也是如此，尽管您可以根据需要对其进行更改。



[![PermissionsList.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/37215675989a2d17c6ae3689f905c76a.png)](https://wiki.dolibarr.org/index.php?title=File:PermissionsList.png)



#### 字典

- 要创建字典，有一个专门的区域用于此目的。右侧有一个创建按钮（+），会显示一个表单用于输入字典名称，该名称将成为数据库中的表名，并以“c_”开头。

- 其他字段会自动填充，建议保留默认值。对于编辑，您可以更改标签、排序字段以及插入或编辑字段。



[![ListDict.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/275965e47c9f593962c4949a28867dab.png)](https://wiki.dolibarr.org/index.php?title=File:ListDict.png)



[![img](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/7b3ba06cb284b69ccf96ff211a1f8a02.png)](https://wiki.dolibarr.org/index.php?title=File:AddDictionnaire.png)

添加词典

#### 钩子

- 在模块描述符的 `module_parts['hooks']` 属性中定义应在哪些上下文中执行钩子（可以通过在核心代码中搜索 `initHooks(` 来找到可用的上下文列表）。然后，编辑钩子文件以添加您的钩子函数的代码（可以通过在核心代码中搜索 `executeHooks` 来找到可钩接的函数）。
- 点击 "+" 按钮生成钩子代码。

#### 触发器

- 在模块中，`module_parts` 数组中的 `triggers` 部分表示该模块是否包含自己的触发器目录，以便在 Dolibarr 的核心触发器系统中使用。要生成触发器文件，只需在触发器部分使用 ModuleBuilder 接口提供的 "+" 按钮。

#### CSS / JS / CLI

- **CSS** : 生成后，您可以使用该文件定义自定义样式，这些样式将应用于模块的前端，从而改善其外观和用户体验。您可以指定布局、颜色、字体等样式的定义，确保模块符合预期的美学和可用性标准。

- **JavaScript (JS)** : 生成 JS 文件后，您可以编写脚本来处理用户交互、执行验证、操作 DOM 元素。

- **命令行界面 (CLI)** 文件在通过命令行与模块进行交互方面发挥着关键作用，允许执行脚本或函数而无需图形界面。这对于自动化流程特别有用。

通过使用 ModuleBuilder 生成这些文件，您可以简化将 CSS、JS 和 CLI 功能集成到模块中的初始设置过程。每个文件都有其独特的功能，有助于模块的视觉设计、交互性和操作灵活性，最终增强其整体实用性和在 Dolibarr 生态系统中的集成。

所有这些配置都添加在 `**modYourModuleName.class.php**` 文件中，该文件位于 `**htdocs/custom/YourModuleName/core/modules**` 文件夹内。如果你想编辑该文件，请务必小心，特别是处理注释部分。







# 模块网站


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Website#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Website#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Website#Configuration)
- [4创建新网站](https://wiki.dolibarr.org/index.php?title=Module_Website#Create_a_new_website)
- 5添加新页面/容器
  - [5.1导入网站模板](https://wiki.dolibarr.org/index.php?title=Module_Website#Import_a_website_template)
  - [5.2从空白创建新页面](https://wiki.dolibarr.org/index.php?title=Module_Website#Create_a_new_page_from_scratch)
- 6将动态内容包含到页面中
  - [6.1获取公司属性](https://wiki.dolibarr.org/index.php?title=Module_Website#Get_properties_of_your_company)
  - [6.2获取网页属性](https://wiki.dolibarr.org/index.php?title=Module_Website#Get_properties_of_the_web_page)
  - [6.3将一个页面/容器的内容插入到另一个页面/容器中](https://wiki.dolibarr.org/index.php?title=Module_Website#Add_the_content_of_a_page.2Fcontainer_into_another_page.2Fcontainer)
  - [6.4添加到另一个页面的重定向](https://wiki.dolibarr.org/index.php?title=Module_Website#Add_a_redirection_to_another_page)
  - [6.5其他提示](https://wiki.dolibarr.org/index.php?title=Module_Website#Other_tips)
  - [6.6动态代码示例：最新博客文章](https://wiki.dolibarr.org/index.php?title=Module_Website#Example_of_dynamic_code:_Latest_Blog_post)
  - [6.7动态代码示例：列出产品](https://wiki.dolibarr.org/index.php?title=Module_Website#Example_of_dynamic_code:_List_your_products)
  - [6.8读取另一个远程 Dolibarr 数据库](https://wiki.dolibarr.org/index.php?title=Module_Website#Read_another_remote_Dolibarr_database)
- [7创建自定义404页面](https://wiki.dolibarr.org/index.php?title=Module_Website#Create_a_custom_404_page)
- [8部署 | 使用外部服务器发布您的网站](https://wiki.dolibarr.org/index.php?title=Module_Website#Deploy_.7C_Publish_your_website)
- [9脚本](https://wiki.dolibarr.org/index.php?title=Module_Website#Scripts)

## 简介

该模块在 Dolibarr ERP CRM 中添加了一个 CMS（内容管理系统）。您可以在 Dolibarr 中创建自己的网站，使用如 Apache 和 NGinx 等外部 web 服务器发布您的网站，并在您的网站中重用 ERP CRM 中的任何数据。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 创建一个新的网站

点击顶部菜单“网站”，然后使用“新建网站”按钮初始化一个新的网站。你可以开始添加第一个页面了。

## 添加新页面/容器

要添加您的第一个页面，您可以从头开始创建页面，或者导入现有的网站/模板，稍后您可以对其进行修改。

### 导入网站模板

这是最快捷的方式，可以让网站准备好发布。点击“导入网站”。选择您的模板或从模板市场或您的网络代理提供的模板中上传一个。

### 从头创建一个新的页面

只需点击“添加页面/容器”按钮。填写元信息后点击“保存”。现在你可以点击“编辑源代码”来添加你的 HTML 内容……



## 将动态内容插入到页面中

Dolibarr CMS 最有趣的功能之一是您可以在网站的任何地方通过添加 PHP 代码来包含动态内容。只有经过限制的人才能做到这一点，因为他们需要获得“添加动态内容”的权限才能进行操作。添加动态内容就像用 PHP 开发一样简单。只需添加 `<<?php>` 和 `?>` 标签。在您的动态代码中，您可以使用以下预定义的全局变量（它们已经初始化并填充好了）：

```
$conf, $user, $db, $mysoc, $website, $websitepage, $weblangs, $pagelangs
```

### 获取公司属性

这是一个获取公司名称的动态内容示例：

```
<?php echo $mysoc->name; ?>
```

### 获取网页属性

这另一个示例是动态内容，用于获取容器/页面的元数据：

```
__(Title)__ : <?php echo $websitepage->title; ?><br>
__(Description)__ : <?php echo $websitepage->description; ?><br>
__(Keywords)__ : <?php echo $websitepage->keywords; ?><br>
__(DateCreation)__ : <?php echo dol_print_date($websitepage->date_creation, 'dayhour', $weblangs); ?><br>
```

### 将页面/容器的内容插入到另一个页面/容器中

将一个容器包含到父容器中，可以将页面中的部分内容（文本或 HTML）移动到子页面。这样你就可以在多个页面中包含它。子页面内容的更改将传播到包含子页面的任何页面上。这类似于在 MediaWiki 中使用“模板”或在 C++中使用“#include”。

要在页面中包含子页面/子容器的内容，只需在您希望插入子内容的位置添加以下代码：

```
<?php includeContainer('alias_of_container_to_include'); ?>
```

### 添加到另一个页面的重定向

如果您想将页面重定向到另一个页面，可以在页面源代码中添加以下代码：

```
<?php redirectToContainer('alias_of_container_to_redirect_to'); ?>
```

或者

```
<?php redirectToContainer('alias_of_container_to_redirect_to', '', 0, 0, $array_of_get_params); ?>
```

### 其他提示

要包含存储在 medias 目录中的图片（该目录对公众开放访问），请使用以 /medias 开头的相对路径，例如：

```
<img src="/medias/image/myimagepath/filename.ext">
```

对于通过共享链接共享的图片（使用文件的共享哈希密钥进行开放访问），请使用以下包装器：

```
<img src="/viewimage.php?hashp=12345679012...">
```

要获取 PHP 对象的图片 URL，请使用

```
<img src="<?php print getImagePublicURLOfObject($object, 1, "_small") ?>">
```

要获取文章 HTML 内容中的图片 URL，请使用

```
<img src="<?php print getImageFromHtmlContent($$htmlcontent, 1) ?>">
```

### 动态代码示例：最新博客文章

这是一个示例部分，用于显示包含关键词“mykeyword”的最新 5 篇活跃文章（容器类型为“blogpost”）的列表。

```
 <!-- Blog list -->
<section id="sectionnews" contenteditable="true" class="main section-50 section-md-50 section-md-bottom-50">
    <h2>Latest Blog posts</h2>
            <div class="center">
            <?php 
            $keyword = 'mykeyword';
            $weblangs->loadLangs(array("main"));
            $arrayofblogs = $websitepage->fetchAll($website->id, 'DESC', 'date_creation', 5, 0, array('type_container'=>'blogpost', 'keywords'=>$keyword, 'status'=>'1', 'lang'=>'en'));
            if (is_numeric($arrayofblogs) && $arrayofblogs < 0) {
                print '<div class="error">'.$weblangs->trans($websitepage->error).'</div>';
            } elseif (is_array($arrayofblogs) && ! empty($arrayofblogs)) {
                $fuser = new User($db);
                foreach($arrayofblogs as $blog) {
                    print '<div class="row justify-content-sm-center row-40">';
                    print '<div class="container blog-box centpercent" style="padding: 20px; transition: .3s all ease;">';
                                print '<a href="'.$blog->pageurl.'.php">';
                                print '<div class="post-boxed-img-wrap"><img src="'.($blog->image ? 'viewimage.php?modulepart=medias&file='.$blog->image : 'medias/image/'.$website->ref.'/calendar.svg"').'" alt="" width="120"></div>';
                                print '<div class="post-boxed-caption">';
                                print '<div class="post-boxed-title font-weight-bold">'.$blog->title.'</div>';
                                print '<ul class="list-inline list-inline-dashed text-uppercase">';
                                print '<li>'.dol_print_date($blog->date_creation, 'daytext', 'tzserver', $weblangs).'</li>';
                                $fuser->fetch($blog->fk_user_creat);
                                print '<li><span>by<span> <span class="text-primary">'.($fuser->firstname?$fuser->firstname:$fuser->login).'</span></span></li>';
                                print '</ul>';
                                print '</div>';
                                //includeContainer($blog->pageurl);
                                print '<span class="nohover">'.$blog->description.'</span>';
                                print '</a>';
                    print '</div>';
                    print '</div>';
                }
            } else {
                    print $weblangs->trans("NoArticlesFoundForTheKeyword", $keyword);
            }
            ?>
            </div>
</section>
```

### 动态代码示例：列出产品

这是展示数据库中产品列表的一个示例：

```
 <!-- Blog list -->
<section id="sectionproducts" contenteditable="true" class="main section-50 section-md-50 section-md-bottom-50">
    <h2>Liste des produits</h2>
            <div class="center">
            <?php 
            $weblangs->loadLangs(array("main"));

            $sql = 'SELECT rowid, ref FROM '.MAIN_DB_PREFIX.'product WHERE tosell > 0';
            $resql = $db->query($sql);
            if ($resql) {
                  $num_rows = $db->num_rows($resql);
                  $i = 0;
                  while ($i < $num_rows) {
                         $obj = $db->fetch_object($resql);
                         print $obj->ref."<br>\n";
                         $i++;
                  }
            } else {
                  print $weblangs->trans("NoRecordFound");
            }
            ?>
            </div>
</section>
```

### 读取另一个远程的 Dolibarr 数据库

只需创建一个远程数据库连接，然后使用该连接进行 SQL 请求

```
global $dbmaster;
$dbmaster = getDoliDBInstance('mysqli', 'myserver', 'userread', 'abcdef', 'databasename', 3306);
$confmaster = new Conf();
if ($dbmaster) $confmaster->setValues($dbmaster);
```

注意：你也可以选择使用 API。

## 创建自定义404页面

要创建自定义 404 页面，只需创建一个名为“404”的普通空白页面，并将其类型设置为“页面”。然后编辑该页面的 HTML 内容，添加您选择的内容，并在页面末尾添加该页面。

```
<?php http_response_code(404); ?>
```

接下来，您需要编辑 Web 服务器配置，以指示使用此页面作为 404 页面。例如，在 Apache 中，可以在虚拟主机配置中添加以下内容：

```
ErrorDocument 404 /404.php
```

## 部署 | 使用外部服务器发布您的网站

要使你的网站上线，可以点击“部署/发布我的网站”链接。一个弹出窗口会显示如何设置 Web 服务器（如 Apache）的说明，以便将你的网站发布到互联网上。当网站上线后，Dolibarr 应用程序不一定需要上线，但数据库仍需保持运行状态。

注意：无法使用完全相同的域名同时运行你的网站和 Dolibarr 后台（Dolibarr 后台本身也是一个网站工具）。确实，正是通过域名，Web 服务器（如 Apache、Nginx 等）才能知道请求应被重定向到何处（是 Dolibarr 后台本身还是由 Dolibarr 内容管理系统构建的网站）。但你可以通过名称的开头部分来区分它们。

例如，你可以使用：

- [http://admin.example.com](http://admin.example.com/) 为 Dolibarr 后台工具
- [http://www.example.com](http://www.example.com/) 是由 CMS 功能编辑的第一个网站。
- [http://www2.example.com](http://www2.example.com/) 是由 CMS 功能编辑的第二个网站。
- [http://www.example2.com](http://www.example2.com/) 是由 CMS 功能编辑的第三个网站。

## 脚本

- [脚本 regenerate-pages.php](https://wiki.dolibarr.org/index.php?title=Script_regenerate-pages.php&action=edit&redlink=1)



# 销售模块 (TakePOS)

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Configuration)
- 4硬件兼容性
  - 4.1收据打印机的硬件设置
    - [4.1.1A) 使用浏览器的打印功能](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#A.29_Using_your_browser_print_feature)
    - [4.1.2B) 使用“收据打印机”模块](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#B.29_Using_the_.22Receipt_Printer.22_module)
    - [4.1.3C) 使用旧的“Java 连接器”](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#C.29_Using_the_old_.22Java_connector.22)
    - 4.1.4D) 使用 Java “硬件桥接”服务器和 TakePOS 连接器 18+
      - [4.1.4.1Dolibarr 模块的设置](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Setup_of_Dolibarr_module)
      - [4.1.4.2Java 硬件桥的设置](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Setup_of_the_Java_Hardware_Bridge)
- [5相关视频](https://wiki.dolibarr.org/index.php?title=Module_Point_of_sale_(TakePOS)#Related_videos)

## 简介

此模块将您的 Dolibarr 转换为销售点（POS）。它是一个功能丰富的销售点，支持许多功能，例如：

- 并行销售
- 条形码读取器兼容性
- 触摸和响应式界面
- 多终端
- 多种支付方式，多支付会话
- 通过二维码自动下单
- 管理商店、酒吧或餐馆

请注意，此模块应用于替换较旧的模块

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。



## 硬件兼容性

如果你需要将 TakePOS 模块连接到某些外部硬件，你可能会找到与不同常见用例相关的信息。



### 收银机打印机的硬件设置

#### A) 使用浏览器打印功能

此解决方案是默认提供的，它使用浏览器的标准“打印”功能。

如果你的本地计算机（从浏览器）能够打印到标准打印机，那么你应该能够无需特殊设置即可打印 TakePOS 收据。TakePOS 会在浏览器中弹出收据窗口，同时浏览器的打印选项也会打开，你只需点击打印按钮即可。

```
+--------+                +------------------------+             +-----------------+
|The     |     lan/wan    | Browser print system   |             | Dolibarr server |
|Printer |<----or usb ----| of your local computer |--internet-->| with TakePOS    |
+--------+                +------------------------+             +-----------------+
```

**限制** ：此功能无法使用串行 ESC/POS 打印机，但任何常见的无线、局域网或 USB 打印机都无需特殊设置即可使用。若要使用 ESC/POS 打印机，请使用下一种方法。

#### B) 使用“收据打印机”模块

如果打印机可以通过 Dolibarr 服务器访问（使用网络 TCP/IP 访问或使用本地 LPT 端口或使用 CUPS 共享链接），您可以启用“[ 模块收据打印机 ](https://wiki.dolibarr.org/index.php?title=Module_Receipt_Printer)”功能。然后设置该模块。

```
+-----------------+             +-----------------+                    +-------------+
| Browser of your |             | Dolibarr server |   lan/wan          | The         |
| local computer  |--internet-->| with TakePOS    |---or usb or ltp--->| Printer     |
+-----------------+             +-----------------+   or serial        +-------------+
```

**限制** ：打印机必须能够被您的服务器访问。如果您的服务器在云端，而打印机是本地网络中的网络 IP 打印机，您可以使用网络网关（IP 或端口转换）从云端访问您的 IP 打印机（请注意安全问题），但如果打印机不是网络打印机，或者您无法安装网络网关，您必须使用最后一种方法（E）。

**注意** : 没有打印机的情况下，可以使用这里提供的 ESC/POS 打印机仿真器进行测试：https://github.com/dacduong/escpos-printer-simulator，这样你就可以在本地 IP 和端口 9100 上启动一个虚拟打印机。

#### C) 使用旧的“Java 连接器”

[![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)该方法现已弃用。

```
+--------+           +----------------+           +---------------------+             +---------------------------+
|The     |   serial  | Java connector |           | Your local computer |             | Dolibarr server           |
|printer |<--or usb--| on the printer |<--tcp/ip--| Browser             |--internet-->| with TakePOS              |
|        |           |                |           |                     |             | + module "Java connector" |
|        |           |                |           |                     |             | or module "New connector" |
+--------+           +----------------+           +---------------------+             +---------------------------+
```

视频演示在这里：https://www.youtube.com/watch?v=VLZG9BZ0HLs（如果使用“Java 连接器”模块）
视频演示在这里：https://www.youtube.com/watch?v=AyQLOT0-SIY（如果使用“新连接器”模块）



#### D) 使用 Java "Hardware Bridge" 服务器为 WebApps 和 TakePOS 连接器 18+

[![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)该方法现已弃用。

Dolibarr 的 "TakePOS 连接器 18+" 模块可以从以下链接下载：[https://www.dolistore.com/en/modules/1889-TakePOS-Connector.html](https://www.dolistore.com/en/modules/1889-TakePOS-Connector.html)

```
+--------+           +-----------------+               +---------------------+             +----------------------------------+
|The     |   serial  | Java            |   tcp/ip      | Your local computer |             | Dolibarr server                  |
|printer |<--or usb--| hardware bridge |<--websocket-->| Browser             |--internet-->| with TakePOS                     |
|        |           | port 12212      |               |                     |             | + module TakePOS connector 18.0+ |
+--------+           +-----------------+               +---------------------+             +----------------------------------+
```

##### Dolibarr 模块的设置

使用 TakePOS 连接器 18+后，一旦模块被激活，TakePOS 将使用 Java 服务器“硬件桥”作为打印机（请参阅下一点）。要切换回使用浏览器，必须禁用该模块。Java 服务器将从本地计算机的浏览器接收 WebSocket 连接。因此，当服务器停止或重启时，它可以通过弹窗通知浏览器。本地浏览器（TakePOS 连接器模块）通过发送 Base64 编码的原始文本内容来发送打印请求。

##### Java 硬件桥的设置

此网关在 Windows（或 Linux，但 Linux 的开发尚未完成）上运行。您可以在 https://github.com/imTigger/webapp-hardware-bridge/releases/ 下载一个版本。点击您想要的版本，您将进入下载文件列表。

**对于 Windows 服务器上的桥梁：** 下载并执行 **whb-x.y.0.exe**，然后运行它。这将安装并运行服务器。同时，在运行的应用程序板上，您会找到一个图标，允许您运行配置。运行配置并选择 POS 串行打印机。

如果没有 POS 串行打印机，可以选择“回退到默认打印机”，然后安装一个虚拟 POS 驱动程序（如可在 https://www.colorpilot.com/emfprinter_versions.html 获取的 EMF 虚拟打印机），最后在 Windows 打印机设置中将此虚拟驱动程序设置为默认打印机。

**对于 Linux 服务器上的桥梁：** 您可以下载包含 Java 服务器的 zip 文件，并通过命令行启动 jar 文件来运行 Java 服务器：**java -jar webapp-hardware-bridge.jar**。然而，似乎无法通过默认的 Java 运行配置器来选择要使用的打印机。因此，在 Linux 上，该服务器可能无法正常工作（注意：一些用户报告使用 Amazon 版本的 Java 并启动：**javaw -cp webapp-hardware-bridge.jar tigerworkshop.webapphardwarebridge.Configurator**）







# 模块通知


## 简介

通知模块用于在某些 Dolibarr 事件发生时发送通知（通过电子邮件）。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Cog_circle.svg/40px-Cog_circle.svg.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。









# 邮件模块

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_EMailing#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_EMailing#Installation)
- [3设置](https://wiki.dolibarr.org/index.php?title=Module_EMailing#Setup)
- 4使用方法
  - [4.1生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_EMailing#Life_cycle_.2F_Business_rules)

## 简介

此模块允许向客户、供应商、潜在客户、联系人、成员或用户发送批量邮件。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

请确保 Dolibarr 已正确设置以发送邮件：[ 设置邮件](https://wiki.dolibarr.org/index.php?title=Setup_EMails)

检查在[其他设置 - 邮件模块](https://wiki.dolibarr.org/index.php?title=Setup_Other)中可用的设置选项。例如，您可以设置通过网页界面发送的邮件数量，使用`MAILING_LIMIT_SENDBYWEB`。

注意：[ ![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)如果在主页 - 其他设置中设置了常量`MAILING_NO_USING_PHPMAIL`为 1，那么仅当设置中的发送模式不是“PHP Mail”而是其他模式（如“SMTPs”）时，才能发送邮件。

## 使用方法

批量邮件功能可通过菜单访问（如果启用了邮件模块 ）。菜单链接可以在默认菜单管理器“Eldy”下的“工具”菜单中找到。

### 生命周期 / 业务规则

完整流程如下：

\- 您可以创建一封带有标题、主题和发件人的邮件（为此，请点击菜单“工具 - 电子邮件 - 新建电子邮件”，输入邮件内容并替换变量，然后点击“创建电子邮件”按钮。另一种方法是选择一个现有的电子邮件并点击“克隆”）。

\- 然后您需要选择目标收件人，可以从 Dolibarr 数据中预定义的动态列表或外部文件中选择（为此，请转到“收件人”标签页并点击您想要的预定义列表的“添加”按钮）。

\- 您可以修改这个列表，例如删除目标收件人或从不同来源添加收件人。

\- 负责审核电子邮件的用户需要检查邮件内容和收件人信息。他可以使用自己的电子邮件地址进行测试，查看邮件软件中的结果。如果结果看起来不错，他可以将电子邮件的状态设置为“已验证”（为此，请点击“验证”按钮）。

\- 然后从以下地址进行批量邮件发送：

- 在网页应用程序界面中。在这种情况下，一次发送的邮件数量有限制，默认情况下通常是50封。如果你有超过50个收件人，可以从界面再次提交邮件发送，应用程序会自动向接下来的50个收件人发送邮件。重复此过程直到所有收件人都被发送邮件。
- 或者通过命令行使用脚本 [Script mailing-send.php](https://wiki.dolibarr.org/index.php?title=Script_mailing-send.php)。

只有状态为**已验证**的邮件才能通过脚本发送。有关如何从命令行启动该脚本的更多信息，请参阅页面 [Script mailing-send.php](https://wiki.dolibarr.org/index.php?title=Script_mailing-send.php)。

\- 全局邮件状态和每位收件人的发送结果将被更新并显示。







# 邮件收集模块

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Installation)
- 3设置
  - [3.1创建电子邮件收集器](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Create_an_email_collector)
- 4使用方法
  - [4.1故障排除](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Trouble_shooting)
  - [4.2使用案例示例：使用邮件收集器作为支持中心](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Example_of_use_case:_Using_Emailcollector_for_a_support_center)
  - [4.3使用案例示例：为销售团队创建商机](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Example_of_use_case:_Create_an_opportunity_for_a_team_of_sales)
- 5边界值分析
  - [5.1使用案例](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Use_Cases)
  - [5.2过滤器](https://wiki.dolibarr.org/index.php?title=Module_EMail_Collector#Filters)

## 简介

此模块允许使用 IMAP 协议从邮箱中收集邮件，并在 Dolibarr 中记录事件或数据，其中包含邮件中的信息。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。


如果可用，建议启用选项 " **使用 PHP-IMAP 库而不是原生 PHP IMAP。这还允许使用 OAuth2 连接（必须同时激活 OAuth 模块）。**" 这样在创建邮件收集器时，可以选择使用用户名/密码登录 IMAP 或使用 OAuth2 令牌登录。



### 创建一个邮件收集器

创建你需要的多个邮件收集器。

**IMAP 服务器主机名** : 输入完整的 IMAP 服务器名称。例如: imap.gmail.com

**IMAP 服务器端口/IMAP 加密** : 选择 993 / SSL

**主机字符集** : 选择 UTF-8（95%的情况下有效）。在某些 Office365 的版本或配置下可能是 US-ASCII。

**认证模式**

- 如果你选择“密码”，必须设置 IMAP 登录名和密码。
- 如果你选择“OAuth2”，必须设置 IMAP 登录名，并在“OAuth 服务”字段中设置 OAuth2 条目。要创建你的 OAuth2 条目并为此条目选择正确的权限，请参见 <宗 id=0>OAuth 模块的文档

**源目录**

- 要收集收到的邮件，请输入“INBOX”
- 要收集已发送的邮件，请输入“Sent”

<目标文件夹> 一个良好的做法是将收集到的邮件移动到另一个文件夹，以避免重复收集。 在运行邮件收集器之前，您必须手动创建输出目标 IMAP 文件夹。

例如，使用 Gmail 时，创建一个新的 IMAP 目录：

- 登录您的 Gmail 账户。
- 在 Gmail 窗口右上角，点击设置，查看所有设置。
- 点击标签。%
- 创建标签并勾选“显示在 IMAP”选项%

**过滤器**

选择条件以定义哪些邮件符合收集标准。%

**执行的操作%**

选择收集到的邮件要执行的操作。



## 使用方法

让定时任务调度器（[ 模块定时任务 ](https://wiki.dolibarr.org/index.php?title=Module_Scheduled_jobs)）自动运行邮件收集器，并查看数据被记录到 Dolibarr 中。

为了避免等待批处理，您可以在邮件收集器记录中通过“ **立即运行** ”按钮手动执行邮件收集器。在测试时，建议将要收集的邮件数量设置为较低的值。

提供了一种测试模式（按钮**测试** ）。此模式不会对您的邮箱造成任何修改（仅读取），也不会对 Dolibarr 进行任何修改。另一方面，它允许您查看选择合格邮件的不同阶段、过滤器以及在非测试模式下将要应用的操作。这是一个重要的功能，可以帮助您精细调整收集器的配置。

### 故障排除

如果您在使用 Google OAuth 时遇到“连接设置失败 - 验证”错误，但 OAuth 令牌和刷新令牌有效，请检查邮件收集器设置中的登录（邮箱）。

### 使用案例示例：使用邮件收集器作为支持中心

您有一个包含 n 名员工的支持中心，支持中心的邮箱为 support@mycompany.com（一个独立的邮箱或一个邮件列表，将收到的任何邮件分发给 n 名员工）。

您必须：

- 将 support@mycompany.com 作为每位员工的可能发件邮箱进行声明/允许（例如在 Gmail 中：点击菜单轮盘“设置”，查看所有设置，进入“账户和导入”标签，在“以其他邮箱发送邮件”部分点击“添加另一个邮箱”，输入邮箱 support@mycompany.com 但不勾选“别名”复选框，然后点击通过邮件收到的链接以验证新的发件人资料，返回“以其他邮箱发送邮件”部分并勾选“以发送邮件的相同地址回复”选项）。

这样，公司里的每位员工都可以以支持者支持者@my 公司.com 的身份发送/回复邮件。如果客户回复任何员工的邮件，回复将发送到支持者支持者@my 公司.com（因此所有员工也会收到回复）。

- 完成上述设置后，如果支持者支持者@my 公司.com 是一个邮件列表，建议创建另一个电子邮件账户，例如跟随支持者 follow 支持者@my 公司.com，并将其作为邮件列表支持者支持者@my 公司.com 的另一个成员。这样，跟随支持者 follow 支持者@my 公司.com 将收到所有邮件和回复。
- 启用 邮件收集模块 和 [工单模块 ](https://wiki.dolibarr.org/index.php?title=Module_Ticket)。
- 在工单模块的设置中，将“强制将所有从工单页面发送的邮件作为抄送收件人”字段设置为支持者支持者@my 公司.com，这样从 Dolibarr 后台发送的任何邮件也将发送到支持者支持者@my 公司.com。
- 在票务模块的设置中，创建一个 EmailCollector 条目，并使用“followsupport”用户的凭据（IMAP 登录或 OAuth）来连接 IMAP，并将“收件箱”设置为输入目录。可以将输出目录设置为“已处理邮件”（您必须在第一次运行前创建该目录或标签）。由于收件箱专门用于处理 followsupport@mycompany.com 的邮件，因此无需设置过滤器。

假设收到的邮件由一个网页表单格式化，并包含以下内容：

```
Organization: A customer or name
Email: acustomeremail@example.com
```

将操作设置为“通过名称/别名/邮箱/ID 加载客户（仅加载）”，并设置参数

```
name=EXTRACT:BODY:Organization:\s*([\w\-\s]+)$
email=EXTRACT:BODY:Email:\s*([\w\.\-]+@[a-zA-Z\.\-]+)
```

如果收到的邮件没有已知的格式，就无法重用内容来猜测公司名称。因此，只能使用发件人的邮箱地址。

然后设置第二个动作，即“创建或完成一个工单”（无需设置参数）。

这样一来，每当有邮件发送到 support@mycompany.com，或者有回复发送到 follow@mycompany.com 时，收集器就会收到这些邮件，并尝试判断是输入邮件还是输出邮件，然后记录一个技术支持工单或完成一个工单。

### 使用案例示例：为销售团队创建商机

你有一个销售团队，有 n 名员工。你们团队的邮箱是 sales@mycompany.com（一个独立的邮箱或一个邮件列表，将任何输入邮件分发给 n 名员工）。

您必须：

- 将销售邮件 sales@mycompany.com 作为每位员工的可能发件邮箱（但如果使用 Gmail，请勿勾选“别名”复选框）。这样每位员工都可以以 sales@mycompany.com 的身份发送/回复邮件。如果客户回复任何员工的邮件，回复将发送到 sales@mycompany.com（因此员工 n 也会收到）。

- 一旦完成，如果销售邮箱 sales@mycompany.com 是一个邮件列表，建议创建另一个邮箱账户，例如 followsales@mycompany.com，并将其作为邮件列表 sales@mycompany.com 的另一个成员。这样 followsales@mycompany.com 将会收到所有邮件和回复。
- 启用 邮件收集模块 和 [项目模块 ](https://wiki.dolibarr.org/index.php?title=Module_Projects)，并将“允许机会管理”选项设置为开启。
- 创建一个 EmailCollector 条目，并使用销售邮箱的凭据（IMAP 登录或 OAuth）。可以在第一次运行前设置输出目录为“已处理邮件”（您必须在第一次运行前创建该目录或标签）。由于收件箱专门用于处理 followsales@mycompany.com 邮件，因此无需设置过滤器。

假设收到的邮件格式由网页表单生成，并包含以下内容：

```
Organization: A customer or name
Email: acustomeremail@example.com
```

设置操作为“通过搜索名称/别名/邮箱/ID（如不存在则创建）加载第三方”并设置参数

```
name=EXTRACT:BODY:Organization:\s*([\w\-\s]+)$
email=EXTRACT:BODY:Email:\s*([\w\.\-]+@[a-zA-Z\.\-]+)
```

如果收到的邮件没有已知格式，就不能根据邮件内容猜测公司名称。因此，仅使用发件人的邮箱地址。

然后设置一个第二个动作，即“创建一个机会”（无需设置参数）。

这样每当收到销售邮件 sales@mycompany.com 的邮件，或有回复时，用户会收到 sales@mycompany.com 的邮件，收集器将使用该邮件来查找已存在的第三方联系人，如果未找到，则创建该联系人，然后创建与其关联的项目/机会。

## 边界值分析

#### 使用案例

以下用例在某些版本的 Dolibarr 和邮件提供商中进行了测试：

|                             用例                             | GMail + Dolibarr 20 | 错误/问题 |
| :----------------------------------------------------------: | :-----------------: | :-------: |
|          收集收到的邮件以创建工单（由某人从头创建）          |         OK          |           |
| 通过电子邮件回复收到的工单邮件，此回复将显示在“已发送邮件”中，收集器会收集已发送的邮件并将其与工单关联。 |         OK          |           |
| 从 Dolibarr 工单发送邮件。邮件必须显示在邮件发送器的“已发送邮件”中，但收集器不应从“已发送邮件”中收集该邮件，因为这将导致重复：当邮件由 Dolibarr 生成并发送时（因此保存在 Dolibarr 中），SMTP 平台也会将邮件保存在“已发送邮件”中，此时收集器不应重新导入该邮件。 |         ???         |           |
|    收集并关联来自客户回复（从票务界面发送）的邮件到工单。    |         OK          |           |
|   收集并关联来自客户回复（从邮件发送器发送）的邮件到工单。   |         OK          |           |
| 收集并关联来自邮件发送器发送的邮件到工单，该邮件是某个工单的回复。 |         OK          |           |

#### 过滤器

根据您的邮件服务提供商，某些过滤器可能无法工作。以下是一些不同邮件服务提供商测试的总结。当您的邮件托管商不支持过滤器时，Dolibarr 可能会使用 PHP 来使过滤器正常工作，但这并不总是实现的。

|           过滤器/使用的过滤技术            | Office365 | GMail  |       Dolibarr+PHP       |                 错误/问题                  |
| :----------------------------------------: | :-------: | :----: | :----------------------: | :----------------------------------------: |
|                    来自                    |           |   OK   |          **NA**          |                                            |
|                   发送给                   |           |   OK   |          **NA**          |                                            |
|                    抄送                    |           |   KO   |            ?             |   搜索字符串无法理解 - 未知搜索条件: CC    |
|                    Bcc                     |           |   KO   |            ?             |   搜索字符串无法理解 - 未知搜索条件: BCC   |
|                   回复给                   |           |   NA   | 支持 Dolibarr 20+ 过滤器 |                                            |
|                    主题                    |           |   OK   |          **NA**          |                                            |
|                    正文                    |           |   OK   |          **NA**          |                                            |
|                                            |           |        |                          |                                            |
|                    已读                    |           |   OK   |          **NA**          |                                            |
|                    未读                    |           |   OK   |          **NA**          |                                            |
|                   未回复                   |           |   OK   |          **NA**          |                                            |
|                   已回复                   |           |   OK   |          **NA**          |                                            |
|                大小（小于）                |           |   KO   |          **NA**          | 搜索字符串无法理解 - 未知搜索条件: SMALLER |
|                大小（大于）                |           |   KO   |          **NA**          | 搜索字符串无法理解 - 未知搜索条件: LARGER  |
|  来自 Dolibarr 发送的第一封邮件的对话消息  |           | **NA** |            OK            |                                            |
| 来自一封未从 Dolibarr 发送的首次邮件的对话 |           | **NA** |            OK            |                                            |
|            来自 Dolibarr 的消息            |           | **NA** |            OK            |                                            |
|           未来自 Dolibarr 的消息           |           | **NA** |            OK            |            消息未处理但不是错误            |
|                                            |           |        |                          |                                            |
|             未回复（初始邮件）             |           | **NA** |            OK            |                                            |
|             是初始邮件的回复吗             |           | **NA** |            OK            |                                            |







# 模块 Web 服务 API REST（开发者）


## 目录



- [1功能](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Function)
- 2安装
  - [2.1Apache 配置](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Apache_setup)
  - [2.2Nginx 配置](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Nginx_setup)
- [3提供的服务列表](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#List_of_provided_services)
- 4使用
  - 4.1客户端代码示例
    - [4.1.1PHP](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#PHP)
    - [4.1.2Javascript Ajax](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Javascript_Ajax)
  - 4.2接受的参数
    - [4.2.1sqlfilters](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#sqlfilters)
    - [4.2.2日期](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Date)
- [5PHP 示例](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Examples_with_PHP)
- [6Python 示例](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Examples_with_Python)
- [7开发自己的服务 / API](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_REST_(developer)#Develop_your_own_service_.2F_API)

## 功能

启用此模块后，您将能够使用 Dolibarr 服务器提供的 Web 服务。然后，您可以调用 Dolibarr 提供的不同 REST 接口。

## 安装

要安装，请打开模块页面并激活“API REST”模块。

激活模块 webservices REST 后，Dolibarr 将成为一个 REST Web 服务的服务器。因此，您可以向相对 URL 发送自己的 REST 请求 /，其中 xxx 是要调用的 API 名称。

您可以在浏览器中找到安装的所有 API 列表。点击“浏览”链接以打开 API 浏览器。

### Apache 配置

无需操作。如果您的 Dolibarr 使用 Apache 运行，REST API 也应该可以正常工作。API 将由与您的应用程序相同的虚拟 Web 服务器提供。

### Nginx 配置

与 Apache 类似，如果您的 Dolibarr 运行在 Nginx 的虚拟主机中，您无需进行任何操作即可使 API 正常工作。API 将由与您的应用程序相同的虚拟 Web 服务器提供。

然而，许多发行版的 NGinx 默认配置往往是使用 gaz 引擎，你可能会遇到一些问题。如果你遇到这些问题，可以尝试编辑 NGinx 配置文件，使其与以下示例匹配。这是一个简单的本地主机配置，已测试通过（适用于 Parabola GNU/Linux 的 9.0.1 版本，REST API 功能正常工作）。

```
worker_processes  1;
error_log  /var/log/nginx/error.log;

events {
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
    #                  '$status $body_bytes_sent "$http_referer" '
    #                  '"$http_user_agent" "$http_x_forwarded_for"';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    server {
    	listen		80;
        server_name     dolibarr.localhost; # adjust to your domain

        root    /usr/share/webapps/dolibarr/htdocs; # adjust to your path 
        index   index.php;

        # from https://github.com/Dolibarr/dolibarr/issues/6163#issuecomment-391265538
        location ~ [^/]\.php(/|$) {
            fastcgi_split_path_info ^(.+?\.php)(/.*)$;
            if (!-f $document_root$fastcgi_script_name) {
                return 404;
            }

            # Mitigate https://httpoxy.org/ vulnerabilities
            fastcgi_param HTTP_PROXY "";

            root           /usr/share/webapps/dolibarr/htdocs;
            fastcgi_pass   unix:/run/php-fpm/php-fpm.sock;
            fastcgi_index  index.php;
            include        fastcgi_params;
            fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;
            # Dolibarr Rest API path support
            fastcgi_param  PATH_INFO       $fastcgi_path_info;
            fastcgi_param  PATH_TRANSLATED $document_root$fastcgi_script_name;
        }
     }		
}
```

## 提供的服务列表

可用的服务较少。您可以通过访问以下地址查看 Dolibarr Web 服务的完整列表：

**http://yourdolibarrurl/api/index.php/explorer**

例如，您可以在演示实例中尝试 explorer：

**https://demo.dolibarr.org/api/index.php/explorer**


在右上角粘贴您要用于调用 API 的用户<token>，然后点击“探索”按钮。注意：每个用户的 token 都可以在用户记录页面进行定义。如果您愿意，可以先调用 **login** API 获取 API token 密钥，然后输入 API 密钥以获取所有其他可用 API 服务的列表。


点击“Explore”后，你应该能看到所有可用的此令牌的操作。如果你的操作不多，可能是因为相应的模块未激活。如果你想查看发票，需要在 Dolibarr 的配置中激活发票模块。同样，对于产品、第三方等也是如此。

在 API 的探索页面上，你可以进行很多测试。可以读取 Dolibarr 的数据，也可以写入、修改和删除数据。请注意：数据会真正被修改到你的数据库中。

然后你可以直接从探索工具测试任何 API。这是测试任何 Dolibarr API 的最佳方案，因为这里文档化了所有 API 及其参数。任何测试的结果，你不仅会得到返回的答案，还会得到如何使用`curl`命令行调用 API 的示例。

## 使用

要使用 REST API，你需要调用类似这样的 URL：`http://<my_server>/api/index.php/<action>`
使用以下 4 种方法之一：GET、POST、PUT、DELETE，将<action>替换为你想要使用的动作。例如：http://<my_server>/api/index.php/invoices

在使用任何 API 之前，您必须首先获取一个自定义的 API 密钥。您需要创建一个新的用户，并生成或设置其“API 密钥”。

[![Dolibarr user for api.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/475287d9aa212112deb2bc1493987f1e.png)](https://wiki.dolibarr.org/index.php?title=File:Dolibarr_user_for_api.png)


您需要在任何需要调用 Dolibarr API 的客户端程序中使用此 API 密钥。



### 客户端代码示例

#### PHP

有多种方法可以做到这一点。下面是一段代码示例，但你也可以使用如 phphttpclient.com 这样的库。

```
// Example of function to call a REST API
function callAPI($method, $apikey, $url, $data = false)
{
    $curl = curl_init();
    $httpheader = ['DOLAPIKEY: '.$apikey];

    switch ($method)
    {
        case "POST":
            curl_setopt($curl, CURLOPT_POST, 1);
            $httpheader[] = "Content-Type:application/json";

            if ($data)
                curl_setopt($curl, CURLOPT_POSTFIELDS, $data);

            break;
        case "PUT":

	    curl_setopt($curl, CURLOPT_CUSTOMREQUEST, 'PUT');
            $httpheader[] = "Content-Type:application/json";

            if ($data)
                curl_setopt($curl, CURLOPT_POSTFIELDS, $data);

            break;
        default:
            if ($data)
                $url = sprintf("%s?%s", $url, http_build_query($data));
    }

    // Optional Authentication:
    //    curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);
    //    curl_setopt($curl, CURLOPT_USERPWD, "username:password");

    curl_setopt($curl, CURLOPT_URL, $url);
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($curl, CURLOPT_HTTPHEADER, $httpheader);

    $result = curl_exec($curl);

    curl_close($curl);

    return $result;
}
```

这只是一个工作示例。没有错误控制，也没有考虑安全性，但你可以使用这段代码并根据需要进行修改
该函数有4个参数：

- $method：字符串，"GET"、"POST"、"PUT"、"DELETE"
- $apikey：字符串，"您之前生成的 <token>"
- $url：字符串，调用的 URL。例如："http://<my_server>/api/index.php/invoices"
- $data: 字符串，以 json 格式的数据。此参数非必填。

#### Javascript Ajax

```
<script>
$.ajax({
  type: 'GET',
  async: true,
  contentType: "application/json; charset=utf-8",
  data: { 'lang': 'en_US' },
  dataType: "json",
  cache: false,
  jsonp: false,
  headers: {
    'DOLAPIKEY': 'abcdef123456'
  }, 
  url: 'https://myserver/api/index.php/theapi',
  success: function(rep) {
    console.log("API call success");
    console.log(rep);
  },
  error: function(rep) {
    console.log("API call error");
    console.log(rep);
  }
});
</script>
```

### 接受的参数

这部分在 REST Explorer 中有部分说明。先检查一下。其次查看返回的响应。第三查看给定 API 的源代码。

#### sqlfilters

这些会在检查后传递给数据库。它们作用于产品端点：

- (t.fk_product_type: = :'0') and (t.tosell: = :'1') and (t.label: ilike :'%string')

#### 日期

接受 ISO 日期格式：%Y-%m-%d，例如 2020-07-14。yymmdd 不被接受。

## PHP 示例

这是一些不同用例的示例：

在每个示例中，我们都有：

- $apiKey = "<我的令牌>";
- $apiUrl = "http://<我的服务器>/api/index.php/";

```
// Retrieve products list
	$listProduits = [];
	$produitParam = ["limit" => 10000, "sortfield" => "rowid"];
	$listProduitsResult = CallAPI("GET", $apiKey, $apiUrl."products", $produitParam);
	$listProduitsResult = json_decode($listProduitsResult, true);

	if (isset($listProduitsResult["error"]) && $listProduitsResult["error"]["code"] >= "300") {
	} else {
		foreach ($listProduitsResult as $produit) {
			$listProduits[intval($produit["id"])] = html_entity_decode($produit["ref"], ENT_QUOTES);
		}
	}
```

注释：

- 我从数据库中检索了前 10000 个产品，并按其 ID 排序
- 需要使用 html_entity_decode，因为单引号已被编码
- 可以很容易地使用相同的方法（将产品替换为国家字典）来获取国家列表及其 ID



```
// Create a product
	$ref = "my_product_ref_X203ZZ";
	$newProduct = [
		"ref"	=> $ref,
		"label"	=> $ref
	];
	$newProductResult = CallAPI("POST", $apiKey, $apiUrl."products", json_encode($newProduct));
	$newProductResult = json_decode($newProductResult, true);
```

注释：

- 在创建产品之前，检查是否存在该产品可能是明智的。以我的第一个例子为例，你将有：



```
// my ref
	$ref = "my_product_ref_X203ZZ";
// does it exist in my array
	$produitKey = array_search($ref, $listProduits);
	if ($produitKey) {
// yes
		$fk_product = $produitKey;
	} else {
// no
// Create the product
		$newProduct = [
			"ref"	=> $ref,
			"label"	=> $ref
		];
		$newProductResult = CallAPI("POST", $apiKey, $apiUrl."products", json_encode($newProduct));
		$newProductResult = json_decode($newProductResult, true);
		if (isset($newProductResult["error"]) && $newProductResult["error"]["code"] >= "300") {
// there's been an error
			echo "<pre>ERROR", var_dump($newProductResult), "</pre>";
			exit;
		} else {
// everything good
			$fk_product = $newProductResult;
			$listProduits[$fk_product] = $ref;
		}
	}
```

评论：

- 我在第一个示例中创建的数组中检查我的产品的 ref 是否存在。
- 如果存在，我将使用数组中的键作为 ID。
- 如果不存在，我将创建该产品，然后将其添加到我的数组中以备下次使用，之后我将使用创建的 ID。
- 我选择这种方法是因为在导入 500 条订单时可以减少 API 调用次数。我只需要在开始时检索一次产品列表，而不是每次都需要在 Dolibarr 中进行搜索。

警告：以下示例无法正常工作。一次性创建订单和订单行项目不被支持。相反，您需要先创建订单，然后使用 `/orders/{id}/lines` 端点通过返回的订单 ID 添加行项目。

```
// create an order with 2 products

// The array where there will be all the products lines of my order.
	$newCommandeLine = [];

// product 1
	$ref1 = "my_product_ref_X203ZZ";
	$prix1 = 10;
	$qtt1  = 100;
	$tva1 = 20;
	$fk_product1
// product 2
	$ref2 = "my_product_ref_B707FD";
	$prix2 = 13;
	$qtt2  = 37;
	$tva2 = 20;

	$newCommandeLine[] = [
		"desc"		=> $ref1,
		"subprice"	=> $prix1,
		"qty"		=> $qtt1,
		"tva_tx"	=> floatval($tva1),
		"fk_product"=> $fk_product1
	];

	$newCommandeLine[] = [
		"desc"		=> $ref2,
		"subprice"	=> $prix2,
		"qty"		=> $qtt2,
		"tva_tx"	=> floatval($tva2),
		"fk_product"=> $fk_product2
	];

	if (count($newCommandeLine) > 0) {
		$newCommande = [
			"socid"			=> $clientDoliId,
			"type" 			=> "0",
			"lines"			=> $newCommandeLine,
			"note_private"	=> "order created automatically with API",
		];
		$newCommandeResult = CallAPI("POST", $apiKey, $apiUrl."orders", json_encode($newCommande));
		$newCommandeResult = json_decode($newCommandeResult, true);
	}
```

注释：

- $clientDoliId 是 Dolibarr 数据库中的客户 ID。您要么已经知道它，要么可以在创建订单之前进行查询。
- type => 0，这是一份客户订单（而 1 为供应商订单）



```
// Validate an order 
	$newCommandeValider = [
		"idwarehouse"	=> "0",
		"notrigger"		=> "0"
	];
	$newCommandeValiderResult = CallAPI("POST", $apiKey, $apiUrl."orders/".$newCommandeResult."/validate", json_encode($newCommandeValider));
	$newCommandeValiderResult = json_decode($newCommandeValiderResult, true);
```

注释：

- 在本示例的倒数第二行，我们可以看到：$apiUrl."orders/".$newCommandeResult."/validate"。

$newCommandeResult 是上一个示例中创建的订单的 ID



```
// search in the database if a customer exist
	$customer_name = "Acme Inc";

	$clientSearch = json_decode(CallAPI("GET", $apiKey, $apiUrl."thirdparties", array(
		"sortfield" => "t.rowid", 
		"sortorder" => "ASC", 
		"limit" => "1", 
		"mode" => "1",
		"sqlfilters" => "(t.nom:=:'".$customer_name."')"
		)
	), true);
```

注释：

- limit => 1 只取一个客户
- mode => 1 我们在查找客户，而不是供应商（尽管供应商也是第三方，但状态不同）
- sqlfilters 有点特殊，但在查询页面有更多示例



```
// customer doesn't exist. Let's create it and get it's ID
	$newClient = [
		"name" 			=> "customer company name",
		"email"			=> "customer company email",
		"client" 		=> "1",
		"code_client"	=> "auto"
	];
	$newClientResult = CallAPI("POST", $apiKey, $apiUrl."thirdparties", json_encode($newClient));
	$newClientResult = json_decode($newClientResult, true);
	$clientDoliId = $newClientResult;
```

注释：

- client => 1，他是客户。
- code_client => 'auto'，因此客户代码将自动生成。
- 我们在 $clientDoliId 中获取客户 ID

## Python 示例

参见 https://pypi.org/project/dolipy/（2021）或 https://pypi.org/project/dolibarr/（2019）或 https://pypi.org/project/dolibarrpy/（2024）

首先，您可以使用 "pip install dolibarr" 或 "pypi install dolibarrpy" 安装 Python 模块

```
 from dolibarr import Dolibarr

 api_url = '<nowiki>http://your-url/dolibarr/htdocs/api/index.php/'</nowiki>
 api_key = 'custom_API-Key'

 # Connection to dolibarr
 dolibarr_inst = Dolibarr(api_url, api_key)

 # create Product
 params = {'ref': 'Product_Reference', 'status': '1', 'barcode_type': '6', 'note_public': None,          

           'note_private': <nowiki>''</nowiki>, 'specimen': 0, 'label': 'Product_Label',

           'description': <nowiki>''</nowiki>, 'type': '0', 'price': <nowiki>''</nowiki>, 'price_ttc': '15.6000000', 'price_base_type': 'TTC',  # excl. tax = HT, incl. tax = TTC

           'tva_tx': '19.0000', 'seuil_stock_alerte': '0', 'desiredstock': '0', 'status_buy': '1', 'barcode': 'barcode'}

 ret_val = dolibarr_inst.call_create_api('products', params)
 print(ret_val)

 # get product list
 product_dict = dolibarr_inst.call_list_api('products')
 print(product_dict)
```

## 开发自己的服务 / API

添加一个新的 REST 服务就像在目录 **htdocs/mymodule/class** 中添加一个名为 **api_mymoduleobject.class.php** 的文件一样简单。你可以参考 **htdocs/commande/class/api_orders.class.php** 中的例子。

请注意，如果你使用 **modulebuilder** 工具，这个文件可能会为你自动生成。

框架会自动检测 API 文件，因此它应该会在资源管理器中可见。

方法和参数是通过在对象的 PHP 类（**htdocs/mymodule/class/object.class.php**）中进行反向工程并使用类中找到的 **注释** 来检测的。有关注释的文档：[https://github.com/Luracast/Restler/blob/master/ANNOTATIONS.md](https://github.com/Luracast/Restler/blob/master/ANNOTATIONS.md)

这只是基本内容。

要在 Dolibarr 中查找所有现有的 API 文件，可以搜索所有文件 htdocs/<目录>/class/api_xxx_class.php







# Web 服务 API SOAP（开发人员模块）


## 目录



- [1功能](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP_(developer)#Function)
- [2Dolibarr Web 服务服务器](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP_(developer)#Dolibarr_web_services_server)
- [3Dolibarr Web 服务客户端](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP_(developer)#Dolibarr_web_services_client)
- [4提供的服务列表](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_API_SOAP_(developer)#List_of_provided_services)

## 功能

启用此模块后，您将能够使用 Dolibarr 服务器提供的 Web 服务。然后，您可以调用 Dolibarr 提供的不同 Web 服务的 SOAP 接口。

[![Warning.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/87d6f6ddd2900c182e8819d2f14aba23.png) ](https://wiki.dolibarr.org/index.php?title=File:Warning.png)SOAP 已被弃用。强烈建议使用 [模块 Web 服务 REST](https://wiki.dolibarr.org/index.php?title=Module_Web_Services_REST) 代替。

## Dolibarr Web 服务服务器

一旦激活了模块 webservices，Dolibarr 也会成为一个 web 服务的服务器。因此，你可以向相对 URL 发送自己的 SOAP 请求 `/webservices/server_xxx.php` 其中 xxx 可以是

- "actioncomm"
- "类别"
- "联系人"
- "发票"
- "订单"
- "其他"
- "产品服务"
- "供应商发票"
- "第三方"
- "user"


例如，在 Dolibarr 演示中，将您的 SOAP 请求发送到 **https://demo.dolibarr.org/webservices/server_other.php**


只有少数服务可用。您可以查看 Dolibarr 提供的完整 Web 服务列表，只需调用带有无 POST 参数的 URL。

例如，要查看 Dolibarr 演示中可用的所有 Web 服务功能，只需调用以下 URL 并带有无参数：

```
https://demo.dolibarr.org/webservices/server_other.php
```

要获取描述 webservices 合约的 WSDL 文件，可以调用：

```
https://demo.dolibarr.org/webservices/server_other.php?wsdl
```

## Dolibarr web 服务客户端

请注意，您可以查看一个 PHP 客户端调用此相对 URL 的示例代码 **/webservices/server_other.php**

例如，在 Dolibarr 演示中，调用客户端用户界面

```
https://demo.dolibarr.org/webservices/demo_wsclient_other.php
```

## 提供的服务列表

可查看可用的服务列表，请调用您 Dolibarr 安装中的页面 **/webservices/**。例如，对于演示 Dolibarr 服务器，完整 URL 为：https://demo.dolibarr.org/webservices/

这个列表非常短，但将在未来的 Dolibarr 版本中不断完善……











# File:Object zapier.png

- [文件](https://wiki.dolibarr.org/index.php?title=File:Object_zapier.png#file)
-  

- [文件历史](https://wiki.dolibarr.org/index.php?title=File:Object_zapier.png#filehistory)
-  

- [文件用途](https://wiki.dolibarr.org/index.php?title=File:Object_zapier.png#filelinks)
-  

- [元数据](https://wiki.dolibarr.org/index.php?title=File:Object_zapier.png#metadata)

[![File:Object zapier.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3f8e9e3e6dea6fcbe0f8a8dd6108ae03.png)](https://wiki.dolibarr.org/images/0/00/Object_zapier.png)

没有更高的分辨率。

[Object_zapier.png](https://wiki.dolibarr.org/images/0/00/Object_zapier.png) ‎（32 × 32像素，文件大小：3 KB，MIME类型：image/png）

[在媒体查看器中打开](https://wiki.dolibarr.org/images/0/00/Object_zapier.png)[配置](https://wiki.dolibarr.org/images/0/00/Object_zapier.png)

Zapier

## 文件历史

单击某个日期/时间查看对应时刻的文件。

|      |                          日期/时间                           |                            缩略图                            |      大小       |                             用户                             | 备注 |
| :--: | :----------------------------------------------------------: | :----------------------------------------------------------: | :-------------: | :----------------------------------------------------------: | :--: |
| 当前 | [2022年8月23日 (二) 07:16](https://wiki.dolibarr.org/images/0/00/Object_zapier.png) | [![2022年8月23日 (二) 07:16的版本的缩略图](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/3f8e9e3e6dea6fcbe0f8a8dd6108ae03.png)](https://wiki.dolibarr.org/images/0/00/Object_zapier.png) | 32 × 32（3 KB） | [Framaurin](https://wiki.dolibarr.org/index.php?title=User:Framaurin)（[讨论](https://wiki.dolibarr.org/index.php?title=User_talk:Framaurin&action=edit&redlink=1) \| [贡献](https://wiki.dolibarr.org/index.php?title=Special:Contributions/Framaurin)） |      |

您不可以覆盖此文件。

## 文件用途

以下3个页面使用本文件：

- [User documentation](https://wiki.dolibarr.org/index.php?title=User_documentation)
- [User documentation JA](https://wiki.dolibarr.org/index.php?title=User_documentation_JA)
- [用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)

## 元数据

此文件中包含有额外的信息。这些信息可能是由数码相机或扫描仪在创建或数字化过程中所添加的。如果文件自初始状态已受到修改，一些详细说明可能无法完全反映被修改的文件。











# Zapier 模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Installation)
- 3配置
  - [3.1创建 Zapier 开发者账号](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Create_a_Zapier_developper_account)
  - 3.2在 Zapier 平台上构建并部署“Zapier 应用”
    - [3.2.1安装 Node.js](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Install_Node.js)
    - [3.2.2安装 Zapier CLI](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Install_the_Zapier_CLI)
    - [3.2.3运行 Zapier 登录](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Run_Zapier_Login)
    - [3.2.4安装项目](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Install_the_Project)
    - [3.2.5部署你的应用](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Deploying_your_App)
- 4使用方法
  - [4.1为应用创建连接](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Creating_a_connection_for_the_App)
  - [4.2创建一个 Zap](https://wiki.dolibarr.org/index.php?title=Module_Zapier#Create_a_Zap)

## 简介

此模块用于管理 Dolibarr 和 Zapier 之间的链接。

您还可以在 [此页面 ](https://github.com/Dolibarr/dolibarr-integration-resources/tree/main/zapier)上找到一些信息和代码示例。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。



### 创建 Zapier 开发者账号

首先，你需要有一个 Zapier 开发者账号，可以在 [Zapier 平台](https://developer.zapier.com/)创建它

### 在 Zapier 平台上构建并部署“Zapier App”

Zapier App 是一个你需要部署在 Zapier 上的小型 JavaScript 包，这样 Zapier 才能与你的 Dolibarr 应用进行通信。

#### 安装 Node.js

设置 Node.js 的一个简单选项是访问 [[1\]](https://nodejs.org/en/download/)(https://nodejs.org/en/download/) 并下载适用于您操作系统的官方安装程序。如果您使用包管理器安装，过程会更简单。

安装后，请确认 Node.js 已准备好使用：

```
node --version
```

#### 安装 Zapier CLI

接下来让我们安装 **zapier** 命令行工具。该命令行实用工具将允许你构建你的应用、将其部署到 Zapier 平台、进行本地测试、管理用户和测试者、查看远程日志、与团队协作等：

```
cd dev/examples/zapier
npm install zapier-platform-cli
zapier --version
```

#### 运行 Zapier 登录

让我们配置你的开发环境与 Zapier 平台之间的身份验证。你将使用登录 Zapier 应用程序时使用的电子邮件地址和密码。

```
zapier login
```

此命令将在您的主目录中设置一个 **.zapierrc** 文件。

#### 安装项目

在 zapier 示例目录中运行：

```
cd dev/examples/zapier
npm install
```

#### 部署你的应用

让我们部署它！当你准备好在 Zapier 平台上测试你的代码时，请使用推送命令。在邀请测试者之前，只有你自己能看到这个应用。

```
zapier register   (the first time, choose name for example "My Dolibarr")
zapier push
```

推送之后，应用将以你在注册步骤中定义的名称，在创建 Zap 时作为**私有应用**可用。

你可以在这里找到原始教程：[2](https://zapier.com/developer/start/introduction)

## 使用方法

#### 创建应用程序的连接

在 Dolibarr 中启用 REST API。这些 API 将由 Zapier 使用，从登录 API 开始。

进入 Zapier 仪表板并创建连接：进入“我的应用 - 自定义集成”，然后点击“添加连接”。

如果在添加连接的列表中看不到该应用程序，请跳过此步骤，直接创建 Zap，连接的创建可能稍后被要求。如果可以创建连接，请输入您的 Dolibarr 登录页面的 URL。

- URL 不能以 / 结尾。例如：[https://mydomain](https://mydomain/) 或 https://mydomain/mydoli/htdocs

请输入现有账户的登录名/密码。

- 为了认证，您需要输入一个现有账户的登录名/密码，Zapier 将使用该账户调用 API。根据 Zapier 将要求您的 Dolibarr 执行的操作，给予该用户相应的权限。
- 如果您在访问网站时因自签名证书出现 SSL 证书错误，可以从 Zapier 设置 - 高级设置中禁用 SSL 证书检查。
- 如果你的 Web 实例通过 HTTP Basic 认证进行保护，必须为外部工具保留公开 URL。这是排除某些页面不受 HTTP Basic 保护的示例指令：

```
        #leaving /public and /api and /dav accessible to everyone
        <Directory /homedirofproject/htdocs/public/>
        AuthType None
        Require all granted
        Satisfy any
        </Directory>
        <Directory /homedirofproject/htdocs/api/>
        AuthType None
        Require all granted
        Satisfy any
        </Directory>
        <Directory /homedirofproject/htdocs/dav/>
        AuthType None
        Require all granted
        Satisfy any
        </Directory>
        <Directory /homedirofproject/htdocs/.well-known/>
        AuthType None
        Require all granted
        Satisfy any
        </Directory>
        <Files ~ "(document\.php|viewimage\.php|\.js\.php|\.json\.php|\.js|\.css\.php|\.css|\.gif|\.png|\.svg|\.woff2|favicon\.ico)$">
        AuthType None
        Require all granted
        Satisfy any
        </Files>
```

### 创建一个 Zap

在 Zapier 中创建一个 ZAP，使用你在 Zapier 界面注册的应用 [https://www.zapier.com](https://www.zapier.com/)











# LDAP 模块 En

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Introduction)
- 2安装
  - [2.1Google LDAP](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Google_LDAP)
- 3配置
  - [3.1配置以允许 Dolibarr - LDAP 手动同步](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Setup_to_allow_Dolibarr_-_LDAP_manual_synchronisation)
  - [3.2配置以使用 LDAP 中的密码登录到 Dolibarr](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Setup_to_login_in_Dolibarr_using_the_password_in_LDAP)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Usage)
- [5错误](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Errors)
- [6脚本](https://wiki.dolibarr.org/index.php?title=Module_LDAP_En#Scripts)

## 简介

如果要与 LDAP 数据库同步某些 Dolibarr 实体，则必须使用 LDAP 模块。您可以同步的实体和方向如下：

- 用户（[ 用户模块 ](https://wiki.dolibarr.org/index.php?title=Module_Users)）-> LDAP
- 组（[ 用户模块 ](https://wiki.dolibarr.org/index.php?title=Module_Users)）-> LDAP
- LDAP -> 用户 ([ 用户模块 ](https://wiki.dolibarr.org/index.php?title=Module_Users))
- 联系人 ([ 第三方模块 ](https://wiki.dolibarr.org/index.php?title=Module_Third_parties)) -> LDAP
- 会员 ([ 基金会模块 ](https://wiki.dolibarr.org/index.php?title=Module_Foundations)) -> LDAP

这假设您已经有一个 LDAP 服务器。如果没有，请参阅 [安装和配置 OpenLDAP](https://wiki.dolibarr.org/index.php?title=Install_and_configure_OpenLDAP)。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。



### Google LDAP

如果需要使用 Google LDAP，可能需要在服务器上安装 STunnel，以便在连接到 Google LDAP 时使用客户端 LDAP 证书。Dolibarr 将连接到该服务器，而 STunnel 将使用所需的 LDAP 客户端证书连接到 Google：

- *安装 STunnel。例如，在 Ubuntu 上：*

```
sudo apt-get install stunnel4
```

- *创建一个配置文件 /etc/stunnel/google-ldap.conf（该文件将包含证书的位置），内容如下（假设 ldap-client.crt 是证书，ldap-client.key 是密钥）*

```
[ldap]
client = yes
accept = ip.of.stunnel:1636
connect = ldap.google.com:636
cert = ldap-client.crt
key = ldap-client.key''
```

- 启用 stunnel，请编辑 `/etc/default/stunnel4`，并将 ENABLED 设置为 1

- 重启 stunnel。

```
sudo /etc/init.d/stunnel4 restart
```

- *将您的应用程序配置为指向 `ldap://ip.of.stunnel:1636`。如果您更改了上述配置文件中的 accept 行，也可以将 “1636” 替换为任何未使用的端口。*

在 Dolibarr LDAP 设置中（稍后会介绍），您需要在 Dolibarr 和 Stunnel 之间使用“明文 LDAP，不启用 StartTLS/SSL/TLS”。

*注意：如果你选择在单独的服务器上运行 stunnel，必须配置防火墙，确保只有必要的应用程序可以访问你的 stunnel 服务器。你还可以配置 stunnel 使其使用 TLS 监听，从而加密应用程序与 stunnel 服务器之间的数据传输。这两种配置的详细步骤取决于你的环境。*

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 配置以允许 Dolibarr 与 LDAP 手动同步

**在 LDAP 模块设置中，您需要提供的信息包括：**

- 选择要同步的内容
- LDAP 服务器信息（ip、端口...）

[![Module LDAP Setup 1.jpg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1aa0a3a880378bb57b44e42a7904d2db.jpeg)](https://wiki.dolibarr.org/index.php?title=File:Module_LDAP_Setup_1.jpg)

一旦填写完数据，请使用“测试 LDAP 连接”按钮进行测试，以确保信息正确。

- 输入您的 LDAP 树组织结构
- 将 Dolibarr 字段与 LDAP 字段进行匹配。

[![Module LDAP Setup 2.jpg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/f066d2fcdf1b9c8edb645d5b68d49202.jpeg)](https://wiki.dolibarr.org/index.php?title=File:Module_LDAP_Setup_2.jpg)

填写完数据后，请使用“测试同步”按钮进行测试，以确保数据正确无误。

### 使用 LDAP 中的密码登录 Dolibarr 的设置

修改应用程序的配置文件 **htdocs/conf/conf.php**，使 Dolibarr 测试 LDAP 服务器中的密码有效性。以下是一个与 openLDAP 配合使用的示例：

```
[...]
// Authentication settings
//$dolibarr_main_authentication='dolibarr';
$dolibarr_main_authentication='ldap,dolibarr';   // To be able to login with both the LDAP or the Dolibarr password (if there is problem with the LDAP server, keep a non LDAP password for one admin user !)
$dolibarr_main_auth_ldap_host='<ldap>ou<ldaps>:  //<hostname>';  // Plusieurs serveurs peuvent être ajouter en séparant par une virgule.
$dolibarr_main_auth_ldap_port='<389>ou<636>';    // Port
$dolibarr_main_auth_ldap_version='3';
$dolibarr_main_auth_ldap_servertype='openldap';  // openldap, activedirectory or egroupware
$dolibarr_main_auth_ldap_login_attribute='uid';  // Ex: uid or samaccountname for active directory
$dolibarr_main_auth_ldap_dn='dc=company,dc=com'; // Ex: ou=users,dc=my-domain,dc=com
$dolibarr_main_auth_ldap_filter = '';            // If defined, two previous parameters are not used to find a user into LDAP. Ex: (uid=%1%) or &(uid=%1%)(isMemberOf=$
$dolibarr_main_auth_ldap_admin_login='uid=admin,dc=company,dc=com';     // Required only if anonymous bind disabled. Ex: cn=admin,dc=example,dc=com
$dolibarr_main_auth_ldap_admin_pass='secret';            // Required only if anonymous bind disabled. Ex: secret
$dolibarr_main_auth_ldap_debug='false';
[...]
```

## 使用方法

对于从 Dolibarr 同步到 LDAP，一旦你的设置完成，就无需再做任何操作。每次你在 Dolibarr 中进行更改时，这些更改也会被保存到你的 LDAP 中。

如果在 LDAP 同步过程中遇到错误，所有 Dolibarr 的事务将被取消，并显示错误消息。请注意，LDAP 通过 PHP 返回的错误消息并不总是准确的。因此，如果消息不够清晰以至于无法帮助你了解问题所在，请参阅“错误”一章。

然而，你可以使用一些脚本来进行初始同步或批量同步（参见“脚本”一章）。

## 错误

由于 PHP 函数返回的错误消息并不准确，如果你遇到错误消息并且不知道问题所在，你可以这样做：

- 错误发生后，会在你的 Dolibarr 文档目录中创建一个文件 **ldap/temp/ldapinput.in**。请进入 **ldap/temp** 目录。
- 打开文件 **ldapinput.in**，你会在前几行（作为注释）找到可以从命令行运行的完整 LDAP 命令，以模拟 PHP 发送到 LDAP 服务器的相同操作。
- 运行该命令。你需要在你的计算机上安装 LDAP 工具（ldapadd、ldapmodify 和 ldapdelete）。
- 分析结果。你应该能获得更多关于错误原因的信息。

## 脚本

- [脚本 同步联系人 dolibarr2ldap](https://wiki.dolibarr.org/index.php?title=Script_sync_contacts_dolibarr2ldap)
- [脚本 同步组 dolibarr2ldap](https://wiki.dolibarr.org/index.php?title=Script_sync_groups_dolibarr2ldap)
- [脚本 同步成员 dolibarr2ldap](https://wiki.dolibarr.org/index.php?title=Script_sync_members_dolibarr2ldap)
- [脚本 同步成员 ldap2dolibarr](https://wiki.dolibarr.org/index.php?title=Script_sync_members_ldap2dolibarr)
- [同步用户脚本 dolibarr2ldap](https://wiki.dolibarr.org/index.php?title=Script_sync_users_dolibarr2ldap)







# OAuth 模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_OAuth#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_OAuth#Installation)
- 3设置
  - 3.1创建 OAuth 条目
    - 3.1.1用于 SMTP 访问
      - [3.1.1.1用于 Google](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Google)
      - [3.1.1.2用于 Microsoft Office365](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Microsoft_Office365)
    - 3.1.2通过 IMAP 访问
      - [3.1.2.1使用 Google](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Google_2)
      - [3.1.2.2使用 Microsoft Office365](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Microsoft_Office365_2)
    - 3.1.3使用 SSO 登录
      - [3.1.3.1为 Google](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Google_3)
      - [3.1.3.2为 Microsoft Office365](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Microsoft_Office365_3)
    - 3.1.4其他服务
      - [3.1.4.1为 Mastodon 读写](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Mastodon_read.2Fwrite)
  - [3.2生成令牌](https://wiki.dolibarr.org/index.php?title=Module_OAuth#Generation_of_the_token)
  - 3.3如何获取我的 Client / Secret ID
    - [3.3.1对于 Microsoft 365](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Microsoft_365)
    - [3.3.2为 Google](https://wiki.dolibarr.org/index.php?title=Module_OAuth#For_Google_4)

## 简介

OAuth 模块是一个技术模块，允许您创建和管理与 OAuth2 认证代理服务器的 OAuth2 连接。仅此模块本身是无用的。但一旦您创建了 OAuth2 连接，就可以在其他一些模块中重用它们，例如：

- 用于 SMTP 邮件发送
- 用于 IMAP 邮件收集器
- 对于一些外部模块
- 用于 Google 单点登录认证（详见 [Authentication,_SSO_and_SSL#googleoauth](https://wiki.dolibarr.org/index.php?title=Authentication,_SSO_and_SSL#googleoauth)）

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 设置

### 创建 OAuth 条目

这是第一步。您需要创建一个条目并根据 OAuth 条目将要使用的用途选择相应的权限。以下是一些根据 OAuth 提供商和条目目标可以使用的示例值。尽量为每种不同的用途创建一个条目。

#### 通过 SMTP 访问

这是一些示例配置，如果你计划使用 OAuth 令牌发送邮件。

##### 对于 Google

客户端 ID / 秘密 ID：请参阅章节 [#如何获取我的客户端 / 秘密 ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

作用范围：选择作用范围 **gmail_full**

##### 对于 Microsoft Office365

客户端 ID / 秘钥 ID：请参见章节 [#如何获取我的客户端 / 秘钥 ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

Tenant: The ID of the tenant provided by Microsoft. Example: 123456ab-1234-5678-abdc-12345678abcd  

Scope: Choose the scope: **offline_access** + **outlook.office365.com/SMTP.Send**. Scope **email** can also be added but seems not mandatory. Don't forget to also allow this permissions in Azure setup  

It if fails, choose: **outlook.office.com/.default** 

#### For IMAP access 

如果你计划使用 OAuth 令牌通过邮件收集器读取你的邮件箱，这是相应的设置示例。

##### 对于 Google

客户端 ID / 秘钥 ID：请参阅章节 [#如何获取我的客户端/秘钥 ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

作用范围：选择作用范围 **gmail_full**

##### 用于 Microsoft Office365

Client ID / Secret ID: 请参阅章节 [#如何获取我的 Client / Secret ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

租户: Microsoft 提供的租户 ID。示例: 123456ab-1234-5678-abdc-12345678abcd

范围: 选择范围: **offline_access** + **outlook.office365.com/IMAP.AccessAsUser.All**。范围 **email** 也可以添加，但似乎不是必需的。请务必在 Azure 设置中也允许这些权限

如果失败，请选择: **outlook.office.com/.default**

#### 单点登录

这是一些示例配置，如果你计划使用 OAuth 提供商进行登录。请注意，为了这个目的，创建 OAuth 条目就足够了，不需要生成令牌。

##### 对于 Google

条目名称：“登录”（文本为“登录”，首字母大写。你必须使用此条目字符串进行单点登录。不允许使用其他名称）。

客户端 ID / 秘钥 ID：请参阅章节 [#如何获取我的客户端 / 秘钥 ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

范围：选择范围 **openid** 和 **email**

你还需要修改 Dolibarr 配置文件以使用 Google OAuth 单点登录。请参阅页面 [Authentication, SSO 和 SSL](https://wiki.dolibarr.org/index.php?title=Authentication,_SSO_and_SSL)。

##### 用于 Microsoft Office365

暂未提供！可能会...

客户端 ID / 秘钥 ID：请参阅章节 [#如何获取我的客户端 / 秘钥 ID](https://wiki.dolibarr.org/index.php?title=Module_OAuth#How_to_get_my_Client_.2F_Secret_ID)。

租户: Microsoft 提供的租户 ID。示例: 123456ab-1234-5678-abdc-12345678abcd

范围: 选择范围 **openid** 和 **email**

#### 其他服务

##### 对于 Mastodon 的读写操作

端点终止 URL: 应该是 Mastodon 服务器的根 URL；例如: [https://mastodon.social](https://mastodon.social/)

客户端 ID / 密钥 ID：您可以在 Mastodon 账号资料中获取它们。

范围：类型 **读,写**



### 生成令牌

注意：如果 OAuth 条目的目的是用于单点登录（SSO 登录），则无需生成令牌。

一旦创建了 OAuth 条目，您可以在第二个选项卡中切换以生成并获取您的完整 OAuth 令牌（完整令牌是在短时间内过期的访问令牌+允许在过期后获取新访问令牌的刷新令牌）。此完整令牌将被其他模块或功能使用（例如，使用 SMTP 发送电子邮件或使用 IMAP 读取电子邮件）。

**关于令牌有效期的说明**

- 对于 Google，当您的 OAuth 条目处于测试状态且未验证时，刷新令牌将在 7 天后过期，并且仅限刷新 100 次访问令牌。
- 对于 Google，当你的 oauth 条目发布到生产环境后，Google 会验证它，refresh_token 的有效期为 180 天，并且 access_token 可以无限次刷新。

### 如何获取我的 Client / Secret ID

要创建一个 OAuth 条目，你需要一个 Client ID 和 Secret ID（有时还需要 Tenant ID）。获取这些信息取决于你的 OAuth 提供商。

#### 对于 Microsoft 365

以下是步骤：

- 访问 [https://portal.azure.com](https://portal.azure.com/) - 管理应用程序以创建一个应用程序。你可以在“应用 ID（Client ID）”字段中获取 Client ID，在“目录 ID（Tenant ID）”字段中获取 Tenant ID。
- 然后设置属性“分配要求”为“否”（不确定这是否必要）
- 然后设置认证章节，添加 Dolibarr 建议的允许回调 URL。
- 然后设置授权 API，例如 Microsoft Graph email、IMAP.AccessAsUser.ALL、Mail.Read、Mail.Send、offline_access、openid、profile、SMTP.Send
- 然后设置证书和密钥（密钥 ID 是“Value”列，可以忽略“密钥 ID”列）

您可以在“概览”菜单中获得所有这些内容的摘要

这里有一些文档

- 请参阅 https://afterlogic.com/mailbee-net/docs/OAuth2Office365NonInteractive.html 和 https://learn.microsoft.com/fr-fr/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth
- 注册应用程序并创建秘密 ID 的教程: https://learn.microsoft.com/fr-fr/azure/active-directory/develop/quickstart-register-app#register-an-application
- 论坛中也有一个关于使用 OAuth2 进行 SMTP 和 IMAP 的主题：https://www.dolibarr.org/forum/t/oauth-office-365-and-email-collector/23437

#### 为 Google

以下是这些步骤：

![En verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/043e39e94ea0d67f8c9fe2eec6da62c5.png) 该模块尚未完成。要完成，请创建一个账户，返回并点击“修改”。 ![Fr verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bb07a5bb4b7ac20a571ebe6896c99f1b.png) 页面等待完成。要完成，请创建一个账户，返回页面并点击“修改”。 ![Es verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/96631ef32bef4f4a0737effc74558144.png) 该页面需要完成。请创建一个账户，返回页面并点击“编辑”。 ![De verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/004af6793fcd4896c8fbea7a4d73441e.png) 该页面等待补充完整。请创建一个账户，返回页面并点击“编辑”。 [![Cn verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/428d3be091de7dca79ddc8a1013356c4.png)](https://wiki.dolibarr.org/index.php?title=File:Cn_verysmall.png) 待完成，欲帮助完成，注册帐号，点击“编辑" [![Jp verysmall.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/10958397bc7c25c746e6e122365c003c.png) ](https://wiki.dolibarr.org/index.php?title=File:Jp_verysmall.png)该页面尚未完成。请创建一个账户，返回页面后点击“编辑”以完成它。











# 模块 FTP 英文版


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_FTP_En#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_FTP_En#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_FTP_En#Configuration)
- [4生命周期 / 业务规则](https://wiki.dolibarr.org/index.php?title=Module_FTP_En#Life_cycle_.2F_Business_rules)
- [5使用案例示例](https://wiki.dolibarr.org/index.php?title=Module_FTP_En#Examples_of_use_cases)

## 简介

此模块可以在 Dolibarr 菜单中添加一个 FTP 客户端浏览器。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 生命周期 / 业务规则

不适用

## 使用案例示例

不适用









# File:IP address icon.png


- [文件](https://wiki.dolibarr.org/index.php?title=File:IP_address_icon.png#file)
-  

- [文件历史](https://wiki.dolibarr.org/index.php?title=File:IP_address_icon.png#filehistory)
-  

- [文件用途](https://wiki.dolibarr.org/index.php?title=File:IP_address_icon.png#filelinks)
-  

- [元数据](https://wiki.dolibarr.org/index.php?title=File:IP_address_icon.png#metadata)

[![File:IP address icon.png](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png)](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png)

没有更高的分辨率。

[IP_address_icon.png](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png) ‎（256 × 256像素，文件大小：5 KB，MIME类型：image/png）

[在媒体查看器中打开](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png)[配置](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png)

本文件来自维基共享资源并可能被其他项目使用。其[文件说明页面](https://commons.wikimedia.org/wiki/File:IP_address_icon.png)上的说明显示在下面。

## 摘要

| 描述 | **English:** icon representing an IP address |
| ---- | -------------------------------------------- |
| 日期 | 2015年4月13日                                |
| 来源 | [My iphome](https://myiphome.com/)           |
| 作者 | Freepik                                      |

[Copyright information](https://cdn.flaticon.com/license/license.pdf)[*[失效链接](https://en.wikipedia.org/wiki/Wikipedia:Link_rot)*]

## 许可协议

![w:zh:知识共享](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/75515d459531187de14499ef2093bc95.png)
![署名](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/5af6eeab1ba7098b0d07a62e7d5be168.png)

本文件采用[知识共享](https://en.wikipedia.org/wiki/zh:知识共享)[署名 4.0 国际](https://creativecommons.org/licenses/by/4.0/deed.zh-hans)许可协议授权。



# 

## 文件历史

单击某个日期/时间查看对应时刻的文件。

|      |                          日期/时间                           |                            缩略图                            |       大小        |       用户       |                备注                 |
| :--: | :----------------------------------------------------------: | :----------------------------------------------------------: | :---------------: | :--------------: | :---------------------------------: |
| 当前 | [2015年4月14日 (二) 04:35](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png) | [![2015年4月14日 (二) 04:35的版本的缩略图](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/51da5027edcd67d002dce0dcce19148d.png)](https://upload.wikimedia.org/wikipedia/commons/0/09/IP_address_icon.png) | 256 × 256（5 KB） | CookieMonster755 | User created page with UploadWizard |

## 文件用途

以下3个页面使用本文件：

- [User documentation](https://wiki.dolibarr.org/index.php?title=User_documentation)
- [User documentation JA](https://wiki.dolibarr.org/index.php?title=User_documentation_JA)
- [用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)

## 元数据

此文件中包含有额外的信息。这些信息可能是由数码相机或扫描仪在创建或数字化过程中所添加的。如果文件自初始状态已受到修改，一些详细说明可能无法完全反映被修改的文件。







# 文件:Object paybox.png


- [文件](https://wiki.dolibarr.org/index.php?title=File:Object_paybox.png#file)
-  

- [文件历史](https://wiki.dolibarr.org/index.php?title=File:Object_paybox.png#filehistory)
-  

- [文件用途](https://wiki.dolibarr.org/index.php?title=File:Object_paybox.png#filelinks)

[![File:Object paybox.png](https://wiki.dolibarr.org/images/3/36/Object_paybox.png)](https://wiki.dolibarr.org/images/3/36/Object_paybox.png)

没有更高的分辨率。

[Object_paybox.png](https://wiki.dolibarr.org/images/3/36/Object_paybox.png) ‎（128 × 128像素，文件大小：10 KB，MIME类型：image/png）

[在媒体查看器中打开](https://wiki.dolibarr.org/images/3/36/Object_paybox.png)[配置](https://wiki.dolibarr.org/images/3/36/Object_paybox.png)

对象 paybox

## 文件历史

单击某个日期/时间查看对应时刻的文件。

|      |                          日期/时间                           |                            缩略图                            |        大小        |                             用户                             | 备注 |
| :--: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------: | :----------------------------------------------------------: | :--: |
| 当前 | [2022年8月23日 (二) 07:20](https://wiki.dolibarr.org/images/3/36/Object_paybox.png) | [![2022年8月23日 (二) 07:20的版本的缩略图](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/8d4adb602ffce05841440e5038856cb9.png)](https://wiki.dolibarr.org/images/3/36/Object_paybox.png) | 128 × 128（10 KB） | [Framaurin](https://wiki.dolibarr.org/index.php?title=User:Framaurin)（[讨论](https://wiki.dolibarr.org/index.php?title=User_talk:Framaurin&action=edit&redlink=1) \| [贡献](https://wiki.dolibarr.org/index.php?title=Special:Contributions/Framaurin)） |      |

您不可以覆盖此文件。

## 文件用途

以下3个页面使用本文件：

- [用户文档](https://wiki.dolibarr.org/index.php?title=User_documentation)
- [用户文档 JA](https://wiki.dolibarr.org/index.php?title=User_documentation_JA)
- [用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)







# 文件:Object paypal.png


- [文件](https://wiki.dolibarr.org/index.php?title=File:Object_paypal.png#file)
-  

- [文件历史](https://wiki.dolibarr.org/index.php?title=File:Object_paypal.png#filehistory)
-  

- [文件用途](https://wiki.dolibarr.org/index.php?title=File:Object_paypal.png#filelinks)
-  

- [元数据](https://wiki.dolibarr.org/index.php?title=File:Object_paypal.png#metadata)

[![File:Object paypal.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/b5c07a8f666acd4d92cde675b4a4f06d.png)](https://wiki.dolibarr.org/images/2/25/Object_paypal.png)

没有更高的分辨率。

[Object_paypal.png](https://wiki.dolibarr.org/images/2/25/Object_paypal.png) ‎（256 × 256像素，文件大小：7 KB，MIME类型：image/png）

[在媒体查看器中打开](https://wiki.dolibarr.org/images/2/25/Object_paypal.png)[配置](https://wiki.dolibarr.org/images/2/25/Object_paypal.png)

Paypal 对象

## 文件历史

单击某个日期/时间查看对应时刻的文件。

|      |                          日期/时间                           |                            缩略图                            |       大小        |                             用户                             | 备注 |
| :--: | :----------------------------------------------------------: | :----------------------------------------------------------: | :---------------: | :----------------------------------------------------------: | :--: |
| 当前 | [2022年8月23日 (二) 07:20](https://wiki.dolibarr.org/images/2/25/Object_paypal.png) | [![2022年8月23日 (二) 07:20的版本的缩略图](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/4c58b847e3380322916a9aca8779ac8a.png)](https://wiki.dolibarr.org/images/2/25/Object_paypal.png) | 256 × 256（7 KB） | [Framaurin](https://wiki.dolibarr.org/index.php?title=User:Framaurin)（[讨论](https://wiki.dolibarr.org/index.php?title=User_talk:Framaurin&action=edit&redlink=1) \| [贡献](https://wiki.dolibarr.org/index.php?title=Special:Contributions/Framaurin)） |      |

您不可以覆盖此文件。

## 文件用途

以下3个页面使用本文件：

- [用户文档](https://wiki.dolibarr.org/index.php?title=User_documentation)
- [用户文档 JA](https://wiki.dolibarr.org/index.php?title=User_documentation_JA)
- [用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)

## 元数据

此文件中包含有额外的信息。这些信息可能是由数码相机或扫描仪在创建或数字化过程中所添加的。如果文件自初始状态已受到修改，一些详细说明可能无法完全反映被修改的文件。









# PayPal 模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_PayPal#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_PayPal#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_PayPal#Configuration)
- [4创建账户](https://wiki.dolibarr.org/index.php?title=Module_PayPal#Account_creation)
- [5为 Dolibarr 设置 PayPal NVP/SOAP API（旧版本）](https://wiki.dolibarr.org/index.php?title=Module_PayPal#Setup_PayPal_NVP.2FSOAP_API_.28legacy_version.29_for_Dolibarr)
- 6故障排除
  - [6.1SetExpressCheckout 失败：安全错误代码 10002](https://wiki.dolibarr.org/index.php?title=Module_PayPal#SetExpressCheckout_failed:_Security_error_code_10002)

## 简介

该模块用于将 **PayPal 商业账户**集成到 Dolibarr 中，以便您的客户可以**自主在线支付** ： **账单** 、 **会员费**或**捐款** 。

请注意，PayPal 允许您的客户使用信用卡在线支付，即使他们没有 PayPal 账户。



## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

## 账户创建

访问 paypal.com 创建一个**商务账户** ，并完成与您的组织匹配的所有身份验证步骤（公司需支付常规 PayPal 费用，非营利组织需支付较低费用等）。

## 为 Dolibarr 设置 PayPal NVP/SOAP API（旧版本）

1. 请注意 PayPal 用户界面会定期更改，您可能会遇到不同的界面。此流程已更新于 2022 年 12 月，需要在 paypal.com 上进行设置，而不是 developer.paypal.com。
2. 点击 [此处以打开 API 访问配置 ](https://www.paypal.com/businessprofile/mytools/apiaccess/firstparty)，如果该链接无法使用，请访问 **paypal.com**，然后依次打开： **账户参数** > **账户访问** > **API 访问** > 点击 **更新** 并选择 **NVP/SOAP API（旧版本）**。
3. 请求 API 访问权限，更具体地说，请求一个 **API 签名** ，如屏幕截图所示。

[![img](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/df0857e112462c522a760d5758225add.png)](https://wiki.dolibarr.org/index.php?title=File:Demander_des_identifiants_API.png)

法语界面，用于请求 API 访问

4. 您必须获取 3 个字段：**API 用户名** 、**API 密码**和**签名** ：

[![img](https://wiki.dolibarr.org/images/1/11/Nom_d'utilisateur_API%2C_mot_de_passe_et_signature.png)](https://wiki.dolibarr.org/index.php?title=File:Nom_d'utilisateur_API,_mot_de_passe_et_signature.png)

API 用户名、密码和签名的法语界面。

**重要：**PayPal 有多套 API，因此请勿使用任何其他 API 凭证，除非它们被命名为 **API 用户名** 、**API 密码**和**签名** 。特别是，不要为 REST API 创建一个应用，这将给你一个账户、客户端 ID 和密钥 ，因为 Dolibarr 将无法与它们兼容。

5.a. 在 Dolibarr 中打开 PayPal 模块的配置：

- 勾选 **PayPal Live 复选框** ，因为沙盒似乎会产生错误
- 复制并粘贴用户名、密码和签名。确保不要复制粘贴多余的空格字符
- 启用 **TLS v1.2**

5.b. 在 Dolibarr 的模块配置中，自定义其他任何字段以满足您的需求并应用更改。5.c. 打开页面底部提供的其中一个支付链接，以在 Dolibarr 中测试您的 PayPal 集成。

## 故障排除

### SetExpressCheckout 失败：安全错误代码 10002

[![img](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/cd302b5c3f649893a771f0bdcd4ad9e8.png)](https://wiki.dolibarr.org/index.php?title=File:Security_Error_10002.png)

Dolibarr 的法语 PayPal 安全错误代码 10002 错误信息

请确保：

- 您已在 Dolibarr 模块配置中启用了 TLS 1.2
- 您启用了 Live 环境，因为沙盒环境经常会返回这个错误





# 模块 Stripe

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Stripe#Introduction)
- [2安装 / 升级](https://wiki.dolibarr.org/index.php?title=Module_Stripe#Installation_.2F_Upgrade)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_Stripe#Configuration)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_Stripe#Usage)
- [5变体](https://wiki.dolibarr.org/index.php?title=Module_Stripe#Variants)

## 简介

此 Dolibarr ERP CRM 的 Stripe 模块允许

- 将您的 Dolibarr 第三方联系人绑定到 Stripe 客户
- 在 Dolibarr 中显示 Stripe 支付方式列表
- 在 Dolibarr 中显示支付和提款列表
- 使用强客户认证（SCA），通过 Stripe 在线为订单、发票、合同行、订阅或任何免费金额付款。请参阅本页面底部的说明，以使用模块的“SCA 就绪”版本。

Dolibarr 是官方的 [![L Color Solid.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/7eab49334a1744a27d493acf0dcefcad.png)](https://www.stripe.com/about)

## 安装 / 升级

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

此外，由于这是一个原生模块，如果您需要升级此模块，只需升级您的 Dolibarr 应用程序即可。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

点击配置图标后，您将进入一个页面以输入不同的信息。Stripe 提供的测试模式和实时模式的私钥和密钥值（请访问 [https://www.stripe.com](https://www.stripe.com/)）是必需的。

[![Doc setup stripe 1.png](https://wiki.dolibarr.org/images/6/60/Doc_setup_stripe_1.png)](https://wiki.dolibarr.org/index.php?title=File:Doc_setup_stripe_1.png)


**关于受限 API 密钥呢？**

本章尚未进行测试！！！

受限 API 密钥允许您指定 API 密钥可以读取和/或写入哪些 Stripe 资源。要创建受限密钥，请按照 [Stripe 提供的步骤 ](https://stripe.com/docs/keys#create-restricted-api-secret-key)进行操作。在创建密钥时，Dolibarr 所需的权限包括：

- 客户：`write`
- 事件：`read`
- PaymentIntents: `write`
- SetupIntents: `write`
- Checkout Sessions: `write`

然后，您可以将密钥替换为这个新的受限密钥。

## 使用方法

输入了必要的标识符后，您可以使用 Dolibarr 提供的一些 URL 链接来进行在线支付，或者要求您的客户进行在线支付。这些链接在 Stripe 配置页面上以“通用链接”的形式提供，您也可以在每张发票、每份订单、每份合同或每位会员的支付页面上找到“专用链接”。

这是一个示例，展示了您的客户可以使用的公共界面来向您付款。



[![Public interface for payment with Stripe.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1144b897cfd2272b037dbef88f9392c3.png)](https://wiki.dolibarr.org/index.php?title=File:Public_interface_for_payment_with_Stripe.png)

## 变体

Stripe 提供了几种操作模式。旧模式是使用 Stripe 的 "charge" API。自 2019 年 9 月起，这些 API 已被弃用，以实施在线支付的 SCA 和 3D Secure v2（https://stripe.com/docs/strong-customer-authentication）。v10 已准备好进行这一变更。Dolibarr v10 提供了另外两种操作模式：

- 通过进入主页 - 设置 - 其他，并添加常量 STRIPE_USE_INTENT_WITH_AUTOMATIC_CONFIRMATION 为 1，Dolibarr 将使用 PaymentIntent Stripe API，根据 "自动确认" 流程（https://stripe.com/docs/payments/payment-intents/quickstart）进行操作，该流程已准备好实施 SCA。
- 通过进入主页 - 设置 - 其他，并添加 STRIPE_USE_NEW_CHECKOUT 常量为 1，Dolibarr 将使用 CheckOut Stripe API，根据 "服务器集成" 流程（https://stripe.com/docs/payments/checkout）进行操作，该流程也已准备好实施 SCA。

使用 Dolibarr v11 时，默认模式为 STRIPE_USE_INTENT_WITH_AUTOMATIC_CONFIRMATION = 1，无需更改或编辑任何配置变量。因此，如果您想使用其他方法，必须将此常量强制设置为 0。









# 模块 ClickToDial 英文


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#Installation)
- 3配置
  - 3.1无需安装客户端组件的解决方案
    - [3.1.1使用 Asterisk](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#With_Asterisk)
    - [3.1.2使用 OVH 的电话服务](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#Using_the_phoning_service_of_OVH)
  - 3.2带有客户端组件安装的解决方案
    - [3.2.1使用能够处理 "tel:" URL 的本地软件](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#With_with_local_software_able_to_manage_.22tel:.22_url)
    - [3.2.2使用 SIP 电话软件（Ekiga 或 LinPhone）+ Linux + Firefox 或 Chrome](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#With_SIP_phone_software_.28Ekiga_or_LinPhone.29_.2B_Linux_.2B_Firefox_or_Chrome)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_ClickToDial_En#Usage)

## 简介

此模块允许您在 Dolibarr 中通过简单地鼠标点击电话号码来触发电话呼叫。此模块设计用于与以下服务器配合使用：

- 任何支持 URL 接口的 SIP 服务器进行点击呼叫
- 或者与 Asterisk 配合使用（Asterisk 是一个不提供此类 URL 接口的服务器，但 Dolibarr 中包含了一个包装器以提供此类服务）
- 或者与能够管理来自网页点击的"tel:"链接的本地软件配合使用
- 或安装本地软电话（如 LinPhone）。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 无需安装客户端组件的解决方案

#### 使用 Asterisk

**这是如何填写 Asterisk 的具体设置：**

- 首先，请确保您有一个支持 SIP 的 Asterisk 服务器。这与模块或 Dolibarr 无关，因此我们只能将您引荐至 Asterisk 文档。
- 确认后，进入 Dolibarr，选择*设置 - 模块 - 拨号直连设置* ，并添加 Url

```
http://MYDOLIBARR/asterisk/wrapper.php?caller=__PHONEFROM__&called=__PHONETO__&login=__LOGIN__&password=__PASS__
```

- 接着进入页面*设置 - 其他* ，并添加常量

```
ASTERISK_HOST with IP of your asterisk server (ie: 127.0.0.1)
ASTERISK_TYPE with managed protocol (ie: SIP/)
ASTERISK_INDICATIF with prefix to add in phone number (ie: 0 or NONE)
ASTERISK_PORT with port of Asterisk sever (ie: 5038)
ASTERISK_CONTEXT with context of call (ex: from-internal)
CLICKTODIAL_FORCENEWTARGET with value 0 or 1. If this value is set to 0 or not defined, then calling will open a new window/tab in the browser.
```

- 在 Asterisk 服务器上创建一个新的控制台用户（文件 `/etc/asterisk/manager.conf`）

```
[dolibarruser]
secret = dolibarrpass
deny = 0.0.0.0/0.0.0.0
permit = 127.0.0.1/255.255.255.0
read = system,call,log,verbose,command,agent,user
#read = system,call,log,verbose,command,agent,user,config,dtmf,reporting,cdr,dialplan
write = system,call,log,verbose,command,agent,user,originate
#write = system,call,log,verbose,command,agent,user,originate,reporting
```

必须包含 Asterisk 中安装了 Dolibarr 的服务器所能看到的 IP 地址。

- 您可能还需要编辑文件 **/etc/asterisk/extension.conf** 以定义内部联系人。

```
[from-internal] 
exten => _00XX.,1,NoOp(Call Dolibarr) 
same => n,Dial(SIP/providervoip/${EXTEN},30) 
same => n,hangup
```

将 providervoip 更改为 SIP 服务提供商。

使用以下命令验证更改：

```
asterisk -rvvvvvvvvvvvvvvvvvv
CLI> manager reload
CLI> dialplan reload
```

- 在 Dolibarr 用户卡片的 ClickToDial 标签中输入 Asterisk 信息。

```
ClickToDial Login : dolibarruser (use same entry than added into manager.conf file)
ClickToDial Password : dolibarrpass (use same pass than added into manager.conf file)
ClickToDial Id caller (phone) : your phone
```

#### 使用 OVH 的电话服务

请参阅 [Module OVH（短信、点击拨号等）](https://wiki.dolibarr.org/index.php?title=Module_OVH_(SMS,_ClickToDial,_...)) 页的相关内容。



### 带有客户端组件安装的解决方案

#### 使用能够管理 "tel:" 链接的本地软件

如果你安装了能够处理“tel:”语法链接的软件（例如*Xivo 客户端），从 Dolibarr 3.9 开始，只需进入“拨号设置”页面，将选项“仅在电话号码上使用链接“tel:””设置为“是”。就完成所有设置。



#### 使用 SIP 电话软件（Ekiga 或 LinPhone）+ Linux + Firefox 或 Chrome

- 首先，请确保安装并正确配置了一个 SIP 软件（如 Ekiga 或 Linphone），您可以在不使用 Dolibarr 的情况下使用它进行电话通话。
- 完成上述步骤后，请登录 Dolibarr，进入“点击拨号”模块的设置页面。在 URL 字段中输入

```
sip:__PHONETO__@yoursipdomain
```

例如，使用 freephonie 时，这是法国 ISP Free 的 SIP 系统，URL 会是

```
sip:__PHONETO__@freephonie.net
```

- 接下来，我们需要设置浏览器，在点击“sip:”URL 时能够启动我们的 SIP 软件。

**使用 Firefox**

\- 启动 Firefox

\- 在地址栏中输入 `about:config`，然后按 `Enter`

\- 确认警告

\- 在页面的任意位置右键点击，从菜单中选择 `New –> Boolean`

\- 将名称设置为 `network.protocol-handler.expose.sip`，不包含引号

\- 将值设置为“false”

\- 关闭 about:config 窗口（或标签页）

\- 复制启动器脚本文件 .sh（随 dolibarr 提供）到 **scripts/clicktodial/ekiga.sh** 或 **scripts/clicktodial/linphone.sh**（对于 linphone）到您的主目录中。例如到 **/home/yourlogin**

\- 跳转到包含电话号码的卡片（例如第三方或联系人页面）。点击电话链接。当提示时，选择要运行的 SIP 软件启动脚本的路径（即 `/home/yourlogin/ekiga.sh` 或 `/home/yourlogin/linphone.sh`）。

每次点击电话号码时，您的浏览器应启动 SIP 软件并拨打提供的 URI 中的电话号码。就是这样！

**使用 Chrome 和 Ubuntu**

\- 将启动脚本文件.sh（随 dolibarr 提供）复制到您的主目录中，例如 **/home/yourlogin/scripts/clicktodial/ekiga.sh**（适用于 Ekiga）或 **/home/yourlogin/scripts/clicktodial/linphone.sh**（适用于 Linphone）。

\- 创建文件 `/usr/share/applications/dolibarr_clicktodial.desktop` 以描述要启动的 SIP 软件

```
[Desktop Entry]
Name=SIP phone
Comment=SIP phone
Type=Application
Exec=/home/yourlogin/linphone.sh %U
Icon=/usr/share/pixmaps/linphone/linphone.png
Terminal=false
Categories=Network;Telephony;
```

将 Exec=行中的路径替换为脚本或 SIP 软件的路径和文件名。

\- 在文件 **/usr/share/applications/defaults.list** 中添加一行，指示在处理 SIP URL 时使用此描述符。

```
x-scheme-handler/sip=dolibarr_clicktodial.desktop
```

每次点击电话号码时，您的浏览器应启动您的 SIP 软件并通过 URI 拨打提供的号码。就是这样！

## 使用方法

配置完成后，Dolibarr 界面上的所有电话号码现在都变成了可点击的链接。如果你点击这些链接，Dolibarr 将会调用定义的页面/URL，从而进行拨号。







# 文件:Object gravatar.png

- [文件](https://wiki.dolibarr.org/index.php?title=File:Object_gravatar.png#file)
-  

- [文件历史](https://wiki.dolibarr.org/index.php?title=File:Object_gravatar.png#filehistory)
-  

- [文件用途](https://wiki.dolibarr.org/index.php?title=File:Object_gravatar.png#filelinks)
-  

- [元数据](https://wiki.dolibarr.org/index.php?title=File:Object_gravatar.png#metadata)

[![File:Object gravatar.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/84ffb2d416e1ad685529a5a41e657c5d.png)](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png)

没有更高的分辨率。

[Object_gravatar.png](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png) ‎（150 × 150 像素，文件大小：5 KB，MIME 类型：image/png）

[在媒体查看器中打开](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png)[配置](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png)

Object gravatar

## 文件历史

单击某个日期/时间查看对应时刻的文件。

|      |                          日期/时间                           |                            缩略图                            |       大小        |                             用户                             | 备注 |
| :--: | :----------------------------------------------------------: | :----------------------------------------------------------: | :---------------: | :----------------------------------------------------------: | :--: |
| 当前 | [2022年8月23日 (二) 07:22](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png) | [![2022年8月23日 (二) 07:22的版本的缩略图](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/07f36ebab79568cb6b197219e0cced51.png)](https://wiki.dolibarr.org/images/e/e8/Object_gravatar.png) | 150 × 150（5 KB） | [Framaurin](https://wiki.dolibarr.org/index.php?title=User:Framaurin)（[讨论](https://wiki.dolibarr.org/index.php?title=User_talk:Framaurin&action=edit&redlink=1) \| [贡献](https://wiki.dolibarr.org/index.php?title=Special:Contributions/Framaurin)） |      |

您不可以覆盖此文件。

## 文件用途

以下3个页面使用本文件：

- [用户文档](https://wiki.dolibarr.org/index.php?title=User_documentation)
- [用户文档 JA](https://wiki.dolibarr.org/index.php?title=User_documentation_JA)
- [用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)

## 元数据

此文件中包含有额外的信息。这些信息可能是由数码相机或扫描仪在创建或数字化过程中所添加的。如果文件自初始状态已受到修改，一些详细说明可能无法完全反映被修改的文件。







# DAV 模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_DAV#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_DAV#Installation)
- [3配置](https://wiki.dolibarr.org/index.php?title=Module_DAV#Configuration)
- [4使用方法](https://wiki.dolibarr.org/index.php?title=Module_DAV#Usage)

## 简介

DAV 模块为 Dolibarr 添加了一个 WebDAV 服务器组件，您可以使用任何 WebDAV 客户端访问它。

您可以提供一个共享的公共目录（无需登录）和/或一个私有目录（需要使用 Dolibarr 登录）。

Dolibarr [模块 ECM](https://wiki.dolibarr.org/index.php?title=Module_ECM&action=edit&redlink=1) 的手册目录内容也可以通过登录 Dolibarr 访问。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

对于需要登录保护的部分，Dolibarr 使用 HTTP Basic 认证。因此，如果你已经通过 HTTP Basic 认证对你的 Dolibarr 目录进行了保护，必须将路径 */dav* 从这种保护中排除，以避免出现重复的 HTTP Basic 认证，从而导致冲突。例如，如果你的目录是通过

```
<Directory "/my-path-to-my-dolibarr-hdocs">
AuthType Basic
AuthName "Restricted Files - HTTP Basic protection on Dolibarr"
AuthUserFile "/pathtohttpbasicpasswords"
Require user ahttpbasiclogin
</Directory>
```

必须添加一个排除项，如下所示，这样访问 /dav 功能将使用嵌入在 DAV 组件中的 HTTP Basic 认证，而不是通用的 HTTP Basic 认证。

```
<Directory "/my-path-to-my-dolibarr-hdocs/dav">
Require all granted
</Directory>
```

## 使用方法

只需进入设置页面获取 WebDAV 根 URL。使用任何 WebDAV 客户端访问它。所有启用的 WebDAV 目录都是根 URL 的子目录。









# 模块 Webhook

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=Module_Webhook#Introduction)
- [2安装](https://wiki.dolibarr.org/index.php?title=Module_Webhook#Installation)
- 3配置
  - [3.1添加目标](https://wiki.dolibarr.org/index.php?title=Module_Webhook#Add_a_target)
- [4执行](https://wiki.dolibarr.org/index.php?title=Module_Webhook#Execution)

## 简介

该模块 WebHook 在触发 Dolibarr 事件时，可以将 JSON 消息发送到外部 URL。

## 安装

此模块包含在 Dolibarr 发行版中，因此无需单独安装。

## 配置

要使用此模块，您必须首先使用管理员账户通过菜单选项“ **首页 - 系统设置 - 模块** ”启用它。

选择列出模块的选项卡，然后点击 " **激活** "。

模块现在已激活。

如果模块缩略图上出现齿轮图标 [![Cog circle.svg](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/62d1e5a55d714fb203e6fe1a175f9479.png) ](https://wiki.dolibarr.org/index.php?title=File:Cog_circle.svg)，或模块行末尾出现齿轮图标，点击它以访问该模块的专用设置页面。

### 添加目标

此模块唯一的配置就是添加一个目标。这需要进入模块配置，然后点击目标菜单。接着只需点击页面右上角的加号，填写一个或多个触发事件，并添加我们想要发送 JSON 的网站 URL。您可以在维基页面 [触发事件 ](https://wiki.dolibarr.org/index.php?title=Triggers)上找到有关触发事件的信息。

**示例：**

[![Image of Webhook configuration.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/66243c9566d0b87bd13d584406a7f52f.png)](https://wiki.dolibarr.org/index.php?title=File:Image_of_Webhook_configuration.png)

## 执行

这样设置完成后，每当 Dolibarr 中定义的触发条件发生业务事件时，就会调用目标 URL。消息将是一个 JSON 格式的消息，例如：

```
{
   "triggercode" : "TRIGGER_CODE",
   "object" : {DolibarrObject}
}
```

**Dolibarr 发送的 COMPANY_CREATE 事件执行时的消息示例：**

```
{
   {
     "triggercode":"COMPANY_CREATE",
     "object":
       {
          "id":39,"entity":1,"element":"societe","fk_element":"fk_soc","table_element":"societe","table_element_line":"","ismultientitymanaged":1,
          "import_key":"","array_options":{"options_height":"","options_weight":"","options_prof":"","options_birthdate":false},
          "restrictiononfksoc":1,"context":[],"canvas":"","ref_ext":"","status":"1","country_id":"117","state_id":"0",
          "multicurrency_code":"EUR","note_public":"","note_private":"","comments":[],"name":"Test Webhook",...
       }
   }
}
```

...









​	计划任务模块

[跳到导航](https://wiki.dolibarr.org/index.php?title=计划任务模块#mw-head)[跳到搜索](https://wiki.dolibarr.org/index.php?title=计划任务模块#searchInput)

[返回
用户手册](https://wiki.dolibarr.org/index.php?title=用户手册)
[![File Doc user.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/1867071d98f895f04a47713d99f13b09.png)](https://wiki.dolibarr.org/index.php?title=用户手册)

[返回
标准模块列表](https://wiki.dolibarr.org/index.php?title=Category:标准模块列表)
[![Art.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/bbfabdca9ca9c01c9681ad0474c9ce6d.png)](https://wiki.dolibarr.org/index.php?title=Category:标准模块列表)

| **计划任务** |                                                              |
| ------------ | ------------------------------------------------------------ |
| 模块ID       | 2300                                                         |
| 用户手册     | 本页                                                         |
| 开发文档     | [Module Scheduled Jobs (developer)](https://wiki.dolibarr.org/index.php?title=Module_Scheduled_Jobs_(developer)&action=edit&redlink=1) |

## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E5.AE.89.E8.A3.85)
- 3配置
  - [3.1模块配置](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E6.A8.A1.E5.9D.97.E9.85.8D.E7.BD.AE)
  - 3.2模块的外部激活
    - [3.2.1Unix 环境](https://wiki.dolibarr.org/index.php?title=计划任务模块#Unix_.E7.8E.AF.E5.A2.83)
    - [3.2.2Windows 环境](https://wiki.dolibarr.org/index.php?title=计划任务模块#Windows_.E7.8E.AF.E5.A2.83)
    - [3.2.3Dolibarr 可用的互联网计划任务服务器](https://wiki.dolibarr.org/index.php?title=计划任务模块#Dolibarr_.E5.8F.AF.E7.94.A8.E7.9A.84.E4.BA.92.E8.81.94.E7.BD.91.E8.AE.A1.E5.88.92.E4.BB.BB.E5.8A.A1.E6.9C.8D.E5.8A.A1.E5.99.A8)
- [4管理计划任务](https://wiki.dolibarr.org/index.php?title=计划任务模块#.E7.AE.A1.E7.90.86.E8.AE.A1.E5.88.92.E4.BB.BB.E5.8A.A1)

## 简介

计划任务模块是一个核心的 Dolibarr 模块。它是可选的，是模块列表中的系统组的一部分。

本模块的主要作用是管理按计划执行的作业任务（别名 cron 或 chrono table）。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

[![Scheduled Jobs Module Activation EN.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/f5fde5104de6757e7508261f3509c411.png)](https://wiki.dolibarr.org/index.php?title=File:Scheduled_Jobs_Module_Activation_EN.png)

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。



### 模块配置

[![Module Scheduled Job setup EN.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/605270a4f72f005cc98c804a2c2fc8b3.png)](https://wiki.dolibarr.org/index.php?title=File:Module_Scheduled_Job_setup_EN.png)

唯一可以更改的参数是 URL 上用于启动 cron 作业的安全密钥。

如下链接到：

- 菜单 **“主页 - 管理工具 - 计划任务”** 用于查看和编辑计划任务。
- 用于检查和启动合格 cron 作业的 URL：

http://mydolibarradress/htdocs/public/cron/cron_run_jobs.php?securitykey=xxxxxxxxxxxxxxxxxxxxxxxx&userlogin=admin

- 通过作业 ID 检查和启动特定作业的 URL：

http://mydolibarradress/htdocs/public/cron/cron_run_jobs.php?securitykey=xxxxxxxxxxxxxxxxxxxxxxxx&userlogin=admin&id=cronjobid

### 模块的外部激活

本模块需要每隔 5 分钟从外部激活一次。

根据 Dolibarr 的运行环境，需要遵循的步骤是不同的。

#### Unix 环境

在 Unix 环境中，您应该使用 crontab 条目每 5 分钟运行一次命令行。

#### Windows 环境

在 Windows 中，您必须在 Windows 的任务计划程序中创建新任务。

- **常规：** 不要忘记选中“以最大权限运行”。
- **触发器：** 根据您的PC使用情况选择。
- **操作：**

选择“启动程序”。

然后输入程序/脚本：C:\wamp64\bin\php7.3.12\php.exe

并添加参数：-f C:\wamp64\wwww\dolibarr\scripts\cron\cron_run_jobs.php xxxxxxxxxxxxxxxx admin

参数中的 ‘xxxxxxxxxxxxxxxx’ 是您在计划任务模块管理设置中配置的参数 - 安全密钥，‘admin’是您的会话名称。

参数中指示的路径可能会因系统安装目录和软件版本的不同而不同。

此 Windows 任务将以执行 windows 命令的方式来执行 php.exe，php 启动 dolibarr 进程中的已计划任务。

#### Dolibarr 可用的互联网计划任务服务器

您还可以使用外部的服务，例如：

- https://webcron.dolizen.fr/
- https://cron-job.org/en/

## 管理计划任务

[![Module Schedule Job List EN.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/0756ee16e71066b8b82fdf18b42b74ee.png)](https://wiki.dolibarr.org/index.php?title=File:Module_Schedule_Job_List_EN.png)

使用菜单 **主页 - 管理工具 - 计划任务** ，您可以查看已激活的任务和其上次执行的时间。

您也可以创建新的计划任务。









# 防篡改日志模块


## 目录



- [1简介](https://wiki.dolibarr.org/index.php?title=防篡改日志模块#.E7.AE.80.E4.BB.8B)
- [2安装](https://wiki.dolibarr.org/index.php?title=防篡改日志模块#.E5.AE.89.E8.A3.85)
- [3配置](https://wiki.dolibarr.org/index.php?title=防篡改日志模块#.E9.85.8D.E7.BD.AE)
- 4使用方法
  - [4.1读取已归档的日志](https://wiki.dolibarr.org/index.php?title=防篡改日志模块#.E8.AF.BB.E5.8F.96.E5.B7.B2.E5.BD.92.E6.A1.A3.E7.9A.84.E6.97.A5.E5.BF.97)

## 简介

"防篡改日志"模块允许将某些业务事件记录到不可更改的日志/归档中。事件将实时归档。归档文件是一个只能读取和导出的链式事件表。 因此，该模块提供了用户无法更改的可追溯性功能。

本模块允许您与某些国家的法律要求兼容（例如法国的反增值税欺诈法，称为2016年金融法，有时被错误地称为NF525标准）。请参阅页面 [2016年关于收银机软件和NF525或LNE认证的财政法案](https://wiki.dolibarr.org/index.php?title=Loi_finances_2016_sur_les_logiciels_de_caisse_et_Certification_NF525_ou_LNE) 以获取更多信息）。

## 安装

该模块包含在 Dolibarr 发行版中，因此无需安装。

## 配置

要使用此模块，必须首先使用管理员帐户通过菜单选项 "**主页 - 设置 - 模块**"启用它：

选择列出模块的选项卡。然后点击 "**激活**"。。

模块现在已激活。

如果在该模块的行尾出现一个齿轮图标[![Cog.png](https://cdn.jsdelivr.net/gh/otxtdb/txtdbpic@master/img/08a435f8f1fbdcae854661c59f886b64.png)](https://wiki.dolibarr.org/index.php?title=File:Cog.png)，则单击它以访问特定于模块的设置页面。

## 使用方法

模块被激活后，并没有什么特别的操作要做。应用程序的使用方式就像模块未被激活一样。不同之处在于，一些管理操作将在被称为防篡改日志（表）中进行跟踪。被跟踪的事件如下：

- 录入付款（根据2016年金融法，这种情况在法国是强制性的）
- 停用/重新激活 防篡改日志模块

我们必须理解**防篡改**已尽最大努力降低归档日志被修改的风险。这包括以下几点：

- 应用程序中没有删除或变更行的功能。
- 此日志中的每条记录都受到依赖于记录数据的校验和的保护，如果试图更改记录（例如，在数据库遭到黑客攻击后，数据库被修改），则校验和无效。
- 每个校验和都链接到前一记录的校验和，因此不可能在修改记录的校验和链的情况下，而不使先前的记录无效。
- 可以定义程序签名以验证程序代码的状态，并且使用官方来源的验证工具来识别文件是否已被修改（例如，由于服务器被黑客攻击），使得可以检测到计算机代码是否已被修改以试图绕过防篡改日志机制。

### 读取已归档的日志

要浏览归档事件清单，可使用菜单 **工具 - 防篡改归档/日志** - "防篡改日志"标签页 中提供的工具。

您需要拥有"读取已归档的事件和指纹"的权限才能访问此区域。

您可以按日期筛选并将事件清单导出到CSV文件中。









# 傻瓜使用手册

为促进中用户使用，特编辑本傻瓜使用手册，因首次编辑，如有失误，敬请谅解。

如有任何批评、建议，请您不吝赐教。

## 目录



- 1安装Dolibarr
  - [1.1下载](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E4.B8.8B.E8.BD.BD)
  - 1.2安装
    - [1.2.1第一步 开始](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.AC.AC.E4.B8.80.E6.AD.A5_.E5.BC.80.E5.A7.8B)
    - [1.2.2第二步 安装环境检测](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.AC.AC.E4.BA.8C.E6.AD.A5_.E5.AE.89.E8.A3.85.E7.8E.AF.E5.A2.83.E6.A3.80.E6.B5.8B)
    - [1.2.3第三步 安装设置](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.AC.AC.E4.B8.89.E6.AD.A5_.E5.AE.89.E8.A3.85.E8.AE.BE.E7.BD.AE)
    - [1.2.4确认数据库资料正确](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.A1.AE.E8.AE.A4.E6.95.B0.E6.8D.AE.E5.BA.93.E8.B5.84.E6.96.99.E6.AD.A3.E7.A1.AE)
    - [1.2.5输入管理员帐号及密码](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.BE.93.E5.85.A5.E7.AE.A1.E7.90.86.E5.91.98.E5.B8.90.E5.8F.B7.E5.8F.8A.E5.AF.86.E7.A0.81)
- 2登录
  - [2.1首次登录](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E9.A6.96.E6.AC.A1.E7.99.BB.E5.BD.95)
- [3主界面](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E4.B8.BB.E7.95.8C.E9.9D.A2)
- 4翻译
  - [4.1若查到结果](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.8B.A5.E6.9F.A5.E5.88.B0.E7.BB.93.E6.9E.9C)
  - [4.2若查询无结果](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.8B.A5.E6.9F.A5.E8.AF.A2.E6.97.A0.E7.BB.93.E6.9E.9C)
- 5使用环境
  - [5.1千位分隔符](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E5.8D.83.E4.BD.8D.E5.88.86.E9.9A.94.E7.AC.A6)
- [6启动模块](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E5.90.AF.E5.8A.A8.E6.A8.A1.E5.9D.97)
- [7设置模块](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.AE.BE.E7.BD.AE.E6.A8.A1.E5.9D.97)
- [8组和用户](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.BB.84.E5.92.8C.E7.94.A8.E6.88.B7)
- [9设置默认值](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.AE.BE.E7.BD.AE.E9.BB.98.E8.AE.A4.E5.80.BC)
- [10自定义属性](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E8.87.AA.E5.AE.9A.E4.B9.89.E5.B1.9E.E6.80.A7)
- [11电子邮件](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E7.94.B5.E5.AD.90.E9.82.AE.E4.BB.B6)
- [12地理称呼](https://wiki.dolibarr.org/index.php?title=傻瓜使用手册#.E5.9C.B0.E7.90.86.E7.A7.B0.E5.91.BC)

## 安装Dolibarr

### 下载

官方下载地址：https://www.dolibarr.org/downloads/

下载的软件安装包中，包含下图中的内容。

其中 htdocs 文件夹中，是需要上传至服务器的源代码文件。



### 安装

#### 第一步 开始

在浏览器中输入上传了Dolibarr的地址，开始安装。

首个界面如下：



#### 第二步 安装环境检测

对环境的检测，需要自己手动检测一个数据，数据库的字符集，需要修改为"utf8_general_ci"，此项很**重要**。


开始安装界面点击屏幕正下方的**下一步**按钮，进入安装环境检测界面，如下图。

下图是安装过程中检测到错误的例子

对于上图的错误，意为"配置文件不存在，无法创建！"

实际上是因为服务器安装目录的权限不够，修改安装目录及子目录的权限为777即可。

修改仅限后，回到安装界面，按F5刷新：

按"开始"按钮进入下一步

#### 第三步 安装设置

安装设置界面如下图：


需要填写的包括：

- 数据库地址
- 数据库名称
- 数据库用户名
- 数据库密码

#### 确认数据库资料正确

如图，点击下一步

#### 输入管理员帐号及密码

安装过程的最后，需要您**设置**Dolibarr的管理员帐户及密码，请妥善保管。

## 登录

这是Dolibarr的登录界面，填写安装时最后一步设置的管理员用户及密码，即可以管理员身份登录。

### 首次登录

首次登录，需要设置以下两项：

- 左侧菜单中选择**设置-公司/组织**，设置所有组织名称及国家、货币等信息。修改按钮在页面最下方，如有看不到的情况，请拖动页面。
- 左侧菜单中选择**设置-模块/应用**，设置所需的模块（至少要启用一个模块）

[启动模块](https://wiki.dolibarr.org/index.php?title=启动模块)

## 主界面

Dolibarr的主界面划分为：

- 顶部菜单
- 左侧菜单
- 使用区

## 翻译

Dolibarr 的翻译非常简单，按如下步骤即可轻松实现：

- 复制需要翻译的字符串 例如： *Login Information*
- 左菜单选择**设置-翻译**
- 使用区选择**搜索翻译键值或字符串**标签
- 使用区的**当前翻译字符串**字段中填入复制的字符串，本例为: *Login Information*

### 若查到结果

- 点击查到的结果中，你想翻译的条目右侧的**+**号
- 在**显示新翻译字符串**中输入正确的翻译结果 本例为： *登录信息*

### 若查询无结果

- 把对应单词做为**Key**值，单词的翻译做为要**显示新翻译字符串**填入。


以上即完成了一个字符串的翻译工作。

本次翻译，记录在Dolibarr/langs/zh_CN目录下的相应文件中，你可以通过和好友分享该文件夹来完成翻译工作。

## 使用环境

### 千位分隔符

[千位分隔符](https://wiki.dolibarr.org/index.php?title=千位分隔符)

## 启动模块

[启动模块](https://wiki.dolibarr.org/index.php?title=启动模块)

## 设置模块

[设置模块](https://wiki.dolibarr.org/index.php?title=设置模块)

## 组和用户

[组和用户](https://wiki.dolibarr.org/index.php?title=组和用户)

## 设置默认值

[设置默认值](https://wiki.dolibarr.org/index.php?title=设置默认值)

## 自定义属性

[自定义属性](https://wiki.dolibarr.org/index.php?title=自定义属性)

## 电子邮件

[设置邮件服务器](https://wiki.dolibarr.org/index.php?title=设置邮件服务器)

## 地理称呼

Dolibarr的地理位置按以下分类：

- 国家
- 地区 如英国的英格兰地区，苏格兰地区
- 州/省 如美为的阿拉斯加州，佛罗里达州

以上内容的修改，请选择 **首页-设置-字典库** 选择相应的库进行修改。













​	



























